import{h as g,w as L,x as q,E as w,y as B,z as x,A as M,B as U,C as z,L as G,P as H,D as Y,g as d,q as $,b as O,F as j,R as J,G as T,H as K,I as V,J as Z,j as y,K as Q,M as F,N as W,O as X}from"./runtime.CTyMkRS6.js";import{p as k}from"./if.BpS_0VHs.js";import{c as ee}from"./store.DhdYHDKX.js";import{l as ae}from"./index.BFqC5wTN.js";function ie(r,a,n){g&&L();var f=r,i,t;q(()=>{i!==(i=a())&&(t&&(M(t),t=null),i&&(t=B(()=>n(f,i))))},w),g&&(f=x)}function N(r){for(var a=F,n=F;a!==null&&!(a.f&(j|J));)a=a.parent;try{return T(a),r()}finally{T(n)}}function se(r,a,n,f){var A;var i=(n&K)!==0,t=!ae||(n&V)!==0,p=(n&Z)!==0,C=(n&W)!==0,R=!1,u;p?[u,R]=ee(()=>r[a]):u=r[a];var v=(A=U(r,a))==null?void 0:A.set,s=f,o=!0,m=!1,I=()=>(m=!0,o&&(o=!1,C?s=O(f):s=f),s);u===void 0&&f!==void 0&&(v&&t&&z(),u=I(),v&&v(u));var _;if(t)_=()=>{var e=r[a];return e===void 0?I():(o=!0,m=!1,e)};else{var S=N(()=>(i?y:Q)(()=>r[a]));S.f|=G,_=()=>{var e=d(S);return e!==void 0&&(s=void 0),e===void 0?s:e}}if(!(n&H))return _;if(v){var D=r.$$legacy;return function(e,l){return arguments.length>0?((!t||!l||D||R)&&v(l?_():e),e):_()}}var E=!1,b=!1,P=X(u),c=N(()=>y(()=>{var e=_(),l=d(P);return E?(E=!1,b=!0,l):(b=!1,P.v=e)}));return i||(c.equals=Y),function(e,l){if(arguments.length>0){const h=l?d(c):t&&p?k(e):e;return c.equals(h)||(E=!0,$(P,h),m&&s!==void 0&&(s=h),O(()=>d(c))),e}return d(c)}}export{ie as c,se as p};
