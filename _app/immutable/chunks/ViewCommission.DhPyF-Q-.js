import{d as O,j as L,a as p,t as g,g as K}from"./disclose-version.TbKqxNJi.js";import{p as N,b as Y,d as V,c as a,r as t,s as r,t as x,g as T,a as P,f as U,n as G,e as Q}from"./runtime.CHrGdgHD.js";import{e as A,i as M}from"./each.DPCLWfUA.js";import{s as o}from"./render.CZZNUFKP.js";import{p as z,i as H}from"./if.eqP7gfIA.js";import{p as C,k as W,s as X,c as Z,l as $,n as ee}from"./util.CTWbUTz8.js";import{p as te}from"./props.Cneju1jB.js";import{s as ae,a as se}from"./store.C8UG7p6n.js";import{T as re}from"./Tabs.D_sOgtAn.js";import{M as ie}from"./Milestone.CnrCOJKp.js";import{B as de}from"./BackButtonArrow.B9ggKK4K.js";import{p as ne}from"./stores.nos-t-kg.js";var le=(v,e)=>{e.openRequest(e.request)},oe=g('<tr class="border-b text-sm"><td class="px-4 py-2"><div class="flex flex-col"><span class="font-semibold"> </span> <span class="text-xs text-gray-500"> </span></div></td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"><span class="font-semibold"><!></span></td><td class="px-4 py-2"><button class="apply-button rounded-full bg-orange-500 p-3 px-6 text-white">View Details</button></td></tr>');function ve(v,e){N(e,!0);const i=C("user",{},{id:e.request.artistId});let s=Y(""),d=Y(z({name:"",date:""}));switch(e.request.state.value){case"active":V(s,"Active"),V(d,z(e.request.state.progress.find(b=>b.date!==null)));break;case"cancelled":V(s,"Cancelled");break;case"finished":V(s,"Finished");break;case"pending":V(s,"Pending Acceptance");break;case"rejected":V(s,"Rejected");break;default:V(s,"Pending Acceptance");break}var n=oe(),l=a(n),m=a(l),y=a(m),R=a(y,!0);t(y);var f=r(y,2),D=a(f,!0);t(f),t(m),t(l);var c=r(l),_=a(c,!0);t(c);var h=r(c),q=a(h,!0);x(()=>o(q,new Date(e.request.deadline).toLocaleDateString("en-US",{weekday:"short",day:"2-digit",month:"2-digit",year:"numeric"}))),t(h);var S=r(h),j=a(S),w=a(j);H(w,()=>T(s)==="Active",b=>{var u=L();x(()=>o(u,T(d).name)),p(b,u)},b=>{var u=L();x(()=>o(u,T(s))),p(b,u)}),t(j),t(S);var k=r(S),E=a(k);E.__click=[le,e],t(k),t(n),x(()=>{o(R,e.request.service.title),o(D,i==null?void 0:i.displayName),o(_,e.request.type)}),p(v,n),P()}O(["click"]);var ce=g('<table class="w-full border-collapse text-left"><thead><tr class="border-b text-sm font-medium text-gray-700"><th class="px-4 py-2">SERVICE</th><th class="px-4 py-2">TYPE</th><th class="px-4 py-2">DEADLINE</th><th class="px-4 py-2">STATE</th><th class="px-4 py-2">ACTIONS</th></tr></thead><tbody></tbody></table>');function Ie(v,e){N(e,!0);const i=e.props.requestDB,s=e.props.openRequest;var d=ce(),n=r(a(d));A(n,21,()=>i,M,(l,m)=>{ve(l,{get request(){return T(m)},openRequest:s})}),t(n),t(d),p(v,d),P()}var ue=g('<h2 class="text-lg font-semibold">Milestones</h2> <p class="mb-6 text-sm text-gray-500">* Your money will be held and paid to the artist as per the completion of milestones.</p> <!>',1);function pe(v,e){N(e,!0);const i=e.props.request;var s=ue(),d=r(U(s),4);ie(d,{get selectedService(){return i.service},get currentService(){return i.state}}),p(v,s),P()}var me=g('<span class="font-medium text-gray-900"> </span>'),xe=g('<p class="text-gray-500">No extras selected.</p>'),fe=g('<img alt="Reference" class="h-32 w-full rounded-md border object-cover">'),be=g('<div><div class="grid grid-cols-2 gap-6"><div><div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Type:</span> <span class="font-medium text-gray-900"> </span></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Extras:</span> <div class="text-right"></div></div> <div class="mb-4"><span class="block font-medium text-gray-700">Brief:</span> <textarea readonly="" rows="5" class="mt-1 w-full rounded-md border-gray-300 bg-gray-100 p-2 shadow-sm focus:border-gray-300 focus:ring-0 sm:text-sm"></textarea></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Deadline:</span> <span class="font-medium text-gray-900"> </span></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Add-in Services:</span></div></div> <div><span class="mb-2 block font-medium text-gray-700">References:</span> <div class="grid grid-cols-3 gap-2"></div></div></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-900"> </span></div></div>');function F(v,e){N(e,!0);const i=e.props.request;i.service;const s=i;var d=be(),n=a(d),l=a(n),m=a(l),y=r(a(m),2),R=a(y,!0);t(y),t(m);var f=r(m,2),D=r(a(f),2);A(D,21,()=>i.extras,M,(u,I)=>{var B=me(),J=a(B,!0);t(B),x(()=>o(J,T(I))),p(u,B)},u=>{var I=xe();p(u,I)}),t(D),t(f);var c=r(f,2),_=r(a(c),2);K(_),t(c);var h=r(c,2),q=r(a(h),2),S=a(q);x(()=>o(S,`${s.deadline??""}
                    [${W(s.deadline)??""}]`)),t(q),t(h),G(2),t(l);var j=r(l,2),w=r(a(j),2);A(w,21,()=>s.images,M,(u,I)=>{var B=fe();x(()=>X(B,"src",T(I))),p(u,B)}),t(w),t(j),t(n);var k=r(n,2),E=a(k),b=a(E,!0);x(()=>o(b,Z(s.price))),t(E),t(k),t(d),x(()=>{o(R,i.type),$(_,`${s.brief??""}
                `)}),p(v,d),P()}var ge=(v,e,i,s,d)=>ee(`./profile/${e()?i==null?void 0:i.username:s==null?void 0:s.username}`,d().url.pathname),ye=g("<!> <button>Reject</button> <button>Accept</button>",1),_e=g('<div class="fixed inset-0 z-50 overflow-y-auto bg-white"><div class="relative p-6"><!> <div class="mb-2 ml-2"><h1 class="text-2xl font-bold"> </h1> <button class="text-l text-gray-500"> </button></div> <!></div></div>');function Ne(v,e){N(e,!0);const i=ae(),s=()=>se(ne,"$page",i);let d=te(e,"artistView",3,!1);const n=C("user",{},{id:e.request.artistId}),l=C("user",{},{id:e.request.customerId}),m=d()&&e.request.state.value==="pending";let y=[{label:"Progress",value:1,component:pe,props:{request:e.request}},{label:"Request Summary",value:2,component:F,props:{request:e.request}}];var R=_e(),f=a(R),D=a(f);de(D,{get closeEdit(){return e.closeRequest},buttonText:"View Commission Request"});var c=r(D,2),_=a(c),h=a(_,!0);t(_);var q=r(_,2);q.__click=[ge,d,l,n,s];var S=a(q,!0);t(q),t(c);var j=r(c,2);H(j,()=>!m,w=>{re(w,{items:y})},w=>{var k=ye(),E=U(k),b=Q(()=>({request:e.request}));F(E,{get props(){return T(b)}}),G(4),p(w,k)}),t(f),t(R),x(()=>{o(h,e.request.service.title),o(S,d()?`Requested by: ${l==null?void 0:l.displayName}`:`Service by: ${n==null?void 0:n.displayName}`)}),p(v,R),P()}O(["click"]);export{Ie as D,Ne as V};
