import"./disclose-version.Bg9kRutz.js";import{p as V,am as M,H as A,c as a,b as t,s as r,t as y,k as T,a as E,f as O,n as G,m as J}from"./runtime.Bg64Jrmk.js";import{d as L,j as U,a as b,t as _,r as K}from"./template.nFEuBT-2.js";import{e as C,i as F}from"./each.CCMC36rA.js";import{s as c}from"./render.DxcVzlYI.js";import{i as Y}from"./if.GZK3E1Dr.js";import{p as W}from"./proxy.BIPFQ7So.js";import{u as P,s as Q,a as X,n as Z}from"./util.CfQX7Olw.js";import{p as $}from"./props.Fqppj0pZ.js";import{s as ee,a as te}from"./store.44LE1Vg0.js";import{T as ae}from"./Tabs.oHDLI1dt.js";import{M as se}from"./Milestone.K0irzQRY.js";import{p as re}from"./stores.Cq2W2_-6.js";const je=[{id:1,artistId:2,customerId:1,serviceId:1,state:{value:"pending",progress:[{name:"Sketch",date:null,feedback:"",approval:null,sample:[]},{name:"Base Colour",date:null,feedback:"",approval:null,sample:[]}]},brief:"I WANT A DRAWING OF A CAT",deadline:"2021-12-31",references:[1,2],type:"Full-body",extras:["Character"],fastDelivery:!0,commercialUse:!0,price:650},{id:2,artistId:2,customerId:1,serviceId:1,state:{value:"active",progress:[{name:"Sketch",date:"2021-12-21",feedback:"",approval:!0,sample:[]},{name:"Base Colour",date:null,feedback:"",approval:null,sample:[]}]},brief:"I WANT A DRAWING OF A CAT",deadline:"2021-12-30",references:[1,2],type:"Full-body",extras:["Character"],fastDelivery:!0,commercialUse:!0,price:650}];var ie=(v,e)=>{e.openRequest(e.request)},le=_('<tr class="border-b text-sm"><td class="px-4 py-2"><div class="flex flex-col"><span class="font-semibold"> </span> <span class="text-xs text-gray-500"> </span></div></td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"><span class="font-semibold"><!></span></td><td class="px-4 py-2"><button class="apply-button rounded-full bg-orange-500 p-3 px-6 text-white">View Details</button></td></tr>');function de(v,e){V(e,!0);const i=P.find(m=>m.id===e.request.artistId);let s=M(""),l=M(W({name:"",date:""}));switch(e.request.state.value){case"active":A(s,"Active"),A(l,W(e.request.state.progress.find(m=>m.date!==null)));break;case"cancelled":A(s,"Cancelled");break;case"finished":A(s,"Finished");break;case"pending":A(s,"Pending Acceptance");break;case"rejected":A(s,"Rejected");break;default:A(s,"Pending Acceptance");break}var d=le(),n=a(d),x=a(n),h=a(x),D=a(h,!0);t(h);var g=r(h,2),I=a(g,!0);t(g),t(x),t(n);var u=r(n),q=a(u,!0);t(u);var w=r(u),k=a(w,!0);y(()=>c(k,new Date(e.request.deadline).toLocaleDateString("en-US",{weekday:"short",day:"2-digit",month:"2-digit",year:"numeric"}))),t(w);var R=r(w),S=a(R),o=a(S);Y(o,()=>T(s)==="Active",m=>{var f=U();y(()=>c(f,T(l).name)),b(m,f)},m=>{var f=U();y(()=>c(f,T(s))),b(m,f)}),t(S),t(R);var p=r(R),j=a(p);j.__click=[ie,e],t(p),t(d),y(()=>{c(D,e.request.service.title),c(I,i==null?void 0:i.displayName),c(q,e.request.type)}),b(v,d),E()}L(["click"]);var ne=_('<table class="w-full border-collapse text-left"><thead><tr class="border-b text-sm font-medium text-gray-700"><th class="px-4 py-2">SERVICE</th><th class="px-4 py-2">TYPE</th><th class="px-4 py-2">DEADLINE</th><th class="px-4 py-2">STATE</th><th class="px-4 py-2">ACTIONS</th></tr></thead><tbody></tbody></table>');function Ne(v,e){V(e,!0);const i=e.props.requestDB,s=e.props.openRequest;var l=ne(),d=r(a(l));C(d,21,()=>i,F,(n,x)=>{de(n,{get request(){return T(x)},openRequest:s})}),t(d),t(l),b(v,l),E()}var oe=_('<h2 class="text-lg font-semibold">Milestones</h2> <p class="mb-6 text-sm text-gray-500">* Your money will be held and paid to the artist as per the completion of milestones.</p> <!>',1);function ce(v,e){V(e,!0);const i=e.props.request;var s=oe(),l=r(O(s),4);se(l,{get selectedService(){return i.service},get currentService(){return i.state}}),b(v,s),E()}var ve=_('<span class="font-medium text-gray-900"> </span>'),ue=_('<p class="text-gray-500">No extras selected.</p>'),pe=_('<img alt="Reference" class="h-32 w-full rounded-md border object-cover">'),me=_('<div><div class="grid grid-cols-2 gap-6"><div><div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Type:</span> <span class="font-medium text-gray-900"> </span></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Extras:</span> <div class="text-right"></div></div> <div class="mb-4"><span class="block font-medium text-gray-700">Brief:</span> <textarea readonly="" rows="5" class="mt-1 w-full rounded-md border-gray-300 bg-gray-100 p-2 shadow-sm focus:border-gray-300 focus:ring-0 sm:text-sm"></textarea></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Deadline:</span> <span class="font-medium text-gray-900"> </span></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Add-in Services:</span></div></div> <div><span class="mb-2 block font-medium text-gray-700">References:</span> <div class="grid grid-cols-3 gap-2"></div></div></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-900"> </span></div></div>');function H(v,e){V(e,!0);const i=e.props.request;i.service;const s=i;var l=me(),d=a(l),n=a(d),x=a(n),h=r(a(x),2),D=a(h,!0);t(h),t(x);var g=r(x,2),I=r(a(g),2);C(I,21,()=>i.extras,F,(f,B)=>{var N=ve(),z=a(N,!0);t(N),y(()=>c(z,T(B))),b(f,N)},f=>{var B=ue();b(f,B)}),t(I),t(g);var u=r(g,2),q=r(a(u),2);K(q),t(u);var w=r(u,2),k=r(a(w),2),R=a(k);y(()=>c(R,`${s.deadline??""}
                    [Due in ${Math.ceil((new Date(s.deadline).setHours(0,0,0,0)-new Date().setHours(0,0,0,0))/(1e3*60*60*24))??""} day(s)]`)),t(k),t(w),G(2),t(n);var S=r(n,2),o=r(a(S),2);C(o,21,()=>s.images,F,(f,B)=>{var N=pe();y(()=>Q(N,"src",T(B))),b(f,N)}),t(o),t(S),t(d);var p=r(d,2),j=a(p),m=a(j);t(j),t(p),t(l),y(()=>{c(D,i.type),X(q,`${s.brief??""}
                `),c(m,`${s.price??""} USD`)}),b(v,l),E()}var fe=(v,e,i,s,l)=>Z(`./profile/${e()?i==null?void 0:i.username:s==null?void 0:s.username}`,l().url.pathname),be=_("<!> <button>Reject</button> <button>Accept</button>",1),xe=_('<div class="fixed inset-0 z-50 overflow-y-auto bg-white"><div class="relative p-6"><button class="mb-4 flex items-center text-sm font-bold text-orange-500" aria-label="Back"><i class="fas fa-arrow-left"></i> <span>Back</span></button> <div class="mb-2 ml-2"><h1 class="text-2xl font-bold"> </h1> <button class="text-l text-gray-500"> </button></div> <!></div></div>');function Be(v,e){V(e,!0);const i=ee(),s=()=>te(re,"$page",i);let l=$(e,"artistView",3,!1);const d=P.find(o=>o.id===e.request.artistId),n=P.find(o=>o.id===e.request.customerId),x=l()&&e.request.state.value==="pending";let h=[{label:"Progress",value:1,component:ce,props:{request:e.request}},{label:"Request Summary",value:2,component:H,props:{request:e.request}}];var D=xe(),g=a(D),I=a(g);I.__click=function(...o){var p;(p=e.closeRequest)==null||p.apply(this,o)};var u=r(I,2),q=a(u),w=a(q,!0);t(q);var k=r(q,2);k.__click=[fe,l,n,d,s];var R=a(k,!0);t(k),t(u);var S=r(u,2);Y(S,()=>!x,o=>{ae(o,{items:h})},o=>{var p=be(),j=O(p),m=J(()=>({request:e.request}));H(j,{get props(){return T(m)}}),G(4),b(o,p)}),t(g),t(D),y(()=>{c(w,e.request.service.title),c(R,l()?`Requested by: ${n==null?void 0:n.displayName}`:`Service by: ${d==null?void 0:d.displayName}`)}),b(v,D),E()}L(["click"]);export{Ne as D,Be as V,je as r};
