import{e as y,H as j,I as M,M as u,O as o,N as v,J as h,K as S,j as q}from"./runtime.D41qTSeh.js";import{l as O,e as U,a as c,t as m,b as N}from"./store.CMaJaUna.js";import{a as W,i as x}from"./if.C0zgFsmD.js";import"./disclose-version.Bg9kRutz.js";import{e as A,i as F,b as H}from"./util.BGAg-95Q.js";function I(e,a,r){if(e.multiple)return K(e,a);for(var i of e.options){var t=d(i);if(W(t,a)){i.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function J(e,a){y(()=>{var r=new MutationObserver(()=>{var i=e.__value;I(e,i)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function R(e,a,r=a){var i=!0;O(e,"change",()=>{var t;if(e.multiple)t=[].map.call(e.querySelectorAll(":checked"),d);else{var s=e.querySelector(":checked");t=s&&d(s)}r(t)}),y(()=>{var t=a();if(I(e,t,i),i&&t===void 0){var s=e.querySelector(":checked");s!==null&&(t=d(s),r(t))}e.__value=t,i=!1}),J(e)}function K(e,a){for(var r of e.options)r.selected=~a.indexOf(d(r))}function d(e){return"__value"in e?e.__value:e.value}var L=m('<span class="text-sm text-gray-500">No images uploaded</span>'),z=m('<div class="relative"><img alt="Uploaded reference" class="h-16 w-16 rounded-md border object-cover"> <button class="absolute right-0 top-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white">Ã—</button></div>'),B=m('<p class="mt-2 text-sm text-red-500"> </p>'),C=m('<div class="mt-2 flex h-48 w-full flex-wrap items-center justify-center gap-2 rounded-md border border-dashed border-gray-300 bg-gray-50 p-2"><!> <!></div> <!> <div class="mt-4"><label for="upload-images" class="cursor-pointer rounded bg-orange-500 px-4 py-2 text-sm font-medium text-white hover:bg-orange-600">Upload images</label> <input id="upload-images" type="file" accept="image/*" multiple class="hidden"></div>',1);function T(e,a){j(a,!0);var r=C(),i=M(r),t=u(i);x(t,()=>a.uploadedImages.length===0,l=>{var n=L();c(l,n)});var s=o(t,2);A(s,17,()=>a.uploadedImages,F,(l,n,f)=>{var g=z(),b=u(g),k=o(b,2);k.__click=()=>a.removeImage(f),v(g),h(()=>H(b,"src",q(n))),c(l,g)}),v(i);var _=o(i,2);x(_,()=>a.imageWarningMessage,l=>{var n=B(),f=u(n,!0);v(n),h(()=>N(f,a.imageWarningMessage)),c(l,n)});var p=o(_,2),w=o(u(p),2);w.__change=function(...l){var n;(n=a.handleImageUpload)==null||n.apply(this,l)},v(p),c(e,r),S()}U(["click","change"]);export{T as I,R as b};
