import{a as s,t as d,c as K}from"./disclose-version.TbKqxNJi.js";import{p as V,s as m,a as W,c as n,f as T,g as e,r as l,t as w,j as P,k,e as B}from"./runtime.CHrGdgHD.js";import{s as M}from"./render.CZZNUFKP.js";import{i as u}from"./if.eqP7gfIA.js";import{e as X,i as Y}from"./each.DPCLWfUA.js";import{s as D}from"./class.DWYijzLi.js";import{p as Z}from"./props.Cneju1jB.js";var C=d('<div class="h-3 w-3 rounded-full bg-white"></div>'),$=d("<div></div>"),ee=d('<div class="h-3 w-3 rounded-full bg-white"></div>'),te=d("<div><!></div>"),re=d("<p> </p>"),ae=d('<p class="mt-2 text-sm font-medium text-orange-500"> </p>'),ve=d('<p class="text-xs text-gray-500"> </p>'),se=d('<span class="invisible">-</span>'),oe=d('<p class="text-xs font-bold text-green-600"> </p>'),de=d('<span class="invisible">-</span>'),ie=d("<!> <!> <!>",1),ne=d('<div class="flex flex-col items-center"><!> <!></div> <div></div>',1),le=d('<div class="flex w-full items-center"><div class="relative flex w-full items-center"><div class="flex flex-col items-center"><!> <!></div> <div class="mx-2 h-1 flex-1 bg-orange-500"></div> <!> <div class="flex flex-col items-center"><!> <!></div></div></div>');function ye(L,b){V(b,!0);const N=(r,a)=>{let v=P(()=>k(a==null?void 0:a(),()=>-2,!0));var i=te();const c=B(()=>`flex h-6 w-6 items-center justify-center rounded-full ${O("bg-orange-500","bg-gray-500",e(v))??""}`);var p=n(i);u(p,()=>Object.keys(h()).length===0,f=>{var _=C();s(f,_)},f=>{var _=K(),S=T(_);u(S,()=>h().value==="finished",g=>{var x=$();s(g,x)},g=>{var x=K(),E=T(x);u(E,()=>e(v)===-1||e(v)>=0&&h().progress[e(v)].date===null,A=>{var o=ee();s(A,o)},null,!0),s(g,x)},!0),s(f,_)}),l(i),w(()=>D(i,e(c))),s(r,i)},j=(r,a,v,i,c)=>{let p=P(()=>k(a==null?void 0:a(),()=>-1,!0)),f=P(()=>k(v==null?void 0:v(),"")),_=P(()=>k(i==null?void 0:i(),"")),S=P(()=>k(c==null?void 0:c(),""));var g=ie(),x=T(g);u(x,()=>e(p)!==-2,o=>{var t=re();const y=B(()=>`mt-2 text-sm font-medium ${O("text-orange-500","text-gray-500",e(p))??""}`);var U=n(t,!0);l(t),w(()=>{D(t,e(y)),M(U,e(f))}),s(o,t)},o=>{var t=ae(),y=n(t,!0);l(t),w(()=>M(y,e(f))),s(o,t)});var E=m(x,2);u(E,()=>e(_),o=>{var t=ve(),y=n(t,!0);l(t),w(()=>M(y,e(_))),s(o,t)},o=>{var t=se();s(o,t)});var A=m(E,2);u(A,()=>e(S),o=>{var t=oe(),y=n(t,!0);l(t),w(()=>M(y,e(S))),s(o,t)},o=>{var t=de();s(o,t)}),s(r,g)};let h=Z(b,"currentService",19,()=>({}));const O=(r,a,v=-1)=>Object.keys(h()).length===0||h().value==="finished"||v!==-1&&(v===-2||h().progress[v].date!==null)?r:a;var q=le(),F=n(q),z=n(F),G=n(z);N(G);var Q=m(G,2);u(Q,()=>b.selectedService.downpayment.payment.enabled===!1,r=>{j(r,()=>-2,()=>"Start",()=>"Start of Project",()=>"")},r=>{j(r,()=>-2,()=>"Start",()=>"Start of Project",()=>`Pay ${b.selectedService.downpayment.payment.value}%`)}),l(z);var H=m(z,4);X(H,17,()=>b.selectedService.milestones,Y,(r,a,v)=>{var i=ne(),c=T(i),p=n(c);N(p,()=>v);var f=m(p,2);j(f,()=>v,()=>e(a).name,()=>e(a).duration?`${e(a).duration.value} ${e(a).duration.unit}`:"",()=>e(a).payment?`Pay ${e(a).payment.value}%`:""),l(c);var _=m(c,2);const S=B(()=>`mx-2 h-1 flex-1 ${O("bg-orange-500","bg-gray-500",v)??""}`);w(()=>D(_,e(S))),s(r,i)});var I=m(H,2),J=n(I);N(J,()=>-1);var R=m(J,2);u(R,()=>b.selectedService.milestones.filter(r=>r.payment.value>=100).length>0,r=>{j(r,()=>-1,()=>"End",()=>"End of Project",()=>"")},r=>{j(r,()=>-1,()=>"End",()=>"End of Project",()=>"Pay 100%")}),l(I),l(F),l(q),s(L,q),W()}export{ye as M};
