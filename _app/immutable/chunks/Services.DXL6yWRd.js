import"./disclose-version.Bg9kRutz.js";import{p as L,a as P,k as a,c as o,s as l,b as s,t as S,m as U}from"./runtime.Bg64Jrmk.js";import{s as k}from"./render.DxcVzlYI.js";import{i as x}from"./if.GZK3E1Dr.js";import{e as q,i as z}from"./each.CCMC36rA.js";import{d as A,a as n,t as p}from"./template.nFEuBT-2.js";import{s as H,n as I}from"./util.CfQX7Olw.js";import{p as b}from"./props.Fqppj0pZ.js";import{s as J,a as K}from"./store.44LE1Vg0.js";import{p as N}from"./stores.Cq2W2_-6.js";var Q=p('<span class="absolute right-2 top-2 rounded bg-red-600 px-2 py-1 text-xs font-bold text-white">CLOSED</span>'),R=p('<span class="rounded bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-600">Fast Delivery</span>'),V=p('<span class="rounded bg-orange-100 px-2 py-1 text-xs font-medium text-orange-600">Commercial</span>'),W=p('<button class="service flex flex-col rounded-lg border border-gray-200 p-4 shadow-sm"><div class="relative w-full"><img alt="Service Thumbnail" class="h-48 w-full rounded-md object-cover"> <!></div> <div class="mt-4"><h4 class="text-lg font-semibold"> </h4> <p class="mt-2 text-green-600"> </p> <div class="mt-3 flex flex-wrap items-center gap-2"><!> <!></div></div></button>'),X=p('<div class="service-grid mt-4 grid grid-cols-2 gap-4"></div>');function lt(O,i){L(i,!0);const B=J(),C=()=>K(N,"$page",B);let d=b(i,"serviceDB",7),_=b(i,"filter",3,null),G=b(i,"viewOnly",3,!0);d(_()?d().filter(c=>c.state===_()):d());var v=X();q(v,21,d,z,(c,e)=>{var m=W(),M=U(()=>G()?()=>I(`./service/${a(e).id}`,C().url.pathname):()=>i.callback(a(e)));m.__click=function(...t){var r;(r=a(M))==null||r.apply(this,t)};var f=o(m),h=o(f),T=l(h,2);x(T,()=>!a(e).isOpen,t=>{var r=Q();n(t,r)}),s(f);var y=l(f,2),u=o(y),j=o(u,!0);s(u);var g=l(u,2),E=o(g,!0);S(()=>k(E,a(e).types.length>0?`SGD ${Math.min(...a(e).types.map(t=>t.price))} ~ SGD ${Math.max(...a(e).types.map(t=>t.price))}`:"Price not set")),s(g);var w=l(g,2),D=o(w);x(D,()=>{var t;return(t=a(e).fastDelivery)==null?void 0:t.enabled},t=>{var r=R();n(t,r)});var F=l(D,2);x(F,()=>{var t;return(t=a(e).commercialUse)==null?void 0:t.enabled},t=>{var r=V();n(t,r)}),s(w),s(y),s(m),S(()=>{H(h,"src","/src/lib/assets/thumbnail/"+a(e).thumbnail),k(j,a(e).title)}),n(c,m)}),s(v),n(O,v),P()}A(["click"]);export{lt as S};
