import{h as f}from"./runtime.CHrGdgHD.js";import{l}from"./disclose-version.TbKqxNJi.js";import{a as o}from"./if.eqP7gfIA.js";function v(e,t,u){if(e.multiple)return d(e,t);for(var n of e.options){var r=i(n);if(o(r,t)){n.selected=!0;return}}(!u||t!==void 0)&&(e.selectedIndex=-1)}function _(e,t){f(()=>{var u=new MutationObserver(()=>{var n=e.__value;v(e,n)});return u.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{u.disconnect()}})}function b(e,t,u=t){var n=!0;l(e,"change",()=>{var r;if(e.multiple)r=[].map.call(e.querySelectorAll(":checked"),i);else{var a=e.querySelector(":checked");r=a&&i(a)}u(r)}),f(()=>{var r=t();if(v(e,r,n),n&&r===void 0){var a=e.querySelector(":checked");a!==null&&(r=i(a),u(r))}e.__value=r,n=!1}),_(e)}function d(e,t){for(var u of e.options)u.selected=~t.indexOf(i(u))}function i(e){return"__value"in e?e.__value:e.value}export{b};
