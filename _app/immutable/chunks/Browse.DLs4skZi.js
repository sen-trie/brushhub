import{d as $,a as p,t as v,s as x}from"./disclose-version.CSxEiuyN.js";import{p as tt,f as rt,a as et,g as a,b as at,c as l,t as d,s as n,r as s,d as q}from"./runtime.yDkJktn_.js";import{i as h}from"./if.B3MD_1yl.js";import{e as N,i as U}from"./each.CJeE_QmZ.js";import{p as E,s as C,w as ot,a as W,i as st}from"./db.CVRkyNLs.js";import{s as S}from"./class.BR4QoFxp.js";import{p as it}from"./proxy.C9ShvAXK.js";import{p as T}from"./props.zMKOg1SH.js";import{s as lt,a as nt}from"./store.C4Ox36Mk.js";import{n as dt}from"./util.DwkNCAbs.js";import{p as ct}from"./stores.BJiaVv6j.js";const pt=(u,r,g)=>{var _;const k=E("user",{},{id:(_=a(r))==null?void 0:_.artist});dt(`./profile/${k.username}`,g().url.pathname)};function X(u,r){q(r,null)}var vt=(u,r,g)=>r(a(g)),ut=v('<span class="absolute left-2 top-2 rounded bg-gray-700 px-2 py-1 text-xs text-white">Closed</span>'),mt=v('<button type="button" aria-label="View artwork details"><img alt="Artwork"> <!></button>'),gt=v('<img alt="Artwork">'),_t=u=>u.stopImmediatePropagation(),ft=v('<span class="rounded bg-orange-100 px-2 py-1 text-xs font-medium text-orange-600"> </span>'),bt=v('<button class="mt-4 block rounded-lg bg-orange-500 px-4 py-2 text-center font-medium text-white">To Artist Profile</button>'),wt=v(`<div class="fixed inset-0 z-50 flex items-center justify-center 
                !bg-black !bg-opacity-50 dark:!bg-opacity-65" role="dialog" aria-modal="true"><div class="relative w-2/3 rounded-lg p-6 shadow-lg dark:bg-stone-800 border-2 colour-border" role="dialog" aria-labelledby="modal-title" aria-describedby="modal-description"><button class="absolute right-2 top-2 w-8 h-8 flex items-center justify-center rounded-full 
                        bg-red-500 text-white hover:bg-red-600 text-lg" aria-label="Close popup">X</button> <div class="flex"><img alt="Artwork" class="h-64 w-64 rounded-md object-cover"> <div class="ml-6"><h2 class="text-2xl font-bold"> </h2> <p> </p> <p class="mt-2 text-sm"> </p> <div class="mt-4 flex flex-wrap gap-2"></div> <!></div></div></div></div>`),xt=v('<div class="grid grid-cols-4 gap-4"></div> <!> <!>',1);function Tt(u,r){tt(r,!0);const g=lt(),k=()=>nt(ct,"$page",g);let _=T(r,"showArtist",3,!0),V=T(r,"size",3,48),I=T(r,"artViewOnly",3,!1),o=at(null);const O=st("artwork"),F=t=>E("artist",{},{id:t});function G(t){typeof t!="string"&&q(o,it(t))}function H(t){return typeof t=="string"&&t.startsWith("data:image")?t:W("artwork",t.imgSrc,O)}var L=xt(),y=rt(L);N(y,21,()=>r.artDB,U,(t,e)=>{var i=mt();i.__click=[vt,G,e];var m=l(i);d(()=>C(m,"src",H(a(e))));var f=n(m,2);h(f,()=>{var c;return!((c=F(a(e).artist))!=null&&c.openCommission)&&!I()},c=>{var b=ut();p(c,b)}),s(i),d(()=>{S(i,`relative w-full overflow-hidden rounded-lg colour-border border-2 bg-white shadow
                   ${(I()?"cursor-default":"cursor-pointer")??""}`),S(m,`h-${V()??""} w-full object-cover`)}),p(t,i)}),s(y);var M=n(y,2);h(M,()=>r.artDB.length===0,t=>{var e=gt();d(()=>C(e,"src",ot("artwork",""))),d(()=>S(e,`h-${V()??""} w-full object-contain`)),p(t,e)});var J=n(M,2);h(J,()=>a(o),t=>{var e=wt();e.__click=[X,o];var i=l(e);i.__click=[_t];var m=l(i);m.__click=[X,o];var f=n(m,2),c=l(f);d(()=>C(c,"src",W("artwork",a(o).imgSrc,O)));var b=n(c,2),A=l(b),K=l(A,!0);s(A);var P=n(A,2),Q=l(P,!0);s(P);var D=n(P,2),R=l(D,!0);d(()=>x(R,a(o).datePosted?"Posted on: "+new Date(a(o).datePosted).toLocaleDateString():"")),s(D);var j=n(D,2);N(j,21,()=>a(o).tags,U,(B,w)=>{var z=ft(),Z=l(z);s(z),d(()=>x(Z,`#${a(w)??""}`)),p(B,z)}),s(j);var Y=n(j,2);h(Y,_,B=>{var w=bt();w.__click=[pt,o,k],p(B,w)}),s(b),s(f),s(i),s(e),d(()=>{x(K,a(o).title||"Untitled Artwork"),x(Q,a(o).description||"No description available.")}),p(t,e)}),p(u,L),et()}$(["click"]);export{Tt as B};
