import{a as s,t as i,c as J,s as T}from"./disclose-version.BE_RHt7t.js";import{p as U,j,a as V,c,g as a,r as _,t as P,s as u,n as K,k,l as E,e as A}from"./runtime.CN-Xrd-W.js";import{i as f}from"./if.DakFUcz9.js";import{e as W,i as X}from"./each.-eFyfI3H.js";import{s as B}from"./class.YwXVpuit.js";import{p as Y}from"./props.CZekZOSG.js";var Z=i('<div class="h-3 w-3 rounded-full !bg-white"></div>'),C=i("<div></div>"),$=i('<div class="h-3 w-3 rounded-full !bg-white"></div>'),ee=i("<div><!></div>"),te=i("<p> </p>"),ae=i('<p class="mt-2 text-sm font-medium text-orange-500"> </p>'),re=i('<p class="text-xs"> </p>'),ve=i('<span class="invisible">-</span>'),se=i('<p class="text-xs font-bold green-text"> </p>'),de=i('<span class="invisible">-</span>'),ne=i("<!> <!> <!>",1),ie=i('<div class="flex flex-col items-center"><!> <!></div> <div class="mx-2 w-64 h-1 flex-1 !bg-orange-500"></div>',1),oe=i('<div class="flex flex-col items-center"><div class="flex h-6 w-6 items-center justify-center rounded-full !bg-gray-500"><div class="h-3 w-3 rounded-full !bg-white"></div></div> <!></div> <div class="mx-2 w-64 h-1 flex-1 !bg-gray-500"></div>',1),le=i('<div class="flex flex-col items-center"><!> <!></div> <div></div>',1),ce=i('<div class="flex items-center text-center"><div class="relative flex items-center"><!> <!> <div class="flex flex-col items-center"><!> <!></div></div></div>');function ye(L,p){U(p,!0);const M=(v,e)=>{let t=k(()=>E(e==null?void 0:e(),()=>-2,!0));var d=ee();const n=A(()=>`flex h-6 w-6 items-center justify-center rounded-full ${N("!bg-orange-500","!bg-gray-500",a(t))??""}`);var l=c(d);f(l,()=>Object.keys(x()).length===0,y=>{var m=Z();s(y,m)},y=>{var m=J(),g=j(m);f(g,()=>x().value==="finished",w=>{var h=C();s(w,h)},w=>{var h=J(),O=j(h);f(O,()=>a(t)===-1||a(t)>=0&&x().progress[a(t)].date===null,z=>{var o=$();s(z,o)},null,!0),s(w,h)},!0),s(y,m)}),_(d),P(()=>B(d,a(n))),s(v,d)},b=(v,e,t,d,n)=>{let l=k(()=>E(e==null?void 0:e(),()=>-1,!0)),y=k(()=>E(t==null?void 0:t(),"")),m=k(()=>E(d==null?void 0:d(),"")),g=k(()=>E(n==null?void 0:n(),""));var w=ne(),h=j(w);f(h,()=>a(l)!==-2,o=>{var r=te();const S=A(()=>`mt-2 text-sm font-medium ${N("text-orange-500","",a(l))??""}`);var R=c(r,!0);_(r),P(()=>{B(r,a(S)),T(R,a(y))}),s(o,r)},o=>{var r=ae(),S=c(r,!0);_(r),P(()=>T(S,a(y))),s(o,r)});var O=u(h,2);f(O,()=>a(m),o=>{var r=re(),S=c(r,!0);_(r),P(()=>T(S,a(m))),s(o,r)},o=>{var r=ve();s(o,r)});var z=u(O,2);f(z,()=>a(g),o=>{var r=se(),S=c(r,!0);_(r),P(()=>T(S,a(g))),s(o,r)},o=>{var r=de();s(o,r)}),s(v,w)};let x=Y(p,"currentService",19,()=>({}));const N=(v,e,t=-1)=>Object.keys(x()).length===0||x().value==="finished"||t!==-1&&(t===-2||x().progress[t].date!==null)?v:e;var q=ce(),D=c(q),F=c(D);f(F,()=>Object.keys(x()).length===0||x().value!=="rejected",v=>{var e=ie(),t=j(e),d=c(t);M(d);var n=u(d,2);f(n,()=>p.selectedService.downpayment.payment.enabled===!1,l=>{b(l,()=>-2,()=>"Start",()=>"Start of Project",()=>"")},l=>{b(l,()=>-2,()=>"Start",()=>"Start of Project",()=>`Pay ${p.selectedService.downpayment.payment.value}%`)}),_(t),K(2),s(v,e)},v=>{var e=oe(),t=j(e),d=u(c(t),2);f(d,()=>p.selectedService.downpayment.payment.enabled===!1,n=>{b(n,()=>-2,()=>"Start",()=>"Start of Project",()=>"")},n=>{b(n,()=>-2,()=>"Start",()=>"Start of Project",()=>`Pay ${p.selectedService.downpayment.payment.value}%`)}),_(t),K(2),s(v,e)});var G=u(F,2);W(G,17,()=>p.selectedService.milestones,X,(v,e,t)=>{var d=le(),n=j(d),l=c(n);M(l,()=>t);var y=u(l,2);b(y,()=>t,()=>a(e).name,()=>a(e).duration?`${a(e).duration.value} ${a(e).duration.unit}`:"",()=>a(e).payment?`Pay ${a(e).payment.value}%`:""),_(n);var m=u(n,2);const g=A(()=>`mx-2 h-1 flex-1 ${N("!bg-orange-500","!bg-gray-500",t)??""}`);P(()=>B(m,a(g))),s(v,d)});var H=u(G,2),I=c(H);M(I,()=>-1);var Q=u(I,2);f(Q,()=>p.selectedService.milestones.filter(v=>v.payment.value>=100).length>0,v=>{b(v,()=>-1,()=>"End",()=>"End of Project",()=>"")},v=>{b(v,()=>-1,()=>"End",()=>"End of Project",()=>"Pay 100%")}),_(H),_(D),_(q),s(L,q),V()}export{ye as M};
