import{f as R,u as S,aj as Y,Y as C,g as f,d as F,Z as K,a4 as M,ak as Z,al as $,am as N,an as j,ao as D,ap as z,aq as G,ar as L,as as H,ai as V,at as y,au as J,e as T,k as Q,L as q,av as W}from"./runtime.CN-Xrd-W.js";import{p as X}from"./proxy.D0RktEAV.js";function k(e,r,n){if(e==null)return r(void 0),R;const u=S(()=>e.subscribe(r,n));return u.unsubscribe?()=>u.unsubscribe():u}let v=!1;function ae(e,r,n){const u=n[r]??(n[r]={store:null,source:C(void 0),unsubscribe:R});if(u.store!==e)if(u.unsubscribe(),u.store=e??null,e==null)u.source.v=void 0,u.unsubscribe=R;else{var _=!0;u.unsubscribe=k(e,a=>{_?u.source.v=a:F(u.source,a)}),_=!1}return f(u.source)}function ie(){const e={};return Y(()=>{for(var r in e)e[r].unsubscribe()}),e}function ee(e){var r=v;try{return v=!1,[e(),v]}finally{v=r}}const re={get(e,r){if(!e.exclude.includes(r))return f(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,n){return r in e.special||(e.special[r]=ue({get[r](){return e.props[r]}},r,N)),e.special[r](n),D(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},deleteProperty(e,r){return e.exclude.includes(r)||(e.exclude.push(r),D(e.version)),!0},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function fe(e,r){return new Proxy({props:e,exclude:r,special:{},version:K(0)},re)}function B(e){for(var r=q,n=q;r!==null&&!(r.f&(z|G));)r=r.parent;try{return L(r),e()}finally{L(n)}}function ue(e,r,n,u){var A;var _=(n&H)!==0,a=!V||(n&y)!==0,h=(n&J)!==0,g=(n&W)!==0,m=!1,l;h?[l,m]=ee(()=>e[r]):l=e[r];var o=(A=M(e,r))==null?void 0:A.set,i=u,p=!0,b=!1,w=()=>(b=!0,p&&(p=!1,g?i=S(u):i=u),i);l===void 0&&u!==void 0&&(o&&a&&Z(),l=w(),o&&o(l));var t;if(a)t=()=>{var s=e[r];return s===void 0?w():(p=!0,b=!1,s)};else{var x=B(()=>(_?T:Q)(()=>e[r]));x.f|=$,t=()=>{var s=f(x);return s!==void 0&&(i=void 0),s===void 0?i:s}}if(!(n&N))return t;if(o){var U=e.$$legacy;return function(s,c){return arguments.length>0?((!a||!c||U||m)&&o(c?t():s),s):t()}}var P=!1,O=!1,E=C(l),d=B(()=>T(()=>{var s=t(),c=f(E);return P?(P=!1,O=!0,c):(O=!1,E.v=s)}));return _||(d.equals=j),function(s,c){if(arguments.length>0){const I=c?f(d):a&&h?X(s):s;return d.equals(I)||(P=!0,F(E,I),b&&i!==void 0&&(i=I),S(()=>f(d))),s}return f(d)}}export{ae as a,fe as l,ue as p,ie as s};
