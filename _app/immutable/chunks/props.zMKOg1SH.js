import{A as N,B as q,C as K,L as M,P as B,D as U,g as f,d as G,u as x,F as w,G as H,R as Y,H as A,I as $,J as z,K as J,M as Q,e as D,k as V,N as L,O as Z,Q as g}from"./runtime.yDkJktn_.js";import{p as j}from"./proxy.C9ShvAXK.js";import{c as W}from"./store.C4Ox36Mk.js";const X={get(r,e){if(!r.exclude.includes(e))return f(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,u){return e in r.special||(r.special[e]=y({get[e](){return r.props[e]}},e,B)),r.special[e](u),w(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),w(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function ne(r,e){return new Proxy({props:r,exclude:e,special:{},version:N(0)},X)}function T(r){for(var e=L,u=L;e!==null&&!(e.f&(H|Y));)e=e.parent;try{return A(e),r()}finally{A(u)}}function y(r,e,u,c){var O;var I=(u&$)!==0,v=!z||(u&J)!==0,R=(u&Q)!==0,C=(u&Z)!==0,h=!1,s;R?[s,h]=W(()=>r[e]):s=r[e];var t=(O=q(r,e))==null?void 0:O.set,a=c,d=!0,o=!1,E=()=>(o=!0,d&&(d=!1,C?a=x(c):a=c),a);s===void 0&&c!==void 0&&(t&&v&&K(),s=E(),t&&t(s));var i;if(v)i=()=>{var n=r[e];return n===void 0?E():(d=!0,o=!1,n)};else{var S=T(()=>(I?D:V)(()=>r[e]));S.f|=M,i=()=>{var n=f(S);return n!==void 0&&(a=void 0),n===void 0?a:n}}if(!(u&B))return i;if(t){var F=r.$$legacy;return function(n,l){return arguments.length>0?((!v||!l||F||h)&&t(l?i():n),n):i()}}var p=!1,b=!1,P=g(s),_=T(()=>D(()=>{var n=i(),l=f(P);return p?(p=!1,b=!0,l):(b=!1,P.v=n)}));return I||(_.equals=U),function(n,l){if(arguments.length>0){const m=l?f(_):v&&R?j(n):n;return _.equals(m)||(p=!0,G(P,m),o&&a!==void 0&&(a=m),x(()=>f(_))),n}return f(_)}}export{ne as l,y as p};
