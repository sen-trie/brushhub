import{d as $,a as p,t as v,s as x}from"./disclose-version.CO6q0Qfh.js";import{p as tt,f as at,b as rt,d as l,g as e,s as et,c as n,t as d,r as s,a as E}from"./runtime.DMxaCD9P.js";import{i as h}from"./if.CoD_4mrj.js";import{e as N,i as U}from"./each.DPKI_RZ5.js";import{p as F,s as C,w as ot,b as W,i as st}from"./db.CoitI51B.js";import{s as S}from"./class.DBFJk8qm.js";import{p as it}from"./proxy.Dv8l_DbE.js";import{p as T}from"./props.DNKDIsES.js";import{s as lt,a as nt}from"./store.BFnuxyNy.js";import{n as dt}from"./util.Cz9rOmTz.js";import{p as ct}from"./stores.UvzRrkDz.js";const pt=(u,a,g)=>{var _;const k=F("user",{},{id:(_=e(a))==null?void 0:_.artist});dt(`./profile/${k.username}`,g().url.pathname)};function q(u,a){E(a,null)}var vt=(u,a,g)=>a(e(g)),ut=v('<span class="absolute left-2 top-2 rounded bg-gray-700 px-2 py-1 text-xs text-white">Closed</span>'),mt=v('<button type="button" aria-label="View artwork details"><img alt="Artwork"> <!></button>'),gt=v('<img alt="Artwork">'),_t=u=>u.stopImmediatePropagation(),ft=v('<span class="rounded bg-orange-100 px-2 py-1 text-xs font-medium text-orange-600"> </span>'),bt=v('<button class="mt-4 block rounded-lg bg-orange-500 px-4 py-2 text-center font-medium text-white">To Artist Profile</button>'),wt=v('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50" role="dialog" aria-modal="true"><div class="relative w-2/3 rounded-lg bg-white p-6 shadow-lg" role="dialog" aria-labelledby="modal-title" aria-describedby="modal-description"><button class="absolute right-2 top-2 rounded-full bg-red-500 p-2 text-white" aria-label="Close popup"><i class="fas fa-times"></i></button> <div class="flex"><img alt="Artwork" class="h-64 w-64 rounded-md object-cover"> <div class="ml-6"><h2 class="text-2xl font-bold"> </h2> <p class="text-gray-600"> </p> <p class="mt-2 text-sm text-gray-500"> </p> <div class="mt-4 flex flex-wrap gap-2"></div> <!></div></div></div></div>'),xt=v('<div class="grid grid-cols-4 gap-4"></div> <!> <!>',1);function Tt(u,a){tt(a,!0);const g=lt(),k=()=>nt(ct,"$page",g);let _=T(a,"showArtist",3,!0),V=T(a,"size",3,48),I=T(a,"artViewOnly",3,!1),o=et(null);const O=st("artwork"),G=t=>F("artist",{},{id:t});function H(t){typeof t!="string"&&E(o,it(t))}function J(t){return typeof t=="string"&&t.startsWith("data:image")?t:W("artwork",t.imgSrc,O)}var L=xt(),y=at(L);N(y,21,()=>a.artDB,U,(t,r)=>{var i=mt();i.__click=[vt,H,r];var m=n(i);d(()=>C(m,"src",J(e(r))));var f=l(m,2);h(f,()=>{var c;return!((c=G(e(r).artist))!=null&&c.openCommission)&&!I()},c=>{var b=ut();p(c,b)}),s(i),d(()=>{S(i,`relative w-full overflow-hidden rounded-lg border bg-white shadow
                   ${(I()?"cursor-default":"cursor-pointer")??""}`),S(m,`h-${V()??""} w-full object-cover`)}),p(t,i)}),s(y);var M=l(y,2);h(M,()=>a.artDB.length===0,t=>{var r=gt();d(()=>C(r,"src",ot("artwork",""))),d(()=>S(r,`h-${V()??""} w-full object-contain`)),p(t,r)});var K=l(M,2);h(K,()=>e(o),t=>{var r=wt();r.__click=[q,o];var i=n(r);i.__click=[_t];var m=n(i);m.__click=[q,o];var f=l(m,2),c=n(f);d(()=>C(c,"src",W("artwork",e(o).imgSrc,O)));var b=l(c,2),A=n(b),Q=n(A,!0);s(A);var P=l(A,2),R=n(P,!0);s(P);var D=l(P,2),X=n(D,!0);d(()=>x(X,e(o).datePosted?"Posted on: "+new Date(e(o).datePosted).toLocaleDateString():"")),s(D);var B=l(D,2);N(B,21,()=>e(o).tags,U,(j,w)=>{var z=ft(),Z=n(z);s(z),d(()=>x(Z,`#${e(w)??""}`)),p(j,z)}),s(B);var Y=l(B,2);h(Y,_,j=>{var w=bt();w.__click=[pt,o,k],p(j,w)}),s(b),s(f),s(i),s(r),d(()=>{x(Q,e(o).title||"Untitled Artwork"),x(R,e(o).description||"No description available.")}),p(t,r)}),p(u,L),rt()}$(["click"]);export{Tt as B};
