import{d as $,a as v,t as f,s as w}from"./disclose-version.BE_RHt7t.js";import{p as tt,j as et,a as rt,g as s,b as at,c as o,t as c,s as n,r,d as E}from"./runtime.CN-Xrd-W.js";import{i as x}from"./if.DakFUcz9.js";import{e as L,i as U}from"./each.-eFyfI3H.js";import{p as F,s as D,w as ot,a as st,i as it}from"./db.BqJzHrVC.js";import{s as S}from"./class.YwXVpuit.js";import{p as lt}from"./proxy.D0RktEAV.js";import{p as h}from"./props.CZekZOSG.js";import{I as nt,X as dt}from"./Icon.B0LxGozR.js";import{n as mt}from"./util.-R7EWw9I.js";import{p as ct}from"./index.D7yhRKMk.js";function pt(d,e){let p=h(e,"size",3,"24");nt(d,{src:dt,get size(){return p()}})}const ut=(d,e)=>{var g;const p=F("user",{},{id:(g=s(e))==null?void 0:g.artist});mt(`./profile/${p.username}`,ct.url.pathname)};function q(d,e){E(e,null)}var vt=(d,e,p)=>e(s(p)),ft=f('<span class="absolute left-2 top-2 rounded bg-gray-700 px-2 py-1 text-xs text-white">Closed</span>'),gt=f('<button type="button" aria-label="View artwork details"><img alt="Artwork"> <!></button>'),_t=f('<img alt="Artwork">'),bt=d=>d.stopImmediatePropagation(),wt=f('<span class="rounded bg-orange-100 px-2 py-1 text-xs font-medium text-orange-600"> </span>'),xt=f(`<button class="mt-4 block rounded-lg bg-orange-500 px-4 py-2 
                                        text-center font-medium text-white">To Artist Profile</button>`),ht=f(`<div class="modal-pop" role="dialog" aria-modal="true"><div class="relative rounded-lg shadow-lg dark:bg-stone-800 border-2 colour-border flex 
                     w-5/6 sm:w-auto sm:max-w-[90%] p-2 sm:p-6 sm:pr-16" role="dialog" aria-labelledby="modal-title" aria-describedby="modal-description"><button class="absolute right-2 top-2 w-8 h-8 flex items-center justify-center rounded-full 
                        bg-red-500 text-white hover:bg-red-600 text-lg" aria-label="Close popup"><!></button> <div class="flex flex-col sm:flex-row justify-center"><img alt="Artwork" class="h-64 sm:h-[30rem] sm:max-w-[50vw] w-auto rounded-md object-contain
                           mt-2 sm:mt-0"> <div class="p-2 sm:p-0 ml-0 sm:ml-6 flex flex-col justify-between sm:max-w-[25vw] "><div><h2 class="text-xl font-bold"> </h2> <p> </p> <p class="mt-2 text-sm"> </p> <div class="mt-4 flex flex-wrap gap-2"></div></div> <div><!></div></div></div></div></div>`),kt=f("<!> <!> <!>",1);function Vt(d,e){tt(e,!0);let p=h(e,"showArtist",3,!0),g=h(e,"size",3,48),C=h(e,"artViewOnly",3,!1),i=at(null);const G=it("artwork"),H=t=>F("artist",{},{id:t});function J(t){typeof t!="string"&&E(i,lt(t))}function I(t){return typeof t=="string"&&t.startsWith("data:image")?t:typeof t=="object"&&t!==null&&!Array.isArray(t)&&t.imgSrc&&typeof t.imgSrc=="string"&&t.imgSrc.startsWith("data:image")?t.imgSrc:st("artwork",t.imgSrc,G)}var T=kt(),V=et(T);L(V,17,()=>e.artDB,U,(t,a)=>{var l=gt();l.__click=[vt,J,a];var m=o(l);c(()=>D(m,"src",I(s(a))));var k=n(m,2);x(k,()=>{var u;return!((u=H(s(a).artist))!=null&&u.openCommission)&&!C()},u=>{var _=ft();v(u,_)}),r(l),c(()=>{S(l,`relative w-full overflow-hidden rounded-lg colour-border border-2 bg-white shadow
                ${(C()?"cursor-default":"cursor-pointer")??""}`),S(m,`h-${g()??""} w-full object-cover`)}),v(t,l)});var M=n(V,2);x(M,()=>e.artDB.length===0,t=>{var a=_t();c(()=>D(a,"src",ot("artwork",""))),c(()=>S(a,`h-${g()??""} w-full object-contain`)),v(t,a)});var K=n(M,2);x(K,()=>s(i),t=>{var a=ht();a.__click=[q,i];var l=o(a);l.__click=[bt];var m=o(l);m.__click=[q,i];var k=o(m);pt(k,{size:"20"}),r(m);var u=n(m,2),_=o(u);c(()=>D(_,"src",I(s(i))));var O=n(_,2),y=o(O),A=o(y),N=o(A,!0);r(A);var j=n(A,2),Q=o(j,!0);r(j);var P=n(j,2),R=o(P,!0);c(()=>w(R,s(i).datePosted?"Posted: "+new Date(s(i).datePosted).toLocaleDateString():"")),r(P);var W=n(P,2);L(W,21,()=>s(i).tags,U,(z,b)=>{var B=wt(),Z=o(B);r(B),c(()=>w(Z,`#${s(b)??""}`)),v(z,B)}),r(W),r(y);var X=n(y,2),Y=o(X);x(Y,p,z=>{var b=xt();b.__click=[ut,i],v(z,b)}),r(X),r(O),r(u),r(l),r(a),c(()=>{w(N,s(i).title||"Untitled Artwork"),w(Q,s(i).description)}),v(t,a)}),v(d,T),rt()}$(["click"]);export{Vt as B,pt as C};
