import{e as Ae}from"../chunks/index.D5fZukMd.js";import{g as Me,m as ie}from"../chunks/util.Cz9rOmTz.js";import{p as se,r as R,s as V,w as ye}from"../chunks/db.CoitI51B.js";import{d as Y,a as u,t as f,r as me,s as B,c as ue}from"../chunks/disclose-version.CO6q0Qfh.js";import{p as z,d as o,f as X,c as r,t as P,a as O,g as p,b as L,s as W,r as a,h as ae,l as Pe,m as Ie,n as he,e as H,G as fe}from"../chunks/runtime.DMxaCD9P.js";import{i as N}from"../chunks/if.CoD_4mrj.js";import{e as K,i as Z}from"../chunks/each.DPKI_RZ5.js";import{p as q}from"../chunks/proxy.Dv8l_DbE.js";import{S as Ne}from"../chunks/Services.DjlUmkIL.js";import{B as Ue}from"../chunks/BackButtonArrow.DCQnn3TD.js";import{T as we}from"../chunks/Tabs.DuVLDXOk.js";import{a as F,b as $}from"../chunks/input.BywB2Y-S.js";import{S as je}from"../chunks/SearchTags.Cz66gH0Z.js";import{I as Re,S as Be,C as qe}from"../chunks/ServicePage.Dfaq1Ak-.js";import{b as te}from"../chunks/select.CA6JsVLf.js";import{p as G}from"../chunks/props.DNKDIsES.js";import{s as ve}from"../chunks/class.DBFJk8qm.js";const We=!1,Fe=async()=>[{slug:"hungry_anne"}],ze=({params:x})=>{const e=x.slug.toLowerCase(),i=Me(),t=se("user",{},{username:e});if(!t||i.username!==t.username)throw Ae(404,"You are not the current artist");return{service:se("services",{artistId:Number(t.id)},{})}},pa=Object.freeze(Object.defineProperty({__proto__:null,entries:Fe,load:ze,ssr:We},Symbol.toStringTag,{value:"Module"}));var Le=(x,e)=>e(x,"thumbnail"),Je=f(`<h2 class="mb-2 text-lg font-semibold">Overview</h2> <div class="flex flex-col space-y-4"><div><label for="title" class="block text-sm font-medium">Title</label> <input id="title" type="text" class="mt-1 block w-full border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></div> <div><label for="upload-thumbnail" class="block text-sm font-medium mb-2">Service Thumbnail</label> <input id="upload-thumbnail" type="file" accept="image/*" class="hidden"> <div class="flex flex-row justify-center items-center"><img alt="thumbnail" class="w-full rounded-md object-contain flex-1 h-48"> <div class="flex flex-1 content-center flex-col space-y-2"><label for="upload-thumbnail" class="cursor-pointer rounded bg-orange-500 px-4 py-2 
                          text-sm font-medium text-white hover:bg-orange-600 m-auto">Upload Image</label> <button class="text-red-500 hover:underline">Remove</button></div></div></div> <div><label for="description" class="block text-sm font-medium">Description</label> <textarea id="description" rows="4" class="mt-1 block w-full border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div> <div><label class="mb-2 block text-sm font-semibold">Tags</label> <!></div> <div><h3 class="text-sm font-medium text-gray-700">References</h3> <!></div></div>`,1);function ke(x,e){z(e,!0);let i=W(""),t=W("");const m=e.props.selectedService,w=(C,U)=>{let M=C.target.files,j=M==null?void 0:M[0];if(!(!M||!j)){if(U==="sample"&&m.samples.length+M.length>10){O(i,"You can upload a maximum of 10 images.");return}if(U==="thumbnail"){if(!j.type.startsWith("image/")){O(t,"Only image files (e.g., jpg, png) are allowed.");return}const J=new FileReader;J.onload=()=>{m.thumbnail=J.result,O(t,"")},J.readAsDataURL(j)}else for(const J of M){if(!J.type.startsWith("image/")){O(i,"Only image files (e.g., jpg, png) are allowed.");return}const Q=new FileReader;Q.onload=()=>{m.samples=[...m.samples,Q.result],O(i,"")},Q.readAsDataURL(J)}}},T=C=>{m.samples=m.samples.filter((U,M)=>M!==C)};var S=Je(),k=o(X(S),2),b=r(k),l=o(r(b),2);R(l),a(b);var d=o(b,2),g=o(r(d),2);g.__change=[Le,w];var v=o(g,2),_=r(v);P(()=>V(_,"src",ye("thumbnail",m.thumbnail)));var y=o(_,2),n=o(r(y),2);n.__click=()=>{m.thumbnail="",O(t,"")},a(y),a(v),a(d);var s=o(d,2),c=o(r(s),2);me(c),a(s);var h=o(s,2),D=o(r(h),2);je(D,{get currentTags(){return m.tags},set currentTags(C){m.tags=C}}),a(h);var E=o(h,2),A=o(r(E),2);Re(A,{get uploadedImages(){return m.samples},get imageWarningMessage(){return p(i)},size:24,removeImage:T,handleImageUpload:C=>{w(C,"sample")}}),a(E),a(k),F(l,()=>m.title,C=>m.title=C),F(c,()=>m.description,C=>m.description=C),u(x,S),L()}Y(["change","click"]);var Ve=(x,e)=>O(e,!p(e)),Ye=f('<button class="absolute right-2 text-gray-500 hover:text-orange-500"> </button>'),Ge=f('<h3 class="text-lg font-bold text-gray-800"> </h3>'),Qe=f('<i class="fas text-lg font-bold text-gray-800">(Missing Name)</i>'),Xe=f('<p class="text-sm text-gray-500"> </p>'),He=f('<i class="fas fa-pencil-alt text-sm text-gray-500">(Missing Description)</i>'),Ke=f('<p class="text-sm font-medium text-gray-900"> </p>'),Ze=f('<i class="fas fa-pencil-alt text-sm text-gray-500">(Missing Price)</i>'),$e=f('<div class="relative grow"><!> <div class="flex flex-col gap-2"><!> <!> <!></div></div>'),et=f('<select class="mt-1 block w-1/2 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>%</option><option> </option></select>'),tt=f('<div class="relative grow"><!> <div class="space-y-4"><div class="mt-4"><label class="block text-base font-medium text-gray-700">Name*</label> <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <div><label class="block text-base font-medium text-gray-700">Price*</label> <div class="flex items-center gap-2"><input type="number" class="mt-1 block w-1/2 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!></div></div> <div><label class="block text-base font-medium text-gray-700">Description</label> <textarea class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500" placeholder="Description..."></textarea></div></div></div>'),at=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow"><button class="mr-4 text-red-500 hover:text-red-700">Remove</button> <!></div>');function rt(x,e){z(e,!0);const i=(b,l=ae)=>{var d=Ye();d.__click=[Ve,w];var g=r(d,!0);a(d),P(()=>B(g,l())),u(b,d)};let t=G(e,"tab",15),m=G(e,"extra",3,!1),w=W(!1);var T=at(),S=r(T);S.__click=function(...b){var l;(l=e.removeSelf)==null||l.apply(this,b)};var k=o(S,2);N(k,()=>!p(w),b=>{var l=$e(),d=r(l);i(d,()=>"Edit");var g=o(d,2),v=r(g);N(v,()=>t().name,n=>{var s=Ge(),c=r(s,!0);a(s),P(()=>B(c,t().name)),u(n,s)},n=>{var s=Qe();u(n,s)});var _=o(v,2);N(_,()=>t().description,n=>{var s=Xe(),c=r(s,!0);a(s),P(()=>B(c,t().description)),u(n,s)},n=>{var s=He();u(n,s)});var y=o(_,2);N(y,()=>t().price,n=>{var s=Ke(),c=r(s);P(()=>B(c,`${t().price??""}
                        ${(t().type==="percentage"?"%":ie())??""}`)),a(s),u(n,s)},n=>{var s=Ze();u(n,s)}),a(g),a(l),u(b,l)},b=>{var l=tt(),d=r(l);i(d,()=>"Close");var g=o(d,2),v=r(g),_=o(r(v),2);R(_),a(v);var y=o(v,2),n=o(r(y),2),s=r(n);R(s);var c=o(s,2);N(c,()=>m()===!0,E=>{var A=et(),C=r(A);C.value=(C.__value="percentage")==null?"":"percentage";var U=o(C);U.value=(U.__value="currency")==null?"":"currency";var M=r(U,!0);P(()=>B(M,ie())),a(U),a(A),te(A,()=>t().type,j=>t(t().type=j,!0)),u(E,A)}),a(n),a(y);var h=o(y,2),D=o(r(h),2);me(D),a(h),a(g),a(l),P(()=>{V(_,"placeholder",t().name),V(s,"placeholder",t().price)}),F(_,()=>t().name,E=>t(t().name=E,!0)),F(s,()=>t().price,E=>t(t().price=E,!0)),F(D,()=>t().description,E=>t(t().description=E,!0)),u(b,l)}),a(T),u(x,T),L()}Y(["click"]);var it=f('<div class="space-y-2 py-2"><!> <button class="mt-2 text-orange-500"> </button></div>'),st=f('<div><h2 class="text-lg font-semibold">Types *</h2> <!> <h2 class="mt-8 text-lg font-semibold">Extras</h2> <!> <h2 class="mt-8 text-lg font-semibold">Add-in Services</h2> <div class="mt-4 space-y-4"><div class="flex items-center space-x-4"><input type="checkbox" id="fast-delivery"> <label for="fast-delivery" class="flex-1">Fast Delivery</label> <input type="number" class="input-box" placeholder="Duration"> <select class="input-box"><option>Days</option><option>Weeks</option></select> <input type="number" class="input-box" placeholder="Price"> <select class="input-box"><option>%</option><option> </option></select></div> <div class="flex items-center space-x-4"><input type="checkbox" id="commercial-use"> <label for="commercial-use" class="flex-1">Commercial Use</label> <input type="number" class="input-box" placeholder="Price"> <select class="input-box"><option>%</option><option> </option></select></div></div></div>');function Se(x,e){z(e,!0);const i=(I,oe=ae,ee=ae,le)=>{let be=Pe(()=>Ie(le==null?void 0:le(),!1));var ne=it(),pe=r(ne);K(pe,17,oe,Z,(de,re,Oe)=>{rt(de,{get tab(){return p(re)},removeSelf:()=>ee()(Oe)})});var ce=o(pe,2);ce.__click=function(...de){var re;(re=p(be)?w:m)==null||re.apply(this,de)};var Ce=r(ce);a(ce),a(ne),P(()=>B(Ce,`+ Add new ${(p(be)?"extra":"type")??""}...`)),u(I,ne)};let t=e.props.selectedService;const m=()=>{t.types=[...t.types,{name:"",value:0,type:"currency",description:""}]},w=()=>{t.extras=[...t.extras,{name:"",value:0,type:"currency",description:""}]},T=I=>{t.types=t.types.filter((oe,ee)=>ee!==I)},S=I=>{t.extras=t.extras.filter((oe,ee)=>ee!==I)};var k=st(),b=o(r(k),2);i(b,()=>t.types,()=>T);var l=o(b,4);i(l,()=>t.extras,()=>S,()=>!0);var d=o(l,4),g=r(d),v=r(g);R(v);var _=o(v,4);R(_);var y=o(_,2),n=r(y);n.value=(n.__value="days")==null?"":"days";var s=o(n);s.value=(s.__value="weeks")==null?"":"weeks",a(y);var c=o(y,2);R(c);var h=o(c,2),D=r(h);D.value=(D.__value="percentage")==null?"":"percentage";var E=o(D);E.value=(E.__value="currency")==null?"":"currency";var A=r(E,!0);P(()=>B(A,ie())),a(E),a(h),a(g);var C=o(g,2),U=r(C);R(U);var M=o(U,4);R(M);var j=o(M,2),J=r(j);J.value=(J.__value="percentage")==null?"":"percentage";var Q=o(J);Q.value=(Q.__value="currency")==null?"":"currency";var Ee=r(Q,!0);P(()=>B(Ee,ie())),a(Q),a(j),a(C),a(d),a(k),$(v,()=>t.fastDelivery.enabled,I=>t.fastDelivery.enabled=I),F(_,()=>t.fastDelivery.duration,I=>t.fastDelivery.duration=I),te(y,()=>t.fastDelivery.unit,I=>t.fastDelivery.unit=I),F(c,()=>t.fastDelivery.price,I=>t.fastDelivery.price=I),te(h,()=>t.fastDelivery.type,I=>t.fastDelivery.type=I),$(U,()=>t.commercialUse.enabled,I=>t.commercialUse.enabled=I),F(M,()=>t.commercialUse.price,I=>t.commercialUse.price=I),te(j,()=>t.commercialUse.type,I=>t.commercialUse.type=I),u(x,k),L()}Y(["click"]);var ot=(x,e)=>e()(),lt=f('<button class="mr-6 text-red-500 hover:text-red-700">Remove</button>'),nt=(x,e)=>O(e,!p(e)),ct=f('<h3 class="text-lg font-bold text-gray-800"> <p class="text-sm font-medium text-gray-900"> </p> <p class="text-sm font-medium text-gray-900"> </p></h3>'),dt=f('<h3 class="text-lg font-bold text-gray-800">Down Payment <p class="text-sm font-medium text-gray-900"> </p></h3>'),vt=f('<i class="fas text-lg font-bold text-gray-800">(Missing Name)</i>'),ut=f('<div class="relative grow"><button class="absolute right-2 top-2 text-gray-500 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2"><!></div></div>'),mt=(x,e)=>O(e,!p(e)),bt=f('<h3 class="text-lg font-bold text-gray-800">Down Payment</h3>'),pt=f('<label class="block text-sm font-medium text-gray-700">Name*</label> <input type="text" class="mt-1 block w-1/2 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500">',1),ft=f('<div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-duration" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-duration" class="select-none text-sm text-gray-700">Duration</label> <input type="number" min="0" max="100" class="ml-2 w-24 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <select class="ml-2 w-32 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>days</option><option>weeks</option></select></div>'),gt=(x,e)=>{e().payment.value=Math.min(100,Math.max(0,e().payment.value))},_t=f('<div class="relative grow"><button class="absolute right-2 top-2 text-gray-500 hover:text-orange-500">Close</button> <div class="space-y-4"><div><!></div> <!> <div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-payment" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-payment" class="select-none text-sm text-gray-700">Payment</label> <input type="number" min="0" max="100" class="ml-2 w-24 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <span class="ml-1 text-sm text-gray-700">%</span></div></div></div>'),xt=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow"><!> <!></div>');function ge(x,e){z(e,!0);let i=G(e,"tab",7),t=G(e,"removeSelf",3,()=>{}),m=G(e,"downpayment",3,!1),w=W(!1);var T=xt(),S=r(T);N(S,()=>!m(),b=>{var l=lt();l.__click=[ot,t],u(b,l)});var k=o(S,2);N(k,()=>!p(w),b=>{var l=ut(),d=r(l);d.__click=[nt,w];var g=o(d,2),v=r(g);N(v,()=>i().name,_=>{var y=ct(),n=r(y),s=o(n),c=r(s,!0);a(s);var h=o(s,2),D=r(h,!0);a(h),a(y),P(()=>{B(n,`${i().name??""} `),B(c,i().payment.enabled?`Pay ${i().payment.value}%`:"No Payment Required"),B(D,i().duration.enabled?` Due within ${i().duration.value} ${i().duration.unit}`:"")}),u(_,y)},_=>{var y=ue(),n=X(y);N(n,m,s=>{var c=dt(),h=o(r(c)),D=r(h,!0);a(h),a(c),P(()=>B(D,i().payment.enabled?`Pay ${i().payment.value}%`:"No Down Payment Required")),u(s,c)},s=>{var c=vt();u(s,c)},!0),u(_,y)}),a(g),a(l),u(b,l)},b=>{var l=_t(),d=r(l);d.__click=[mt,w];var g=o(d,2),v=r(g),_=r(v);N(_,m,h=>{var D=bt();u(h,D)},h=>{var D=pt(),E=o(X(D),2);R(E),P(()=>V(E,"placeholder",i().name)),F(E,()=>i().name,A=>i().name=A),u(h,D)}),a(v);var y=o(v,2);N(y,()=>!m(),h=>{var D=ft(),E=r(D);R(E);var A=o(E,4);R(A);var C=o(A,2),U=r(C);U.value=(U.__value="days")==null?"":"days";var M=o(U);M.value=(M.__value="weeks")==null?"":"weeks",a(C),a(D),P(()=>V(A,"placeholder",i().duration.value)),$(E,()=>i().duration.enabled,j=>i().duration.enabled=j),F(A,()=>i().duration.value,j=>i().duration.value=j),te(C,()=>i().duration.unit,j=>i().duration.unit=j),u(h,D)});var n=o(y,2),s=r(n);R(s);var c=o(s,4);R(c),c.__change=[gt,i],he(2),a(n),a(g),a(l),P(()=>V(c,"placeholder",i().payment.value)),$(s,()=>i().payment.enabled,h=>i().payment.enabled=h),F(c,()=>i().payment.value,h=>i().payment.value=h),u(b,l)}),a(T),u(x,T),L()}Y(["click","change"]);var yt=f('<p class="text-sm font-medium text-gray-900">Pay 100%</p>'),ht=f('<p class="text-sm font-medium text-gray-900">No Additional Payment Required</p>'),wt=f(`<div><h2 class="text-lg font-semibold">Milestones *</h2> <h3 class="mb-4">Payment should be sequential, not additive (i.e 10% -> 60% -> 100%). If there are no other
        milestones, payment will only be fully provided once the final work is submitted.</h3> <div class="space-y-2"><!> <!> <div class="mb-4 flex items-center justify-between rounded-lg border p-4 shadow"><div class="relative grow"><div class="flex flex-col"><h3 class="text-lg font-bold text-gray-800">Final Work</h3> <!></div></div></div></div> <button class="mt-4 text-orange-500">+ Add new milestone</button></div>`);function Te(x,e){z(e,!0);let i=e.props.selectedService,t=q(i.downpayment),m=H(()=>i.milestones.filter(n=>n.payment.enabled&&n.payment.value>=100).length>0);const w=()=>{i.milestones=[...i.milestones,{name:"New Milestone",duration:{value:7,unit:"days",enabled:!1},payment:{value:50,enabled:!1}}]};function T(n){i.milestones=i.milestones.filter((s,c)=>c!==n)}var S=wt(),k=o(r(S),4),b=r(k);ge(b,{get tab(){return t},downpayment:!0});var l=o(b,2);K(l,17,()=>i.milestones,Z,(n,s,c)=>{ge(n,{get tab(){return p(s)},removeSelf:()=>T(c)})});var d=o(l,2),g=r(d),v=r(g),_=o(r(v),2);N(_,()=>!p(m),n=>{var s=yt();u(n,s)},n=>{var s=ht();u(n,s)}),a(v),a(g),a(d),a(k);var y=o(k,2);y.__click=w,a(S),u(x,S),L()}Y(["click"]);var kt=(x,e)=>e()(),St=f('<button class="mr-4 text-red-500 hover:text-red-700">Remove</button>'),Tt=f('<input type="checkbox" id="checkbox-enabled" class="mr-4 h-4 w-4 text-orange-500 focus:ring-orange-500">'),Dt=(x,e)=>O(e,!p(e)),Et=f('<div class="relative grow"><button class="absolute right-2 text-gray-500 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2"><h3 class="text-lg font-bold text-gray-800"> </h3></div></div>'),Ct=(x,e)=>O(e,!p(e)),Ot=f('<div class="flex items-center gap-2"><input type="checkbox" id="global-enabled" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="global-enabled" class="text-sm font-medium text-gray-700">Add this term to global contract (applied when saved)</label></div>'),At=f('<div class="relative grow"><button class="absolute right-2 text-gray-500 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2 pr-16"><input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!> <textarea id="brief" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div></div>'),Mt=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow"><!> <!></div>');function _e(x,e){z(e,!0);let i=G(e,"tab",7),t=G(e,"unique",3,!1),m=G(e,"removeSelf",3,()=>{}),w=W(!1);var T=Mt(),S=r(T);N(S,t,b=>{var l=St();l.__click=[kt,m],u(b,l)},b=>{var l=Tt();R(l),P(()=>V(l,"placeholder",i().enabled)),$(l,()=>i().enabled,d=>i().enabled=d),u(b,l)});var k=o(S,2);N(k,()=>!p(w),b=>{var l=Et(),d=r(l);d.__click=[Dt,w];var g=o(d,2),v=r(g),_=r(v,!0);a(v),a(g),a(l),P(()=>B(_,i().title)),u(b,l)},b=>{var l=At(),d=r(l);d.__click=[Ct,w];var g=o(d,2),v=r(g);R(v);var _=o(v,2);N(_,t,n=>{var s=Ot(),c=r(s);R(c),he(2),a(s),$(c,()=>i().global,h=>i().global=h),u(n,s)});var y=o(_,2);me(y),a(g),a(l),P(()=>{V(v,"placeholder",i().title),V(y,"placeholder",i().details)}),F(v,()=>i().title,n=>i().title=n),F(y,()=>i().details,n=>i().details=n),u(b,l)}),a(T),u(x,T),L()}Y(["click"]);const Pt=(x,e)=>{O(e,q([...p(e),{details:"Details here",title:"New Section",global:!1}]))};var It=f(`<div><h2 class="text-lg font-semibold">Terms Of Service</h2> <h3>Choose sections from your global contract, or add a new term specific to this service. Any
        changes made here to the global terms will be applied for all other services.</h3> <div class="my-4 flex flex-col gap-2"><!> <!></div> <button class=" text-orange-500">+ Add new section...</button></div>`);function De(x,e){var g;z(e,!0);const i=e.props.selectedService,t=((g=se("tos",{},{artistId:i.artistId}))==null?void 0:g.categories)??[];let m=q(t.map(v=>({...v,enabled:i.termsOfService[v.title]}))),w=W(q(i.uniqueTos.map(v=>({...v,global:!1}))));function T(v,_){return _.filter((y,n)=>n!==v)}var S=It(),k=o(r(S),4),b=r(k);K(b,17,()=>m,Z,(v,_)=>{_e(v,{get tab(){return p(_)}})});var l=o(b,2);K(l,17,()=>p(w),Z,(v,_,y)=>{_e(v,{get tab(){return p(_)},unique:!0,removeSelf:()=>{O(w,q(T(y,p(w))))}})}),a(k);var d=o(k,2);d.__click=[Pt,w],a(S),u(x,S),L()}Y(["click"]);var Nt=f('<div class="card-container"><!></div>');function Ut(x,e){let i=[{label:"Overview",value:1,component:ke,props:{selectedService:e.selectedService}},{label:"Service Details",value:2,component:Se,props:{selectedService:e.selectedService}},{label:"Milestones",value:3,component:Te,props:{selectedService:e.selectedService}},{label:"Terms of Service",value:4,component:De,props:{selectedService:e.selectedService}}];var t=Nt(),m=r(t);we(m,{items:i}),a(t),u(x,t)}var jt=(x,e,i)=>e()(i()),Rt=f('<div class="h-3 w-3 rounded-full bg-white"></div>'),Bt=f("<div></div>"),qt=f('<div class="flex cursor-pointer flex-col items-center"><div><!></div> <p> </p></div> <!>',1),Wt=f('<div class="flex w-full items-center"><div class="relative flex w-full items-center"></div></div>');function Ft(x,e){z(e,!0);const i=(S,k=ae)=>{var b=qt(),l=X(b);l.__click=[jt,t,k];var d=r(l);const g=H(()=>`flex h-6 w-6 items-center justify-center rounded-full ${m(k(),"bg")??""}`);var v=r(d);N(v,()=>e.currentIndex<k(),c=>{var h=Rt();u(c,h)}),a(d);var _=o(d,2);const y=H(()=>`mt-2 text-sm font-medium
              ${m(k(),"text")??""}
        `);var n=r(_,!0);a(_),a(l);var s=o(l,2);N(s,()=>k()!==e.nodeTimeline.length-1,c=>{var h=Bt();const D=H(()=>`mx-2 h-1 flex-1 ${m(k(),"bg")??""}`);P(()=>ve(h,p(D))),u(c,h)}),P(()=>{ve(d,p(g)),ve(_,p(y)),B(n,e.nodeTimeline[k()])}),u(S,b)},t=G(e,"callback",3,()=>{}),m=(S,k)=>e.currentIndex>=S?`${k}-orange-500`:`${k}-gray-500`;var w=Wt(),T=r(w);K(T,21,()=>e.nodeTimeline,Z,(S,k,b)=>{i(S,()=>b)}),a(T),a(w),u(x,w),L()}Y(["click"]);var zt=f("<div><!></div>");function Lt(x,e){z(e,!0);const i=e.props.selectedService,t=e.props.currentArtist;var m=zt(),w=r(m);Be(w,{selectedService:i,currentArtist:t,get artDB(){return i.samples},viewOnly:!0,artViewOnly:!0}),a(m),u(x,m),L()}var Jt=f('<div class="mb-2 py-4"><!></div> <div class="card-container"><!></div> <!>',1);function Vt(x,e){z(e,!0);const i=4;let t=W(0),m=["Overview","Types","Milestones","Terms of Service","Summary"],w=W(q([{label:"Overview",value:1,component:ke,props:{selectedService:e.selectedService},bindable:!0},{label:"Service Details",value:2,component:Se,props:{selectedService:e.selectedService},bindable:!0},{label:"Milestones",value:3,component:Te,props:{selectedService:e.selectedService},bindable:!0},{label:"Terms of Service",value:4,component:De,props:{selectedService:e.selectedService},bindable:!0},{label:"Summary",value:5,component:Lt,props:{selectedService:e.selectedService,currentArtist:e.currentArtist}}]));const T=()=>(fe(t,-1),Math.min(p(t),0)),S=()=>(fe(t),Math.max(p(t),i)),k=s=>{O(t,q(s))};var b=Jt(),l=X(b),d=r(l);Ft(d,{nodeTimeline:m,get currentIndex(){return p(t)},callback:k}),a(l);var g=o(l,2),v=r(g),_=H(()=>p(t)+1);we(v,{get items(){return p(w)},hideTabs:!0,get currentTab(){return p(_)},get bindableItems(){return p(w)},set bindableItems(s){O(w,q(s))},binded:!0}),a(g);var y=o(g,2),n=H(()=>[p(t),i]);qe(y,{goToPreviousStep:T,proceedToNextStep:S,backwards:"Previous Step",forwards:"Next Step",get indexes(){return p(n)},finalStep:()=>{e.closeEdit()},finalWord:"Publish Service"}),u(x,b),L()}const Yt=(x,e)=>{confirm("Are you sure you want to delete this service?")&&(e.editOrCreate&&e.removeEntry(e.props.id),e.closeEdit())};var Gt=f(`<div class="fixed inset-0 z-50 overflow-y-auto bg-white"><div class="relative p-6"><div class="mb-4 flex w-full justify-between border-b-2 px-2 pb-2
            pt-0 sm:px-4 md:px-6 lg:px-8"><!> <div class="flex"><button class="discard-button"> </button> <button class="save-button mx-4">Save and Leave</button></div></div> <div class="px-2 sm:px-6 md:px-10 lg:px-16"><!></div></div></div>`);function xe(x,e){z(e,!0);const i=JSON.parse(JSON.stringify(e.props));let t=W(q({}));const m=()=>{e.editOrCreate?confirm("Are you sure you want to discard your changes?")&&(e.editEntry(i),e.closeEdit()):(e.addEntry(p(t)),e.closeEdit())};if(!e.editOrCreate){const n=e.props.currentArtist,s=se("tos",{artistId:Number(n.id)},{})[0].categories,c=Object.assign({},...s.map(h=>({[h.title]:!0})));O(t,q({id:e.props.id,artistId:n.id,state:"draft",isOpen:!1,title:"Working Title",description:"Working Description",thumbnail:"",samples:[],tags:[],types:[{name:"Sample Name",price:20,type:"currency",description:"Sample Description"}],extras:[],fastDelivery:{enabled:!1,price:50,type:"percentage",duration:3,unit:"days"},commercialUse:{enabled:!1,price:100,type:"percentage"},downpayment:{payment:{value:20,enabled:!1}},milestones:[],termsOfService:c,uniqueTos:[]}))}var w=Gt(),T=r(w),S=r(T),k=r(S),b=H(()=>e.editOrCreate?"Edit Service":"Create Service");Ue(k,{closeEdit:m,includeBorder:!1,get buttonText(){return p(b)}});var l=o(k,2),d=r(l);d.__click=[Yt,e];var g=r(d,!0);a(d);var v=o(d,2);v.__click=function(...n){var s;(s=e.closeEdit)==null||s.apply(this,n)},a(l),a(S);var _=o(S,2),y=r(_);N(y,()=>e.editOrCreate,n=>{Ut(n,{get closeEdit(){return e.closeEdit},get selectedService(){return e.props}})},n=>{Vt(n,{get closeEdit(){return e.closeEdit},get selectedService(){return p(t)},get currentArtist(){return e.props}})}),a(_),a(T),a(w),P(()=>B(g,e.editOrCreate?"Delete Service":"Discard Draft")),u(x,w),L()}Y(["click"]);var Qt=f('<img alt="Service Missing" class="h-48 w-full rounded-md object-contain">'),Xt=f('<section class="card-container mb-8"><h2 class="mb-4 text-lg font-semibold"> </h2> <div class="service-grid mt-4 grid grid-cols-4 gap-4"><!></div> <!></section>'),Ht=(x,e)=>O(e,!0),Kt=f('<div class="-mt-2 mb-4 flex items-center justify-between px-4"><h1 class="page-title">Manage Services</h1> <button class="my-services-button rounded bg-orange-500 px-4 py-2 text-white hover:bg-orange-600">Create New Service</button></div> <!>',1);function fa(x,e){var y,n;z(e,!0);const i=(s,c=ae)=>{var h=Xt(),D=r(h),E=r(D,!0);P(()=>B(E,c()[0].toUpperCase()+c().slice(1))),a(D);var A=o(D,2),C=r(A);Ne(C,{get serviceDB(){return p(t)},get filter(){return c()},viewOnly:!1,callback:k}),a(A);var U=o(A,2);N(U,()=>p(t).filter(M=>M.state===c()).length===0,M=>{var j=Qt();P(()=>V(j,"src",ye("artwork",""))),u(M,j)}),a(h),u(s,h)};let t=W(q((y=e.data)==null?void 0:y.service));const m=(n=e.data)==null?void 0:n.user;let w=W(null),T=W(!1),S=W(!1);const k=s=>{O(w,q(s)),O(T,!0),O(S,!1)},b=()=>{O(T,!1),O(S,!1)},l=s=>{O(t,q([...p(t),s]))},d=s=>{O(t,q(p(t).filter(c=>c.id!==s)))},g=s=>{O(t,q(p(t).map(c=>c.id===s.id?s:c)))};var v=ue(),_=X(v);N(_,()=>p(T),s=>{xe(s,{closeEdit:b,editOrCreate:!0,get props(){return p(w)},addEntry:l,removeEntry:d,editEntry:g})},s=>{var c=ue(),h=X(c);N(h,()=>p(S),D=>{var E=H(()=>({currentArtist:m,id:p(t)[p(t).length-1].id+1}));xe(D,{closeEdit:b,editOrCreate:!1,get props(){return p(E)},addEntry:l,removeEntry:d,editEntry:g})},D=>{var E=Kt(),A=X(E),C=o(r(A),2);C.__click=[Ht,S],a(A);var U=o(A,2);K(U,16,()=>["published","draft","archived"],Z,(M,j)=>{i(M,()=>j)}),u(D,E)},!0),u(s,c)}),u(x,v),L()}Y(["click"]);export{fa as component,pa as universal};
