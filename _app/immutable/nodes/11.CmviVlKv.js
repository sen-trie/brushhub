import{e as xe}from"../chunks/index.BS2gANe0.js";import{p as de,c as q,m as fe,n as he}from"../chunks/util.SOMtIajs.js";import{d as pe,a as p,t as B,s as x,r as ge,c as ee,h as ye}from"../chunks/disclose-version.BdgloYrR.js";import{p as ie,s,j as Q,c as r,r as e,t as h,g as a,n as be,a as oe,b as F,d as v,ab as we,e as Se,$ as ke}from"../chunks/runtime.B7jOGP1B.js";import{i as V}from"../chunks/if.D5MR8JA_.js";import{p as O}from"../chunks/proxy.Dai5s8My.js";import"../chunks/legacy.CiDgkFNE.js";import{e as te,i as re}from"../chunks/each.CvzG1Lpo.js";import{c as me}from"../chunks/svelte-component.C33cCxNK.js";import{p as Ce}from"../chunks/index.CzGE_6Ex.js";import{M as _e}from"../chunks/Milestone.BcxWbQGO.js";import{r as ve,s as ne,b as Be}from"../chunks/attributes.AO0FC38_.js";import{b as Te,a as ue}from"../chunks/input.UdPdKhu2.js";import{b as Pe}from"../chunks/select.B6uXKWI-.js";import{p as Ie}from"../chunks/props.DJ3gu5vN.js";import{o as Me}from"../chunks/index-client.Dl1ad1CP.js";import{I as De,C as je,S as Re}from"../chunks/ServicePage.CLhXh8z5.js";import{B as Ne}from"../chunks/BackButtonArrow.BcqMZ_nb.js";const Oe=async()=>[{slug:"1"},{slug:"2"}],Ae=({params:S})=>{const t=S.slug.toLowerCase(),i=de("services",{},{id:Number(t)});if(!i)throw xe(404,"No matching tag found for your search");return{service:i}},wt=Object.freeze(Object.defineProperty({__proto__:null,entries:Oe,load:Ae},Symbol.toStringTag,{value:"Module"}));var Ee=()=>{window.history.back()},He=B(`<button class="mb-4 inline-flex items-center rounded border border-orange-500 px-4 py-2 text-sm font-medium 
            text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-600">Back</button>`);function We(S){var t=He();t.__click=[Ee],p(S,t)}pe(["click"]);var Ue=B('<details class="rounded-md border p-4 cursor-pointer"><summary class="text-sm font-semibold"> </summary> <p class="mt-2 text-sm"> </p></details>'),qe=B('<h2 class="mt-2 sm:mt-6 text-lg font-semibold">Milestones</h2> <p class="mb-6 text-sm">* Your money will be held and paid to the artist as per the completion of milestones.</p> <div class="overflow-x-auto pb-4 sm:pb-0"><!></div> <h2 class="mt-6 text-lg font-semibold">Terms of Service</h2> <div class="mt-4 space-y-2"></div> <p class="mt-6 text-sm">* By proceeding to the commission, you agree with the proposed milestones and terms of service.</p>',1);function Fe(S,t){var P;ie(t,!0);const i=(P=de("tos",{},{artistId:t.selectedService.artistId}))==null?void 0:P.categories.filter(y=>t.selectedService.termsOfService[y.title]===!0);var c=qe(),m=s(Q(c),4),u=r(m);_e(u,{get selectedService(){return t.selectedService}}),e(m);var k=s(m,4);te(k,21,()=>i,re,(y,b)=>{var _=Ue(),C=r(_),A=r(C,!0);e(C);var g=s(C,2),E=r(g,!0);e(g),e(_),h(()=>{x(A,a(b).title),x(E,a(b).details)}),p(y,_)}),e(k),be(2),p(S,c),oe()}var Le=B('<option class="entry"> </option>'),Ye=B('<div class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded colour-border text-orange-500 focus:ring-orange-500"> <label class="ml-2 text-sm" style="user-select: none;"> </label></div>'),ze=(S,t)=>{const i=S.target.value;t(i)},Ge=B('<p class="sm:-mt-4 text-sm text-red-500"> </p>'),Qe=B(`<div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 pt-4 sm:pt-6"><div><div class="mb-4"><label for="type" class="block text-sm font-medium">Type *</label> <select id="type" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></select></div> <div class="mb-4"><label for="extras" class="block text-sm font-medium">Extras</label> <div class="mt-2 space-y-2"></div></div> <div class="mb-4"><label for="brief" class="block text-sm font-medium"> </label> <textarea id="brief" rows="3" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm" placeholder="Input your brief idea..."></textarea> <div class="mt-2 flex items-center"><p class="mr-2 text-sm">Or</p> <label for="upload-brief" class="cursor-pointer rounded border colour-border px-3 py-1 text-sm 
                            bg-orange-500 text-white hover:bg-orange-600">Upload your brief</label> <input id="upload-brief" type="file" accept=".txt" class="hidden"></div></div> <div class="mb-4"><label for="deadline" class="block text-sm font-medium">Deadline*</label> <input id="deadline" type="date" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></div> <p class="hidden sm:visible mt-4 text-lg font-bold green-text"> </p></div> <div><h3 class="text-sm font-medium">References</h3> <!></div> <!> <p class="visible sm:hidden text-lg text-right font-bold green-text"> </p></div>`);function Xe(S,t){ie(t,!0);let i=Ie(t,"commissionChoice",15),c=F(O([])),m=F(""),u=F(""),k=F(""),P=Se(()=>fe(t.selectedService,i()));const y=5e3,b=l=>{l.length>y?(v(k,`Brief cannot exceed ${y} characters.`),v(u,O(l.slice(0,y)))):(v(u,O(l)),v(k,""))},_=new Date;_.setDate(_.getDate()+1);const C=_.toISOString().split("T")[0],A=l=>{var d;const o=(d=l.target.files)==null?void 0:d[0];if(!o)return;if(o.type!=="text/plain"){v(k,"Only .txt files are allowed for the brief.");return}const n=new FileReader;n.onload=()=>{const w=n.result;b(w)},n.readAsText(o)},g=l=>{const o=l.target.files;if(o){if(a(c).length+o.length>10){v(m,"You can only upload a maximum of 10 images.");return}for(const n of o){if(!n.type.startsWith("image/")){v(m,"Only image files (e.g., jpg, png) are allowed.");return}const d=new FileReader;d.onload=()=>{v(c,O([...a(c),d.result]))},d.readAsDataURL(n)}v(m,"")}},E=l=>{v(c,O(a(c).filter((o,n)=>n!==l)))};Me(()=>{v(u,O(i().brief)),v(c,O(i().images))}),we(()=>{i(i().brief=a(u),!0),i(i().images=a(c),!0)});var H=Qe(),I=r(H),L=r(I),W=s(r(L),2);te(W,21,()=>t.selectedService.types,re,(l,o,n)=>{var d=Le();d.value=(d.__value=n)==null?"":n;var w=r(d);h(()=>x(w,`${a(o).name??""} (${q(a(o).price)??""})`)),e(d),p(l,d)}),e(W),e(L);var X=s(L,2),Y=s(r(X),2);te(Y,21,()=>t.selectedService.extras,re,(l,o,n)=>{var d=Ye(),w=r(d);ve(w);var se=s(w,2),le=r(se);h(()=>x(le,`${a(o).name??""} (+${(a(o).type==="percentage"?`${a(o).price} % of base price`:q(a(o).price))??""}
                            )`)),e(se),e(d),h(()=>{ne(w,"id",a(o).name),ne(se,"for",a(o).name)}),Te(w,()=>i().extras[n],ce=>i(i().extras[n]=ce,!0)),p(l,d)}),e(Y),e(X);var M=s(X,2),D=r(M),z=r(D);e(D);var j=s(D,2);ge(j),j.__input=[ze,b];var J=s(j,2),Z=s(r(J),4);Z.__change=A,e(J),e(M);var R=s(M,2),G=s(r(R),2);ve(G),ne(G,"min",C),e(R);var K=s(R,2),$=r(K);h(()=>x($,`Net Total: ${q(a(P))??""}`)),e(K),e(I);var U=s(I,2),ae=s(r(U),2);De(ae,{get uploadedImages(){return a(c)},get imageWarningMessage(){return a(m)},removeImage:E,handleImageUpload:g}),e(U);var T=s(U,2);V(T,()=>t.warningMessage,l=>{var o=Ge(),n=r(o,!0);e(o),h(()=>x(n,t.warningMessage)),p(l,o)});var f=s(T,2),N=r(f);h(()=>x(N,`Net Total: ${q(a(P))??""}`)),e(f),e(H),h(()=>x(z,`Brief* (${y-a(u).length} characters left)`)),Pe(W,()=>i().selectedTier,l=>i(i().selectedTier=l,!0)),ue(j,()=>a(u),l=>v(u,l)),ue(G,()=>i().deadline,l=>i(i().deadline=l,!0)),p(S,H),oe()}pe(["input","change"]);var Je=B('<div><p> </p> <p class="font-medium"> </p></div>'),Ke=B("<p>No extras selected.</p>"),Ve=B('<img alt="Reference" class="h-32 w-full rounded-md border object-cover">'),Ze=B(`<div class="pt-6"><div class="overflow-x-auto pb-4 sm:pb-0"><!></div> <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 sm:gap-6"><div><div class="mb-4 flex justify-between"><p class="font-medium">Type:</p> <p class="font-medium"> </p></div> <div class="mb-4 flex justify-between"><p class="font-medium">Base Price:</p> <p class="font-medium"> </p></div> <div class="mb-4 flex justify-between"><p class="font-medium">Extras:</p> <div class="text-right"><!> <!></div></div> <div class="mb-4"><p class="block font-medium">Brief:</p> <textarea readonly="" rows="5" class="mt-1 w-full rounded-md colour-border entry
                    p-2 shadow-sm focus:colour-border focus:ring-0 sm:text-sm"></textarea></div> <div class="mb-4 flex justify-between"><p class="font-medium">Deadline:</p> <p class="font-medium"> </p></div></div> <div><p class="mb-2 block font-medium">References:</p> <div class="grid grid-cols-3 gap-2"></div> <div class="mt-6"><label for="payment-method" class="mb-2 block font-medium">Payment Method</label> <select id="payment-method" class="mt-1 block w-full rounded-md entry 
                            shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"><option>BrushHub Wallet</option><option>Stripe</option><option>PayPal</option><option>Credit Card</option></select></div></div></div> <div class="flex flex-col sm:flex-row items-center justify-between"><p class="text-sm mt-2 sm:mt-0">* Your payment will be held until the completion of commission milestones and refunded
            in case of cancellation.</p> <div class="text-right"><p class="text-lg font-bold green-text hidden sm:visible"> </p></div></div> <p class="mt-2 text-right text-lg font-bold green-text visible sm:hidden"> </p></div>`);function $e(S,t){ie(t,!0);const i=t.selectedService.types[t.commissionChoice.selectedTier].price,c=fe(t.selectedService,t.commissionChoice),m=t.selectedService.extras.filter((T,f)=>t.commissionChoice.extras[f]).length>0;var u=Ze(),k=r(u),P=r(k);_e(P,{get selectedService(){return t.selectedService}}),e(k);var y=s(k,2),b=r(y),_=r(b),C=s(r(_),2),A=r(C,!0);e(C),e(_);var g=s(_,2),E=s(r(g),2),H=r(E,!0);h(()=>x(H,q(i))),e(E),e(g);var I=s(g,2),L=s(r(I),2),W=r(L);te(W,17,()=>t.selectedService.extras,re,(T,f,N)=>{var l=ee(),o=Q(l);V(o,()=>t.commissionChoice.extras[N],n=>{var d=Je(),w=r(d),se=r(w);e(w);var le=s(w,2),ce=r(le);h(()=>x(ce,`+${(a(f).type==="percentage"?a(f).price+"% ("+q(Math.round(i*a(f).price/100))+")":q(a(f).price))??""}`)),e(le),e(d),h(()=>x(se,`${a(f).name??""}:`)),p(n,d)}),p(T,l)});var X=s(W,2);V(X,()=>!m,T=>{var f=Ke();p(T,f)}),e(L),e(I);var Y=s(I,2),M=s(r(Y),2);ge(M),e(Y);var D=s(Y,2),z=s(r(D),2),j=r(z,!0);e(z),e(D),e(b);var J=s(b,2),Z=s(r(J),2);te(Z,21,()=>t.commissionChoice.images,re,(T,f)=>{var N=Ve();h(()=>ne(N,"src",a(f))),p(T,N)}),e(Z),be(2),e(J),e(y);var R=s(y,2),G=s(r(R),2),K=r(G),$=r(K);h(()=>x($,`Net Total: ${q(c)??""}`)),e(K),e(G),e(R);var U=s(R,2),ae=r(U);h(()=>x(ae,`Net Total: ${q(c)??""}`)),e(U),e(u),h(()=>{x(A,t.selectedService.types[t.commissionChoice.selectedTier].name),Be(M,`${t.commissionChoice.brief??""}
                `),x(j,t.commissionChoice.deadline)}),p(S,u),oe()}var et=B("<!> <!>",1),tt=B(`<div class="fixed inset-0 z-50 overflow-y-auto min-h-full"><div class="h-full relative !bg-gray-100 dark:!bg-stone-900"><div class="mb-4 flex w-full justify-between border-b-2 
            pt-4 pb-2 colour-border px-6 sm:px-6 md:px-8 lg:px-10"><!></div> <div class="px-2 sm:px-6 md:px-10 lg:px-16 !bg-gray-100 dark:!bg-stone-900 pb-6"><div class="card-container px-6"><div class="space-y-2"><h1 class="text-2xl font-bold"> </h1> <p class="text-normal"> </p></div> <!></div></div></div></div>`);function rt(S,t){ie(t,!0);let i=F(""),c=F(O({selectedTier:t.tierIndex,extras:t.selectedService.extras.map(M=>!1),brief:"",images:[],deadline:""})),m=F(0),u=[{component:Fe,backwards:"Back to Overview",forwards:"Proceed to Brief"},{component:Xe,backwards:"Back to Type Selection",forwards:"Proceed to Checkout"},{component:$e,backwards:"Back to Brief",forwards:"Submit Request"}];const k=()=>{if(a(c).brief==="")return v(i,"Please provide a brief for your commission."),!1;if(a(c).deadline==="")return v(i,"Please provide a deadline for your commission."),!1;const M=new Date().setHours(0,0,0,0);return new Date(a(c).deadline).setHours(0,0,0,0)<=M?(v(i,"Deadline must be after today."),!1):(v(i,""),!0)};function P(){a(m)===1&&!k()||(a(m)<u.length-1?v(m,a(m)+1):a(m)===u.length-1&&(alert("Request Submitted!"),he("/profile/"+t.currentArtist.username,Ce.url.pathname)))}function y(){a(m)>0?v(m,a(m)-1):t.closePlaceCommission()}var b=tt(),_=r(b),C=r(_),A=r(C);Ne(A,{get closeEdit(){return t.closePlaceCommission},buttonText:"Place Commission Request"}),e(C);var g=s(C,2),E=r(g),H=r(E),I=r(H),L=r(I,!0);e(I);var W=s(I,2),X=r(W);e(W),e(H);var Y=s(H,2);te(Y,17,()=>u,re,(M,D,z)=>{let j=()=>a(D).component,J=()=>a(D).backwards,Z=()=>a(D).forwards;var R=ee(),G=Q(R);V(G,()=>z===a(m),K=>{var $=et(),U=Q($);V(U,()=>z===1,T=>{var f=ee(),N=Q(f);me(N,j,(l,o)=>{o(l,{get selectedService(){return t.selectedService},get warningMessage(){return a(i)},get commissionChoice(){return a(c)},set commissionChoice(n){v(c,O(n))}})}),p(T,f)},T=>{var f=ee(),N=Q(f);V(N,()=>z===2,l=>{var o=ee(),n=Q(o);me(n,j,(d,w)=>{w(d,{get selectedService(){return t.selectedService},get commissionChoice(){return a(c)}})}),p(l,o)},l=>{var o=ee(),n=Q(o);me(n,j,(d,w)=>{w(d,{get selectedService(){return t.selectedService}})}),p(l,o)},!0),p(T,f)});var ae=s(U,2);je(ae,{goToPreviousStep:y,proceedToNextStep:P,get backwards(){return J()},get forwards(){return Z()}}),p(K,$)}),p(M,R)}),e(E),e(g),e(_),e(b),h(()=>{x(L,t.selectedService.title),x(X,`@${t.currentArtist.displayName??""}`)}),p(S,b),oe()}var at=B('<div class="card-island"><!> <!> <!></div>');function St(S,t){ie(t,!0);const i=t.data.service,c=de("artwork",{},{}).filter(g=>i.samples.includes(g.imgSrc)),m=de("user",{},{id:i.artistId});let u=F(!1),k=F(0);function P(g){v(k,O(g)),v(u,!0)}function y(){v(u,!1)}var b=at();ye(g=>{h(()=>ke.title=`BrushHub - ${i.title??""}`)});var _=r(b);V(_,()=>a(u),g=>{rt(g,{selectedService:i,closePlaceCommission:y,get tierIndex(){return a(k)},currentArtist:m})});var C=s(_,2);We(C);var A=s(C,2);Re(A,{selectedService:i,artDB:c,currentArtist:m,openPlaceCommission:P}),e(b),p(S,b),oe()}export{St as component,wt as universal};
