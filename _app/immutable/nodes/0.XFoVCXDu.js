import{g as Pe,p as ye,n as P,r as Fe,u as Te,s as le,a as ce,v as He}from"../chunks/util.CTWbUTz8.js";import{d as Y,a as C,t as L,c as Me,e as ue}from"../chunks/disclose-version.TbKqxNJi.js";import{v as be,m as Z,o as je,aH as ze,y as Be,w as we,x as xe,ay as Re,E as ke,al as H,a6 as Ue,aI as qe,aJ as Ke,h as We,u as Ge,M as fe,aK as Je,q as Qe,aL as Ve,aE as de,F as ve,a9 as Ze,p as q,b as T,d as w,ak as Se,a as K,g as o,c as p,s as $,f as Xe,r as f,t as M}from"../chunks/runtime.CHrGdgHD.js";import{p as j,i as U}from"../chunks/if.eqP7gfIA.js";import{a as Ye,s as z}from"../chunks/render.CZZNUFKP.js";import{e as ee,i as ae}from"../chunks/each.DPCLWfUA.js";import{s as $e}from"../chunks/class.DWYijzLi.js";import{s as te,a as re}from"../chunks/store.C8UG7p6n.js";import{a as ea}from"../chunks/input.DL2JL8lo.js";import{b as aa}from"../chunks/this.Dt2pQjFz.js";import{p as se}from"../chunks/stores.nos-t-kg.js";import{o as ta}from"../chunks/index-client.201iklco.js";import{i as Ce}from"../chunks/entry.DzpV7pc0.js";import{H as me,U as ra,B as sa,P as na,a as oa,b as ia,C as pe,I as la,c as ca}from"../chunks/Icon.Ja2jWaDP.js";function ua(a,e,t){Z&&je();var r=a,s=Re,n;be(()=>{ze(s,s=e())&&(n&&Be(n),n=we(()=>t(r)))}),Z&&(r=xe)}function fa(a,e,...t){var r=a,s=H,n;be(()=>{s!==(s=e())&&(n&&(Ue(n),n=null),n=we(()=>s(r,...t)))},ke),Z&&(r=xe)}const da=()=>performance.now(),D={tick:a=>requestAnimationFrame(a),now:()=>da(),tasks:new Set};function Ee(a){D.tasks.forEach(e=>{e.c(a)||(D.tasks.delete(e),e.f())}),D.tasks.size!==0&&D.tick(Ee)}function va(a){let e;return D.tasks.size===0&&D.tick(Ee),{promise:new Promise(t=>{D.tasks.add(e={c:a,f:t})}),abort(){D.tasks.delete(e)}}}function R(a,e){a.dispatchEvent(new CustomEvent(e))}function ma(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function ge(a){const e={},t=a.split(";");for(const r of t){const[s,n]=r.split(":");if(!s||n===void 0)break;const u=ma(s.trim());e[u]=n.trim()}return e}const pa=a=>a;function _e(a,e,t,r){var s=(a&Ve)!==0,n="both",u,_=e.inert,v,d;function l(){var i=Ze,y=fe;de(null),ve(null);try{return u??(u=t()(e,(r==null?void 0:r())??{},{direction:n}))}finally{de(i),ve(y)}}var x={is_global:s,in(){e.inert=_,R(e,"introstart"),v=X(e,l(),d,1,()=>{R(e,"introend"),v==null||v.abort(),v=u=void 0})},out(i){e.inert=!0,R(e,"outrostart"),d=X(e,l(),v,0,()=>{R(e,"outroend"),i==null||i()})},stop:()=>{v==null||v.abort(),d==null||d.abort()}},h=fe;if((h.transitions??(h.transitions=[])).push(x),Ye){var g=s;if(!g){for(var c=h.parent;c&&c.f&ke;)for(;(c=c.parent)&&!(c.f&qe););g=!c||(c.f&Ke)!==0}g&&We(()=>{Ge(()=>x.in())})}}function X(a,e,t,r,s){var n=r===1;if(Je(e)){var u,_=!1;return Qe(()=>{if(!_){var y=e({direction:n?"in":"out"});u=X(a,y,t,r,s)}}),{abort:()=>{_=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return s(),{abort:H,deactivate:H,reset:H,t:()=>r};const{delay:v=0,css:d,tick:l,easing:x=pa}=e;var h=[];if(n&&t===void 0&&(l&&l(0,1),d)){var g=ge(d(0,1));h.push(g,g)}var c=()=>1-r,i=a.animate(h,{duration:v});return i.onfinish=()=>{var y=(t==null?void 0:t.t())??1-r;t==null||t.abort();var m=r-y,k=e.duration*Math.abs(m),E=[];if(k>0){if(d)for(var S=Math.ceil(k/16.666666666666668),b=0;b<=S;b+=1){var I=y+m*x(b/S),A=d(I,1-I);E.push(ge(A))}c=()=>{var O=i.currentTime;return y+m*x(O/k)},l&&va(()=>{if(i.playState!=="running")return!1;var O=c();return l(O,1-O),!0})}i=a.animate(E,{duration:k,fill:"forwards"}),i.onfinish=()=>{c=()=>r,l==null||l(r,1-r),s()}},{abort:()=>{i&&(i.cancel(),i.effect=null,i.onfinish=H)},deactivate:()=>{s=H},reset:()=>{r===0&&(l==null||l(1,0))},t:()=>c()}}const ga=!0,_a="always",ha=async({depends:a})=>(a("user:profile"),{user:Pe()}),ot=Object.freeze(Object.defineProperty({__proto__:null,load:ha,prerender:ga,trailingSlash:_a},Symbol.toStringTag,{value:"Module"}));function ya(a,e,t,r,s){w(e,0),w(t,j(ye("tags").filter(n=>n.name.toLowerCase().includes(o(r).toLowerCase())).sort((n,u)=>u.count-n.count))),w(s,o(t).length>0)}function ba(a,e,t,r,s){o(e)&&o(t).length>0&&(a.key==="ArrowDown"?(a.preventDefault(),w(r,(o(r)+1)%o(t).length)):a.key==="ArrowUp"?(a.preventDefault(),w(r,(o(r)-1+o(t).length)%o(t).length)):a.key==="Enter"&&s(o(t)[o(r)].name))}var wa=(a,e,t)=>e(o(t).name),xa=L('<li><span> </span> <span class="text-sm text-gray-500"> </span></li>'),ka=L('<ul class="absolute left-0 z-30 mt-1 w-full rounded-lg border border-gray-300 bg-white shadow-lg"></ul>'),Sa=L('<div class="relative mx-auto w-full max-w-lg"><input type="text" placeholder="Search for tags..." class="w-full rounded-full border border-gray-300 bg-white px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500"> <!></div>');function $a(a,e){q(e,!0);const t=te(),r=()=>re(se,"$page",t),{slug:s}=r().params;let n=r().url.pathname,u=T(""),_=T(!1),v=T(j([])),d=T(0),l=null;function x(m){return m.startsWith("/search/")&&ye("tags").some(k=>{var E;return k.name.toLowerCase()===((E=m.split("/")[2])==null?void 0:E.toLowerCase())})}x(n)&&w(u,j(s));function h(m){P(`./search/${m}`,r().url.pathname),w(u,j(m)),w(_,!1)}function g(m){l&&!l.contains(m.target)&&w(_,!1)}Se(()=>(n=r().url.pathname,document.addEventListener("click",g),()=>{document.removeEventListener("click",g)}));var c=Sa(),i=p(c);Fe(i),i.__input=[ya,d,v,u,_],i.__keydown=[ba,_,v,d,h],aa(i,m=>l=m,()=>l);var y=$(i,2);ua(y,()=>r().url,m=>{var k=Me(),E=Xe(k);U(E,()=>o(_),S=>{var b=ka();ee(b,21,()=>o(v).slice(0,10),ae,(I,A,O)=>{var N=xa();N.__click=[wa,h,A];var F=p(N),W=p(F,!0);f(F);var B=$(F,2),G=p(B);f(B),f(N),M(()=>{$e(N,`flex cursor-pointer items-center justify-between px-4 py-2 text-gray-700 hover:bg-orange-100 ${(O===o(d)?"bg-orange-100":"")??""}`),z(W,o(A).name),z(G,`(${o(A).count??""} Mentions)`)}),C(I,N)}),f(b),C(S,b)}),C(m,k)}),f(c),ea(i,()=>o(u),m=>w(u,m)),C(a,c),K()}Y(["input","keydown","click"]);function Ca(a,e,t,r){o(e).displayName?w(t,!o(t)):P("/account/login",r().url.pathname)}var Ea=(a,e)=>e.toggleSidebar(),La=(a,e)=>P("/",e().url.pathname),Oa=L('<img alt="Avatar" class="h-10 w-10 rounded-full">'),Ia=L("<p>Sign In</p>"),Aa=L('<li><button class="flex w-full items-center px-4 py-2 text-white hover:bg-gray-600"><i></i> </button></li>'),Na=L('<div class="dropdown-menu absolute right-0 z-20 mt-2 w-56 rounded bg-gray-700 text-sm shadow-lg"><div class="border-b border-gray-600 p-4"><div class="flex items-center"><img alt="Avatar" class="mr-3 h-10 w-10 rounded-full"> <div><p class="font-semibold"> </p> <p class="text-gray-400"> </p></div></div></div> <ul></ul></div>'),Da=L('<header class="bg-gray-800 py-3 text-white"><nav class="container mx-auto flex items-center justify-between px-4"><div class="flex items-center gap-4"><button class="text-white hover:text-orange-500">☰</button> <button class="text-xl font-semibold text-white hover:text-orange-500">BrushHub</button></div> <!> <div class="relative"><button class="dropdown-button flex items-center text-white hover:text-orange-500"><!></button> <!></div></nav></header>');function Pa(a,e){q(e,!0);const t=te(),r=()=>re(se,"$page",t);let s=T(!1),n=T(j({displayName:"",username:"",avatar:""}));Se(()=>{w(n,j(r().data.user))});const u=[{name:"View Profile",path:"#",iconClass:"fas fa-user",action:()=>_(`/profile/${o(n).username}`)},{name:"Manage Profile",iconClass:"fas fa-edit",action:()=>_("/account/edit")},{name:"Sign Out",iconClass:"fas fa-sign-out-alt",action:()=>v()},{name:"Toggle Dark Mode",iconClass:"fas fa-moon",action:()=>d()},{name:"Settings",iconClass:"fas fa-cog",action:()=>_("/settings")},{name:"Help",path:"/help",iconClass:"fas fa-question-circle",action:()=>v()}];function _(S){w(s,!1),P(S,r().url.pathname)}function v(){w(s,!1),window.localStorage.setItem("user_id","0"),Ce("user:profile").then(()=>{P("/",r().url.pathname)})}function d(){console.log("Toggling dark mode...")}ta(()=>{Te(".dropdown-button",".dropdown-menu",()=>{w(s,!1)})});var l=Da(),x=p(l),h=p(x),g=p(h);g.__click=[Ea,e];var c=$(g,2);c.__click=[La,r],f(h);var i=$(h,2);$a(i,{});var y=$(i,2),m=p(y);m.__click=[Ca,n,s,r];var k=p(m);U(k,()=>o(n).displayName,S=>{var b=Oa();M(()=>le(b,"src",ce("dp",o(n).avatar))),C(S,b)},S=>{var b=Ia();C(S,b)}),f(m);var E=$(m,2);U(E,()=>o(s)&&o(n).displayName,S=>{var b=Na(),I=p(b),A=p(I),O=p(A);M(()=>le(O,"src",ce("dp",o(n).avatar)));var N=$(O,2),F=p(N),W=p(F,!0);f(F);var B=$(F,2),G=p(B);f(B),f(N),f(A),f(I);var ne=$(I,2);ee(ne,21,()=>u,ae,(Le,J)=>{let Oe=()=>o(J).name,Ie=()=>o(J).iconClass,Ae=()=>o(J).action;var Q=Aa(),V=p(Q);V.__click=function(...De){var ie;(ie=Ae())==null||ie.apply(this,De)};var oe=p(V),Ne=$(oe);f(V),f(Q),M(()=>{$e(oe,`${Ie()??""} mr-2`),z(Ne,` ${Oe()??""}`)}),C(Le,Q)}),f(ne),f(b),M(()=>{z(W,o(n).displayName),z(G,`@${o(n).username??""}`)}),C(S,b)}),f(y),f(x),f(l),C(a,l),K()}Y(["click"]);const Fa=a=>a;function Ta(a){const e=a-1;return e*e*e+1}function he(a){const e=typeof a=="string"&&a.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[a,"px"]}function Ha(a,{delay:e=0,duration:t=400,easing:r=Fa}={}){const s=+getComputedStyle(a).opacity;return{delay:e,duration:t,easing:r,css:n=>`opacity: ${n*s}`}}function Ma(a,{delay:e=0,duration:t=400,easing:r=Ta,x:s=0,y:n=0,opacity:u=0}={}){const _=getComputedStyle(a),v=+_.opacity,d=_.transform==="none"?"":_.transform,l=v*(1-u),[x,h]=he(s),[g,c]=he(n);return{delay:e,duration:t,easing:r,css:(i,y)=>`
			transform: ${d} translate(${(1-i)*x}${h}, ${(1-i)*g}${c});
			opacity: ${v-l*y}`}}var ja=a=>He(a),za=(a,e)=>e.toggleSidebar,Ba=(a,e,t)=>{o(e).name==="Log Out"?(window.localStorage.setItem("user_id","0"),Ce("user:profile").then(()=>{P("/",t().url.pathname)})):P(o(e).path,t().url.pathname)},Ra=L(`<li class="text-gray-600"><button type="button" class="flex w-full items-center justify-between space-x-6 rounded-lg p-2
                               transition hover:bg-gray-100 hover:text-orange-500 focus:bg-gray-100 focus:text-orange-500 focus:outline-none"><!> <span class="mb-1 flex-grow text-left text-lg font-medium"> </span></button></li>`),Ua=L('<div class="scrim svelte-ddozlu" role="button" tabindex="0"><aside class="flex w-64 flex-col items-center border-r border-gray-300 bg-white px-4 py-6 svelte-ddozlu"><button class="flex w-full items-center justify-center">☰</button> <ul class="mt-6 w-full space-y-4"></ul></aside></div>');function qa(a,e){q(e,!0);const t=te(),r=()=>re(se,"$page",t),s=r().data.user,n=[{name:"Home",path:"/",src:me},{name:"Profile",path:`./profile/${s.username}`,src:ra},{name:"Services",path:`./manage-services/${s.username}`,src:sa},{name:"Commissions",path:`./manage-commissions/${s.username}`,src:na},{name:"Orders",path:`./manage-orders/${s.username}`,src:oa},{name:"Log Out",path:"./logout",src:ia},{name:"Settings",path:"./settings",src:pe}],u=[{name:"Home",path:"./",src:me},{name:"Sign In",path:"./account/login/",src:ca},{name:"Settings",path:"./settings",src:pe}];function _(g,c){(g.key==="Enter"||g.key===" ")&&P(c,r().url.pathname)}function v(g){(g.key==="Enter"||g.key===" ")&&e.toggleSidebar()}var d=Ua();d.__click=function(...g){var c;(c=e.toggleSidebar)==null||c.apply(this,g)};var l=p(d);l.__click=[ja];var x=p(l);x.__click=[za,e];var h=$(x,2);ee(h,21,()=>s.displayName?n:u,ae,(g,c)=>{var i=Ra(),y=p(i);y.__click=[Ba,c,r];var m=p(y);la(m,{get src(){return o(c).src},size:"32"});var k=$(m,2),E=p(k,!0);f(k),f(y),f(i),M(()=>z(E,o(c).name)),ue("keypress",y,S=>_(S,o(c).path)),C(g,i)}),f(h),f(l),f(d),ue("keypress",d,v),_e(3,l,()=>Ma,()=>({x:-300,duration:300})),_e(3,d,()=>Ha,()=>({duration:150})),C(a,d),K()}Y(["click"]);var Ka=L(`<div class="flex flex-col h-screen"><!> <!> <main class="content flex w-screen justify-center overflow-y-auto"><div class="w-full p-4 sm:p-8
            max-w-full sm:max-w-screen-2xl
            "><!></div></main></div>`);function it(a,e){q(e,!0);let t=T(!1);const r=()=>w(t,!o(t));var s=Ka(),n=p(s);Pa(n,{toggleSidebar:r});var u=$(n,2);U(u,()=>o(t),l=>{qa(l,{toggleSidebar:r})});var _=$(u,2),v=p(_),d=p(v);fa(d,()=>e.children),f(v),f(_),f(s),C(a,s),K()}export{it as component,ot as universal};
