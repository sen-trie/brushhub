import{e as D}from"../chunks/index.BnZ_zlD2.js";import{g as w,p as u}from"../chunks/util.CTWbUTz8.js";import{c as y,a as f,t as B}from"../chunks/disclose-version.TbKqxNJi.js";import{p as C,b as v,f as d,a as R,d as i,s as j,g}from"../chunks/runtime.CHrGdgHD.js";import{p as b,i as x}from"../chunks/if.eqP7gfIA.js";import{T}from"../chunks/Tabs.D_sOgtAn.js";import{D as n,V}from"../chunks/ViewCommission.DhPyF-Q-.js";const I=!1,O=async()=>[{slug:"hungry_anne"}],S=({params:l})=>{const o=l.slug.toLowerCase(),t=w(),a=u("user",{},{username:o});if(!a||t.username!==a.username)throw D(404,"You are not the current user");let s=u("request",{customerId:a.id},{});return s=s.map(r=>({...r,service:u("services",{},{id:r.serviceId})})),{request:s}},N=Object.freeze(Object.defineProperty({__proto__:null,entries:O,load:S,ssr:I},Symbol.toStringTag,{value:"Module"}));var U=B('<h2 class="mb-4 text-lg font-semibold">Your Commissions</h2> <!>',1);function P(l,o){var m;C(o,!0);const t=(m=o.data)==null?void 0:m.request;let a=v(b({})),s=v(!1);const r=e=>{i(s,!0),i(a,b(e))};let h=[{label:`New Requests (${t.filter(e=>e.state.value==="pending").length})`,value:1,component:n,props:{requestDB:t.filter(e=>e.state.value==="pending"),openRequest:r}},{label:`Active (${t.filter(e=>e.state.value==="active").length})`,value:2,component:n,props:{requestDB:t.filter(e=>e.state.value==="active"),openRequest:r}},{label:"Cancelled / Rejected",value:3,component:n,props:{requestDB:t.filter(e=>e.state.value==="cancelled"||e.state.value==="rejected"),openRequest:r}},{label:"Finished",value:4,component:n,props:{requestDB:t.filter(e=>e.state.value==="finished"),openRequest:r}}];var c=y(),_=d(c);x(_,()=>g(s),e=>{V(e,{closeRequest:()=>i(s,!1),get request(){return g(a)},artistView:!0})},e=>{var p=U(),q=j(d(p),2);T(q,{items:h}),f(e,p)}),f(l,c),R()}export{P as component,N as universal};
