import{e as Oe}from"../chunks/index.N2vYJoCP.js";import{g as Me,m as ie}from"../chunks/util.DwkNCAbs.js";import{p as se,r as B,s as L,w as ye}from"../chunks/db.CVRkyNLs.js";import{d as V,a as m,t as f,r as me,s as R,c as ue}from"../chunks/disclose-version.CSxEiuyN.js";import{p as X,s,f as H,t as P,d as A,g as u,a as J,b as F,c as r,r as a,h as ae,k as Pe,l as Ie,n as he,e as Y,F as fe}from"../chunks/runtime.yDkJktn_.js";import{i as U}from"../chunks/if.B3MD_1yl.js";import{e as K,i as Z}from"../chunks/each.CJeE_QmZ.js";import{p as q}from"../chunks/proxy.C9ShvAXK.js";import{S as Ne}from"../chunks/Services.Bx3dL_dy.js";import{B as Ue}from"../chunks/BackButtonArrow.Ck_N1D_G.js";import{T as we}from"../chunks/Tabs.BUktJOnt.js";import{a as z,b as $}from"../chunks/input.dMsVNq4n.js";import{S as je}from"../chunks/SearchTags.CW2jw7en.js";import{I as Be,S as Re,C as qe}from"../chunks/ServicePage.RVkeBF1G.js";import{b as te}from"../chunks/select.BOS-8e6M.js";import{p as Q}from"../chunks/props.zMKOg1SH.js";import{s as ve}from"../chunks/class.BR4QoFxp.js";const We=!1,Fe=async()=>[{slug:"hungry_anne"}],ze=({params:x})=>{const e=x.slug.toLowerCase(),i=Me(),t=se("user",{},{username:e});if(!t||i.username!==t.username)throw Oe(404,"You are not the current artist");return{service:se("services",{artistId:Number(t.id)},{})}},fa=Object.freeze(Object.defineProperty({__proto__:null,entries:Fe,load:ze,ssr:We},Symbol.toStringTag,{value:"Module"}));var Xe=(x,e)=>e(x,"thumbnail"),Je=f(`<h2 class="mb-2 text-lg font-semibold">Overview</h2> <div class="flex flex-col space-y-4"><div><label for="title" class="block text-sm font-medium">Title</label> <input id="title" type="text" class="mt-1 block w-full shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm entry"></div> <div><label for="upload-thumbnail" class="block text-sm font-medium mb-2">Service Thumbnail</label> <input id="upload-thumbnail" type="file" accept="image/*" class="hidden"> <div class="flex flex-row justify-center items-center"><img alt="thumbnail" class="w-full rounded-md object-contain flex-1 h-48"> <div class="flex flex-1 content-center flex-col space-y-2"><label for="upload-thumbnail" class="cursor-pointer rounded bg-orange-500 px-4 py-2 
                          text-sm font-medium text-white hover:bg-orange-600 m-auto">Upload Image</label> <button class="text-red-500 hover:underline">Remove</button></div></div></div> <div><label for="description" class="block text-sm font-medium">Description</label> <textarea id="description" rows="4" class="mt-1 block w-full entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div> <div class="relative"><label class="mb-2 block text-sm font-semibold">Tags</label> <!></div> <div><h3 class="text-sm font-medium ">References</h3> <!></div></div>`,1);function ke(x,e){X(e,!0);let i=F(""),t=F("");const b=e.props.selectedService,w=(C,j)=>{let I=C.target.files,M=I==null?void 0:I[0];if(!(!I||!M)){if(j==="sample"&&b.samples.length+I.length>10){A(i,"You can upload a maximum of 10 images.");return}if(j==="thumbnail"){if(!M.type.startsWith("image/")){A(t,"Only image files (e.g., jpg, png) are allowed.");return}const W=new FileReader;W.onload=()=>{b.thumbnail=W.result,A(t,"")},W.readAsDataURL(M)}else for(const W of I){if(!W.type.startsWith("image/")){A(i,"Only image files (e.g., jpg, png) are allowed.");return}const G=new FileReader;G.onload=()=>{b.samples=[...b.samples,G.result],A(i,"")},G.readAsDataURL(W)}}},T=C=>{b.samples=b.samples.filter((j,I)=>I!==C)};var S=Je(),k=s(H(S),2),p=r(k),l=s(r(p),2);B(l),a(p);var d=s(p,2),_=s(r(d),2);_.__change=[Xe,w];var v=s(_,2),g=r(v);P(()=>L(g,"src",ye("thumbnail",b.thumbnail)));var y=s(g,2),n=s(r(y),2);n.__click=()=>{b.thumbnail="",A(t,"")},a(y),a(v),a(d);var o=s(d,2),c=s(r(o),2);me(c),a(o);var h=s(o,2),D=s(r(h),2);je(D,{get currentTags(){return b.tags},set currentTags(C){b.tags=C}}),a(h);var E=s(h,2),O=s(r(E),2);Be(O,{get uploadedImages(){return b.samples},get imageWarningMessage(){return u(i)},size:24,removeImage:T,handleImageUpload:C=>{w(C,"sample")}}),a(E),a(k),z(l,()=>b.title,C=>b.title=C),z(c,()=>b.description,C=>b.description=C),m(x,S),J()}V(["change","click"]);var Le=(x,e)=>A(e,!u(e)),Ve=f('<button class="absolute right-2  hover:text-orange-500"> </button>'),Ye=f('<h3 class="text-lg font-bold"> </h3>'),Qe=f('<i class="fas text-lg font-bold">(Missing Name)</i>'),Ge=f('<p class="text-sm"> </p>'),He=f('<i class="fas fa-pencil-alt text-sm">(Missing Description)</i>'),Ke=f('<p class="text-sm font-medium"> </p>'),Ze=f('<i class="fas fa-pencil-alt text-sm">(Missing Price)</i>'),$e=f('<div class="relative grow"><!> <div class="flex flex-col gap-2"><!> <!> <!></div></div>'),et=f('<select class="mt-1 block w-1/2 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>%</option><option> </option></select>'),tt=f('<div class="relative grow"><!> <div class="space-y-4"><div><label class="block text-base font-medium">Name*</label> <input type="text" class="mt-1 block w-1/2 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <div><label class="block text-base font-medium">Price*</label> <div class="flex items-center gap-2"><input type="number" class="mt-1 block w-1/2 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!></div></div> <div><label class="block text-base font-medium ">Description</label> <textarea class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500" placeholder="Description..."></textarea></div></div></div>'),at=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow"><button class="mr-4 text-red-500 hover:text-red-700">Remove</button> <!></div>');function rt(x,e){X(e,!0);const i=(p,l=ae)=>{var d=Ve();d.__click=[Le,w];var _=r(d,!0);a(d),P(()=>R(_,l())),m(p,d)};let t=Q(e,"tab",15),b=Q(e,"extra",3,!1),w=F(!1);var T=at(),S=r(T);S.__click=function(...p){var l;(l=e.removeSelf)==null||l.apply(this,p)};var k=s(S,2);U(k,()=>!u(w),p=>{var l=$e(),d=r(l);i(d,()=>"Edit");var _=s(d,2),v=r(_);U(v,()=>t().name,n=>{var o=Ye(),c=r(o,!0);a(o),P(()=>R(c,t().name)),m(n,o)},n=>{var o=Qe();m(n,o)});var g=s(v,2);U(g,()=>t().description,n=>{var o=Ge(),c=r(o,!0);a(o),P(()=>R(c,t().description)),m(n,o)},n=>{var o=He();m(n,o)});var y=s(g,2);U(y,()=>t().price,n=>{var o=Ke(),c=r(o);P(()=>R(c,`${t().price??""}
                        ${(t().type==="percentage"?"%":ie())??""}`)),a(o),m(n,o)},n=>{var o=Ze();m(n,o)}),a(_),a(l),m(p,l)},p=>{var l=tt(),d=r(l);i(d,()=>"Close");var _=s(d,2),v=r(_),g=s(r(v),2);B(g),a(v);var y=s(v,2),n=s(r(y),2),o=r(n);B(o);var c=s(o,2);U(c,()=>b()===!0,E=>{var O=et(),C=r(O);C.value=(C.__value="percentage")==null?"":"percentage";var j=s(C);j.value=(j.__value="currency")==null?"":"currency";var I=r(j,!0);P(()=>R(I,ie())),a(j),a(O),te(O,()=>t().type,M=>t(t().type=M,!0)),m(E,O)}),a(n),a(y);var h=s(y,2),D=s(r(h),2);me(D),a(h),a(_),a(l),P(()=>{L(g,"placeholder",t().name),L(o,"placeholder",t().price)}),z(g,()=>t().name,E=>t(t().name=E,!0)),z(o,()=>t().price,E=>t(t().price=E,!0)),z(D,()=>t().description,E=>t(t().description=E,!0)),m(p,l)}),a(T),m(x,T),J()}V(["click"]);var it=f('<div class="space-y-2 py-2"><!> <button class="mt-2 text-orange-500"> </button></div>'),st=f('<div><h2 class="text-lg font-semibold">Types *</h2> <!> <h2 class="mt-8 text-lg font-semibold">Extras</h2> <!> <h2 class="mt-8 text-lg font-semibold">Add-in Services</h2> <div class="mt-4 space-y-4"><div class="flex items-center space-x-4"><input type="checkbox" id="fast-delivery"> <label for="fast-delivery" class="flex-1">Fast Delivery</label> <input type="number" class="input-box entry" placeholder="Duration"> <select class="input-box entry"><option>Days</option><option>Weeks</option></select> <input type="number" class="input-box entry" placeholder="Price"> <select class="input-box entry"><option>%</option><option> </option></select></div> <div class="flex items-center space-x-4"><input type="checkbox" id="commercial-use"> <label for="commercial-use" class="flex-1">Commercial Use</label> <input type="number" class="input-box entry" placeholder="Price"> <select class="input-box entry"><option>%</option><option> </option></select></div></div></div>');function Se(x,e){X(e,!0);const i=(N,oe=ae,ee=ae,le)=>{let be=Pe(()=>Ie(le==null?void 0:le(),!1));var ne=it(),pe=r(ne);K(pe,17,oe,Z,(de,re,Ae)=>{rt(de,{get tab(){return u(re)},removeSelf:()=>ee()(Ae)})});var ce=s(pe,2);ce.__click=function(...de){var re;(re=u(be)?w:b)==null||re.apply(this,de)};var Ce=r(ce);a(ce),a(ne),P(()=>R(Ce,`+ Add new ${(u(be)?"extra":"type")??""}...`)),m(N,ne)};let t=e.props.selectedService;const b=()=>{t.types=[...t.types,{name:"",value:0,type:"currency",description:""}]},w=()=>{t.extras=[...t.extras,{name:"",value:0,type:"currency",description:""}]},T=N=>{t.types=t.types.filter((oe,ee)=>ee!==N)},S=N=>{t.extras=t.extras.filter((oe,ee)=>ee!==N)};var k=st(),p=s(r(k),2);i(p,()=>t.types,()=>T);var l=s(p,4);i(l,()=>t.extras,()=>S,()=>!0);var d=s(l,4),_=r(d),v=r(_);B(v);var g=s(v,4);B(g);var y=s(g,2),n=r(y);n.value=(n.__value="days")==null?"":"days";var o=s(n);o.value=(o.__value="weeks")==null?"":"weeks",a(y);var c=s(y,2);B(c);var h=s(c,2),D=r(h);D.value=(D.__value="percentage")==null?"":"percentage";var E=s(D);E.value=(E.__value="currency")==null?"":"currency";var O=r(E,!0);P(()=>R(O,ie())),a(E),a(h),a(_);var C=s(_,2),j=r(C);B(j);var I=s(j,4);B(I);var M=s(I,2),W=r(M);W.value=(W.__value="percentage")==null?"":"percentage";var G=s(W);G.value=(G.__value="currency")==null?"":"currency";var Ee=r(G,!0);P(()=>R(Ee,ie())),a(G),a(M),a(C),a(d),a(k),$(v,()=>t.fastDelivery.enabled,N=>t.fastDelivery.enabled=N),z(g,()=>t.fastDelivery.duration,N=>t.fastDelivery.duration=N),te(y,()=>t.fastDelivery.unit,N=>t.fastDelivery.unit=N),z(c,()=>t.fastDelivery.price,N=>t.fastDelivery.price=N),te(h,()=>t.fastDelivery.type,N=>t.fastDelivery.type=N),$(j,()=>t.commercialUse.enabled,N=>t.commercialUse.enabled=N),z(I,()=>t.commercialUse.price,N=>t.commercialUse.price=N),te(M,()=>t.commercialUse.type,N=>t.commercialUse.type=N),m(x,k),J()}V(["click"]);var ot=(x,e)=>e()(),lt=f('<button class="mr-6 text-red-500 hover:text-red-700">Remove</button>'),nt=(x,e)=>A(e,!u(e)),ct=f('<h3 class="text-lg font-bold"> <p class="text-sm font-medium"> </p> <p class="text-sm font-medium"> </p></h3>'),dt=f('<h3 class="text-lg font-bold ">Down Payment <p class="text-sm font-medium "> </p></h3>'),vt=f('<i class="fas text-lg font-bold ">(Missing Name)</i>'),ut=f('<div class="relative grow"><button class="absolute right-2 top-2 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2"><!></div></div>'),mt=(x,e)=>A(e,!u(e)),bt=f('<h3 class="text-lg font-bold">Down Payment</h3>'),pt=f('<label class="block text-sm font-medium">Name*</label> <input type="text" class="mt-1 block w-1/2 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500">',1),ft=f('<div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-duration" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-duration" class="select-none text-sm">Duration</label> <input type="number" min="0" max="100" class="ml-2 w-24 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <select class="ml-2 w-32 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>days</option><option>weeks</option></select></div>'),_t=(x,e)=>{e().payment.value=Math.min(100,Math.max(0,e().payment.value))},gt=f('<div class="relative grow"><button class="absolute right-2 top-2 hover:text-orange-500">Close</button> <div class="space-y-4"><div><!></div> <!> <div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-payment" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-payment" class="select-none text-sm">Payment</label> <input type="number" min="0" max="100" class="ml-2 w-24 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <span class="ml-1 text-sm">%</span></div></div></div>'),xt=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow"><!> <!></div>');function _e(x,e){X(e,!0);let i=Q(e,"tab",7),t=Q(e,"removeSelf",3,()=>{}),b=Q(e,"downpayment",3,!1),w=F(!1);var T=xt(),S=r(T);U(S,()=>!b(),p=>{var l=lt();l.__click=[ot,t],m(p,l)});var k=s(S,2);U(k,()=>!u(w),p=>{var l=ut(),d=r(l);d.__click=[nt,w];var _=s(d,2),v=r(_);U(v,()=>i().name,g=>{var y=ct(),n=r(y),o=s(n),c=r(o,!0);a(o);var h=s(o,2),D=r(h,!0);a(h),a(y),P(()=>{R(n,`${i().name??""} `),R(c,i().payment.enabled?`Pay ${i().payment.value}%`:"No Payment Required"),R(D,i().duration.enabled?` Due within ${i().duration.value} ${i().duration.unit}`:"")}),m(g,y)},g=>{var y=ue(),n=H(y);U(n,b,o=>{var c=dt(),h=s(r(c)),D=r(h,!0);a(h),a(c),P(()=>R(D,i().payment.enabled?`Pay ${i().payment.value}%`:"No Down Payment Required")),m(o,c)},o=>{var c=vt();m(o,c)},!0),m(g,y)}),a(_),a(l),m(p,l)},p=>{var l=gt(),d=r(l);d.__click=[mt,w];var _=s(d,2),v=r(_),g=r(v);U(g,b,h=>{var D=bt();m(h,D)},h=>{var D=pt(),E=s(H(D),2);B(E),P(()=>L(E,"placeholder",i().name)),z(E,()=>i().name,O=>i().name=O),m(h,D)}),a(v);var y=s(v,2);U(y,()=>!b(),h=>{var D=ft(),E=r(D);B(E);var O=s(E,4);B(O);var C=s(O,2),j=r(C);j.value=(j.__value="days")==null?"":"days";var I=s(j);I.value=(I.__value="weeks")==null?"":"weeks",a(C),a(D),P(()=>L(O,"placeholder",i().duration.value)),$(E,()=>i().duration.enabled,M=>i().duration.enabled=M),z(O,()=>i().duration.value,M=>i().duration.value=M),te(C,()=>i().duration.unit,M=>i().duration.unit=M),m(h,D)});var n=s(y,2),o=r(n);B(o);var c=s(o,4);B(c),c.__change=[_t,i],he(2),a(n),a(_),a(l),P(()=>L(c,"placeholder",i().payment.value)),$(o,()=>i().payment.enabled,h=>i().payment.enabled=h),z(c,()=>i().payment.value,h=>i().payment.value=h),m(p,l)}),a(T),m(x,T),J()}V(["click","change"]);var yt=f('<p class="text-sm font-medium">Pay 100%</p>'),ht=f('<p class="text-sm font-medium">No Additional Payment Required</p>'),wt=f(`<div><h2 class="text-lg font-semibold">Milestones *</h2> <h3 class="mb-4">Payment should be sequential, not additive (i.e 10% -> 60% -> 100%). If there are no other
        milestones, payment will only be fully provided once the final work is submitted.</h3> <div class="space-y-2"><!> <!> <div class="mb-4 flex items-center justify-between rounded-lg border p-4 shadow"><div class="relative grow"><div class="flex flex-col"><h3 class="text-lg font-bold">Final Work</h3> <!></div></div></div></div> <button class="mt-4 text-orange-500">+ Add new milestone</button></div>`);function Te(x,e){X(e,!0);let i=e.props.selectedService,t=q(i.downpayment),b=Y(()=>i.milestones.filter(n=>n.payment.enabled&&n.payment.value>=100).length>0);const w=()=>{i.milestones=[...i.milestones,{name:"New Milestone",duration:{value:7,unit:"days",enabled:!1},payment:{value:50,enabled:!1}}]};function T(n){i.milestones=i.milestones.filter((o,c)=>c!==n)}var S=wt(),k=s(r(S),4),p=r(k);_e(p,{get tab(){return t},downpayment:!0});var l=s(p,2);K(l,17,()=>i.milestones,Z,(n,o,c)=>{_e(n,{get tab(){return u(o)},removeSelf:()=>T(c)})});var d=s(l,2),_=r(d),v=r(_),g=s(r(v),2);U(g,()=>!u(b),n=>{var o=yt();m(n,o)},n=>{var o=ht();m(n,o)}),a(v),a(_),a(d),a(k);var y=s(k,2);y.__click=w,a(S),m(x,S),J()}V(["click"]);var kt=(x,e)=>e()(),St=f('<button class="mr-4 text-red-500 hover:text-red-700">Remove</button>'),Tt=f('<input type="checkbox" id="checkbox-enabled" class="mr-4 h-4 w-4 text-orange-500 focus:ring-orange-500">'),Dt=(x,e)=>A(e,!u(e)),Et=f('<div class="relative grow"><button class="absolute right-2 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2"><h3 class="text-lg font-bold"> </h3></div></div>'),Ct=(x,e)=>A(e,!u(e)),At=f('<div class="flex items-center gap-2"><input type="checkbox" id="global-enabled" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="global-enabled" class="text-sm font-medium">Add this term to global contract (applied when saved)</label></div>'),Ot=f('<div class="relative grow"><button class="absolute right-2 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2 pr-16"><input type="text" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!> <textarea id="brief" rows="3" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div></div>'),Mt=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow"><!> <!></div>');function ge(x,e){X(e,!0);let i=Q(e,"tab",7),t=Q(e,"unique",3,!1),b=Q(e,"removeSelf",3,()=>{}),w=F(!1);var T=Mt(),S=r(T);U(S,t,p=>{var l=St();l.__click=[kt,b],m(p,l)},p=>{var l=Tt();B(l),P(()=>L(l,"placeholder",i().enabled)),$(l,()=>i().enabled,d=>i().enabled=d),m(p,l)});var k=s(S,2);U(k,()=>!u(w),p=>{var l=Et(),d=r(l);d.__click=[Dt,w];var _=s(d,2),v=r(_),g=r(v,!0);a(v),a(_),a(l),P(()=>R(g,i().title)),m(p,l)},p=>{var l=Ot(),d=r(l);d.__click=[Ct,w];var _=s(d,2),v=r(_);B(v);var g=s(v,2);U(g,t,n=>{var o=At(),c=r(o);B(c),he(2),a(o),$(c,()=>i().global,h=>i().global=h),m(n,o)});var y=s(g,2);me(y),a(_),a(l),P(()=>{L(v,"placeholder",i().title),L(y,"placeholder",i().details)}),z(v,()=>i().title,n=>i().title=n),z(y,()=>i().details,n=>i().details=n),m(p,l)}),a(T),m(x,T),J()}V(["click"]);const Pt=(x,e)=>{A(e,q([...u(e),{details:"Details here",title:"New Section",global:!1}]))};var It=f(`<div><h2 class="text-lg font-semibold">Terms Of Service</h2> <h3>Choose sections from your global contract, or add a new term specific to this service. Any
        changes made here to the global terms will be applied for all other services.</h3> <div class="my-4 flex flex-col gap-2"><!> <!></div> <button class=" text-orange-500">+ Add new section...</button></div>`);function De(x,e){var _;X(e,!0);const i=e.props.selectedService,t=((_=se("tos",{},{artistId:i.artistId}))==null?void 0:_.categories)??[];let b=q(t.map(v=>({...v,enabled:i.termsOfService[v.title]}))),w=F(q(i.uniqueTos.map(v=>({...v,global:!1}))));function T(v,g){return g.filter((y,n)=>n!==v)}var S=It(),k=s(r(S),4),p=r(k);K(p,17,()=>b,Z,(v,g)=>{ge(v,{get tab(){return u(g)}})});var l=s(p,2);K(l,17,()=>u(w),Z,(v,g,y)=>{ge(v,{get tab(){return u(g)},unique:!0,removeSelf:()=>{A(w,q(T(y,u(w))))}})}),a(k);var d=s(k,2);d.__click=[Pt,w],a(S),m(x,S),J()}V(["click"]);var Nt=f('<div class="card-container px-6"><!></div>');function Ut(x,e){let i=[{label:"Overview",value:1,component:ke,props:{selectedService:e.selectedService}},{label:"Service Details",value:2,component:Se,props:{selectedService:e.selectedService}},{label:"Milestones",value:3,component:Te,props:{selectedService:e.selectedService}},{label:"Terms of Service",value:4,component:De,props:{selectedService:e.selectedService}}];var t=Nt(),b=r(t);we(b,{items:i}),a(t),m(x,t)}var jt=(x,e,i)=>e()(i()),Bt=f('<div class="h-3 w-3 rounded-full !bg-white"></div>'),Rt=f("<div></div>"),qt=f('<div class="flex cursor-pointer flex-col items-center"><div><!></div> <p> </p></div> <!>',1),Wt=f('<div class="flex w-full items-center"><div class="relative flex w-full items-center"></div></div>');function Ft(x,e){X(e,!0);const i=(S,k=ae)=>{var p=qt(),l=H(p);l.__click=[jt,t,k];var d=r(l);const _=Y(()=>`flex h-6 w-6 items-center justify-center rounded-full ${b(k(),"bg")??""}`);var v=r(d);U(v,()=>e.currentIndex<k(),c=>{var h=Bt();m(c,h)}),a(d);var g=s(d,2);const y=Y(()=>`mt-2 text-sm font-medium
              ${b(k(),"text")??""}
        `);var n=r(g,!0);a(g),a(l);var o=s(l,2);U(o,()=>k()!==e.nodeTimeline.length-1,c=>{var h=Rt();const D=Y(()=>`mx-2 h-1 flex-1 ${b(k(),"bg")??""}`);P(()=>ve(h,u(D))),m(c,h)}),P(()=>{ve(d,u(_)),ve(g,u(y)),R(n,e.nodeTimeline[k()])}),m(S,p)},t=Q(e,"callback",3,()=>{}),b=(S,k)=>e.currentIndex>=S?`!${k}-orange-500`:`!${k}-gray-500`;var w=Wt(),T=r(w);K(T,21,()=>e.nodeTimeline,Z,(S,k,p)=>{i(S,()=>p)}),a(T),a(w),m(x,w),J()}V(["click"]);var zt=f("<div><!></div>");function Xt(x,e){X(e,!0);const i=e.props.selectedService,t=e.props.currentArtist;var b=zt(),w=r(b);Re(w,{selectedService:i,currentArtist:t,get artDB(){return i.samples},viewOnly:!0,artViewOnly:!0}),a(b),m(x,b),J()}var Jt=f('<div class="mb-4 card-container px-6"><!></div> <div class="card-container px-6"><!> <!></div>',1);function Lt(x,e){let t=F(0),b=["Overview","Types","Milestones","Terms of Service","Summary"],w=F(q([{label:"Overview",value:1,component:ke,props:{selectedService:e.selectedService},bindable:!0},{label:"Service Details",value:2,component:Se,props:{selectedService:e.selectedService},bindable:!0},{label:"Milestones",value:3,component:Te,props:{selectedService:e.selectedService},bindable:!0},{label:"Terms of Service",value:4,component:De,props:{selectedService:e.selectedService},bindable:!0},{label:"Summary",value:5,component:Xt,props:{selectedService:e.selectedService,currentArtist:e.currentArtist}}]));const T=()=>(fe(t,-1),Math.min(u(t),0)),S=()=>(fe(t),Math.max(u(t),4)),k=o=>{A(t,q(o))};var p=Jt(),l=H(p),d=r(l);Ft(d,{nodeTimeline:b,get currentIndex(){return u(t)},callback:k}),a(l);var _=s(l,2),v=r(_),g=Y(()=>u(t)+1);we(v,{get items(){return u(w)},hideTabs:!0,get currentTab(){return u(g)},get bindableItems(){return u(w)},set bindableItems(o){A(w,q(o))},binded:!0});var y=s(v,2),n=Y(()=>[u(t),4]);qe(y,{goToPreviousStep:T,proceedToNextStep:S,backwards:"Previous Step",forwards:"Next Step",get indexes(){return u(n)}}),a(_),m(x,p)}const Vt=(x,e)=>{confirm("Are you sure you want to delete this service?")&&(e.editOrCreate&&e.removeEntry(e.props.id),e.closeEdit())},Yt=(x,e,i)=>{u(e).state="published",i.addEntry(u(e)),i.closeEdit()};var Qt=f(`<div class="fixed inset-0 z-50 overflow-y-auto"><div class="relative !bg-gray-100 dark:!bg-stone-900"><div class="mb-4 flex w-full justify-between border-b-2 pt-4 pb-2
            colour-border px-2 sm:px-6 md:px-8 lg:px-10"><!> <div class="flex"><button class="discard-button"> </button> <button class="save-button mx-4">Publish</button></div></div> <div class="px-2 sm:px-6 md:px-10 lg:px-16 !bg-gray-100 dark:!bg-stone-900 pb-6"><!></div></div></div>`);function xe(x,e){X(e,!0);const i=JSON.parse(JSON.stringify(e.props));let t=F(q({}));const b=()=>{e.editOrCreate?confirm("Are you sure you want to discard your changes?")&&(e.editEntry(i),e.closeEdit()):(e.addEntry(u(t)),e.closeEdit())};if(!e.editOrCreate){const n=e.props.currentArtist,o=se("tos",{artistId:Number(n.id)},{})[0].categories,c=Object.assign({},...o.map(h=>({[h.title]:!0})));A(t,q({id:e.props.id,artistId:n.id,state:"draft",isOpen:!1,title:"Working Title",description:"Working Description",thumbnail:"",samples:[],tags:[],types:[{name:"Sample Name",price:20,type:"currency",description:"Sample Description"}],extras:[],fastDelivery:{enabled:!1,price:50,type:"percentage",duration:3,unit:"days"},commercialUse:{enabled:!1,price:100,type:"percentage"},downpayment:{payment:{value:20,enabled:!1}},milestones:[],termsOfService:c,uniqueTos:[]}))}var w=Qt(),T=r(w),S=r(T),k=r(S),p=Y(()=>e.editOrCreate?"Edit Service":"Create Service");Ue(k,{closeEdit:b,includeBorder:!1,get buttonText(){return u(p)}});var l=s(k,2),d=r(l);d.__click=[Vt,e];var _=r(d,!0);a(d);var v=s(d,2);v.__click=[Yt,t,e],a(l),a(S);var g=s(S,2),y=r(g);U(y,()=>e.editOrCreate,n=>{Ut(n,{get closeEdit(){return e.closeEdit},get selectedService(){return e.props}})},n=>{Lt(n,{get closeEdit(){return e.closeEdit},get selectedService(){return u(t)},get currentArtist(){return e.props}})}),a(g),a(T),a(w),P(()=>R(_,e.editOrCreate?"Delete Service":"Discard Draft")),m(x,w),J()}V(["click"]);var Gt=f('<img alt="Service Missing" class="h-48 w-full rounded-md object-contain">'),Ht=f('<section class="card-container mb-8"><h2 class="mb-4 text-lg font-semibold"> </h2> <div class="service-grid mt-4 grid grid-cols-4 gap-4"><!></div> <!></section>'),Kt=(x,e)=>A(e,!0),Zt=f('<div class="card-island"><div class="mb-4 flex items-center justify-between"><h1 class="page-title">Manage Services</h1> <button class="my-services-button rounded bg-orange-500 px-4 py-2 text-white hover:bg-orange-600">Create New Service</button></div> <!></div>');function _a(x,e){var y,n;X(e,!0);const i=(o,c=ae)=>{var h=Ht(),D=r(h),E=r(D,!0);P(()=>R(E,c()[0].toUpperCase()+c().slice(1))),a(D);var O=s(D,2),C=r(O),j=Y(()=>u(t).filter(M=>M.state===c()));Ne(C,{get serviceDB(){return u(j)},viewOnly:!1,currentArtist:!0,callback:k,editEntry:_,removeEntry:d}),a(O);var I=s(O,2);U(I,()=>u(t).filter(M=>M.state===c()).length===0,M=>{var W=Gt();P(()=>L(W,"src",ye("artwork",""))),m(M,W)}),a(h),m(o,h)};let t=F(q((y=e.data)==null?void 0:y.service));const b=(n=e.data)==null?void 0:n.user;let w=F(null),T=F(!1),S=F(!1);const k=o=>{A(w,q(o)),A(T,!0),A(S,!1)},p=()=>{A(T,!1),A(S,!1)},l=o=>{A(t,q([...u(t),o]))},d=o=>{A(t,q(u(t).filter(c=>c.id!==o)))},_=o=>{A(t,q(u(t).map(c=>c.id===o.id?o:c)))};var v=ue(),g=H(v);U(g,()=>u(T),o=>{xe(o,{closeEdit:p,editOrCreate:!0,get props(){return u(w)},addEntry:l,removeEntry:d,editEntry:_})},o=>{var c=ue(),h=H(c);U(h,()=>u(S),D=>{var E=Y(()=>({currentArtist:b,id:u(t).length>0?u(t)[u(t).length-1].id+1:1}));xe(D,{closeEdit:p,editOrCreate:!1,get props(){return u(E)},addEntry:l,removeEntry:d,editEntry:_})},D=>{var E=Zt(),O=r(E),C=s(r(O),2);C.__click=[Kt,S],a(O);var j=s(O,2);K(j,16,()=>["published","draft","archived"],Z,(I,M)=>{i(I,()=>M)}),a(E),m(D,E)},!0),m(o,c)}),m(x,v),J()}V(["click"]);export{_a as component,fa as universal};
