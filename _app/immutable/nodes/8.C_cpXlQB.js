import{e as Ue}from"../chunks/index.BS2gANe0.js";import{a as Be,p as ae,w as Ce,o as ce}from"../chunks/util.SOMtIajs.js";import{d as Y,a as b,t as g,r as ye,s as R,c as xe,h as Re}from"../chunks/disclose-version.BdgloYrR.js";import{p as J,s as i,j as K,t as M,d as A,g as c,a as L,b as F,c as r,r as a,f as se,n as de,k as qe,l as We,e as H,ar as ke,$ as Fe}from"../chunks/runtime.B7jOGP1B.js";import{i as j}from"../chunks/if.D5MR8JA_.js";import{e as Z,i as $}from"../chunks/each.CvzG1Lpo.js";import{r as W,s as V}from"../chunks/attributes.AO0FC38_.js";import{s as G}from"../chunks/class.DNvQwqW0.js";import{p as q}from"../chunks/proxy.Dai5s8My.js";import{S as ze}from"../chunks/Services.D4uWrPTG.js";import{B as Xe}from"../chunks/BackButtonArrow.BcqMZ_nb.js";import{T as Ee}from"../chunks/Tabs.Bm1ZgGfH.js";import{a as z,b as ee}from"../chunks/input.UdPdKhu2.js";import{S as Je}from"../chunks/SearchTags.C9OOuN5M.js";import{I as Le,S as Ve,C as Ye}from"../chunks/ServicePage.CLhXh8z5.js";import{b as re}from"../chunks/select.B6uXKWI-.js";import{p as Q}from"../chunks/props.DJ3gu5vN.js";const He=!1,Qe=async()=>[{slug:"hungry_anne"}],Ge=({params:x})=>{const e=x.slug.toLowerCase(),s=Be(),t=ae("user",{},{username:e});if(!t||s.username!==t.username)throw Ue(404,"You are not the current artist");const m=ae("services",{artistId:Number(t.id)},{}),f=ae("artist",{id:Number(t.id)},{})[0];return{service:m,artist:f}},Ta=Object.freeze(Object.defineProperty({__proto__:null,entries:Qe,load:Ge,ssr:He},Symbol.toStringTag,{value:"Module"}));var Ke=(x,e)=>e(x,"thumbnail"),Ze=g(`<h2 class="mb-2 text-lg font-semibold">Overview</h2> <div class="flex flex-col space-y-4"><div><label for="title" class="block text-sm font-medium">Title</label> <input id="title" type="text" class="mt-1 block w-full shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm entry"></div> <div><label for="upload-thumbnail" class="block text-sm font-medium mb-2">Service Thumbnail</label> <input id="upload-thumbnail" type="file" accept="image/*" class="hidden"> <div class="flex flex-col sm:flex-row justify-center items-center"><img alt="thumbnail" class="w-full rounded-md object-contain flex-1 h-48"> <div class="flex flex-1 content-center flex-row 
                        mt-3 sm:mt-0 space-x-4 sm:space-x-0 sm:flex-col sm:space-y-2"><label for="upload-thumbnail" class="cursor-pointer rounded bg-orange-500 px-4 py-2 
                          text-sm font-medium text-white hover:bg-orange-600 m-auto">Upload Image</label> <button class="text-red-500 hover:underline">Remove</button></div></div></div> <div><label for="description" class="block text-sm font-medium">Description</label> <textarea id="description" rows="4" class="mt-1 block w-full entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div> <div class="relative"><label class="mb-2 block text-sm font-semibold">Tags</label> <!></div> <div><h3 class="text-sm font-medium ">References</h3> <!></div></div>`,1);function Oe(x,e){J(e,!0);let s=F(""),t=F("");const m=e.props.selectedService,f=(T,P)=>{let O=T.target.files,U=O==null?void 0:O[0];if(!(!O||!U)){if(P==="sample"&&m.samples.length+O.length>10){A(s,"You can only upload a maximum of 10 images.");return}if(P==="thumbnail"){if(!U.type.startsWith("image/")){A(t,"Only image files (e.g., jpg, png) are allowed.");return}const B=new FileReader;B.onload=()=>{m.thumbnail=B.result,A(t,"")},B.readAsDataURL(U)}else for(const B of O){if(!B.type.startsWith("image/")){A(s,"Only image files (e.g., jpg, png) are allowed.");return}const X=new FileReader;X.onload=()=>{m.samples=[...m.samples,X.result],A(s,"")},X.readAsDataURL(B)}}},D=T=>{m.samples=m.samples.filter((P,O)=>O!==T)};var k=Ze(),y=i(K(k),2),_=r(y),l=i(r(_),2);W(l),a(_);var u=i(_,2),h=i(r(u),2);h.__change=[Ke,f];var v=i(h,2),w=r(v);M(()=>V(w,"src",Ce("thumbnail",m.thumbnail)));var S=i(w,2),n=i(r(S),2);n.__click=()=>{m.thumbnail="",A(t,"")},a(S),a(v),a(u);var o=i(u,2),d=i(r(o),2);ye(d),a(o);var p=i(o,2),E=i(r(p),2);Je(E,{get currentTags(){return m.tags},set currentTags(T){m.tags=T}}),a(p);var C=i(p,2),I=i(r(C),2);Le(I,{get uploadedImages(){return m.samples},get imageWarningMessage(){return c(s)},size:24,removeImage:D,handleImageUpload:T=>{f(T,"sample")}}),a(C),a(y),z(l,()=>m.title,T=>m.title=T),z(d,()=>m.description,T=>m.description=T),b(x,k),L()}Y(["change","click"]);var $e=(x,e)=>A(e,!c(e)),et=g('<button class="absolute right-2 hover:text-orange-500 underline"> </button>'),tt=g('<h3 class="text-lg font-bold max-w-32 xs:max-w-3xl"> </h3>'),at=g('<i class="fas text-lg font-bold">(Missing Name)</i>'),rt=g('<p class="text-sm"> </p>'),st=g('<i class="fas fa-pencil-alt text-sm">(Missing Description)</i>'),it=g('<p class="text-sm font-medium"> </p>'),lt=g('<i class="fas fa-pencil-alt text-sm">(Missing Price)</i>'),ot=g('<div class="relative grow"><!> <div class="flex flex-col gap-2"><!> <!> <!></div></div>'),nt=g('<select class="mt-1 block w-1/2 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>%</option><option> </option></select>'),ct=g(`<div class="relative grow"><!> <div class="space-y-4"><div><label class="block text-base font-medium">Name*</label> <input type="text" class="mt-1 block w-3/4 sm:w-1/2 
                              rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <div><label class="block text-base font-medium">Price*</label> <div class="flex items-center gap-2"><input type="number" class="mt-1 block w-3/4 sm:w-1/2 
                                    rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!></div></div> <div><label class="block text-base font-medium ">Description</label> <textarea class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500" placeholder="Description..."></textarea></div></div></div>`),dt=g('<div class="flex items-center justify-between rounded-lg border p-4 shadow entry"><button>Remove</button> <!></div>');function vt(x,e){J(e,!0);const s=(_,l=se)=>{var u=et();u.__click=[$e,f];var h=r(u,!0);a(u),M(()=>R(h,l())),b(_,u)};let t=Q(e,"tab",15),m=Q(e,"extra",3,!1),f=F(!1);var D=dt(),k=r(D);k.__click=function(..._){var l;(l=e.removeSelf)==null||l.apply(this,_)};var y=i(k,2);j(y,()=>!c(f),_=>{var l=ot(),u=r(l);s(u,()=>"Edit");var h=i(u,2),v=r(h);j(v,()=>t().name,n=>{var o=tt(),d=r(o,!0);a(o),M(()=>R(d,t().name)),b(n,o)},n=>{var o=at();b(n,o)});var w=i(v,2);j(w,()=>t().description,n=>{var o=rt(),d=r(o,!0);a(o),M(()=>R(d,t().description)),b(n,o)},n=>{var o=st();b(n,o)});var S=i(w,2);j(S,()=>t().price,n=>{var o=it(),d=r(o);M(()=>R(d,`${t().price??""}
                        ${(t().type==="percentage"?"%":ce())??""}`)),a(o),b(n,o)},n=>{var o=lt();b(n,o)}),a(h),a(l),b(_,l)},_=>{var l=ct(),u=r(l);s(u,()=>"Close");var h=i(u,2),v=r(h),w=i(r(v),2);W(w),a(v);var S=i(v,2),n=i(r(S),2),o=r(n);W(o);var d=i(o,2);j(d,()=>m()===!0,C=>{var I=nt(),T=r(I);T.value=(T.__value="percentage")==null?"":"percentage";var P=i(T);P.value=(P.__value="currency")==null?"":"currency";var O=r(P,!0);M(()=>R(O,ce())),a(P),a(I),re(I,()=>t().type,U=>t(t().type=U,!0)),b(C,I)}),a(n),a(S);var p=i(S,2),E=i(r(p),2);ye(E),a(p),a(h),a(l),M(()=>{V(w,"placeholder",t().name),V(o,"placeholder",t().price)}),z(w,()=>t().name,C=>t(t().name=C,!0)),z(o,()=>t().price,C=>t(t().price=C,!0)),z(E,()=>t().description,C=>t(t().description=C,!0)),b(_,l)}),a(D),M(()=>G(k,`mr-4 ${(c(f)?"hidden sm:visible":"")??""} 
                    text-red-500 hover:text-red-700`)),b(x,D),L()}Y(["click"]);var ut=g('<div class="space-y-2 py-2"><!> <button class="mt-2 text-orange-500"> </button></div>'),mt=g(`<div><h2 class="text-lg font-semibold">Types*</h2> <!> <h2 class="mt-4 sm:mt-8 text-lg font-semibold">Extras</h2> <!> <h2 class="mt-4 sm:mt-8 text-lg font-semibold">Add-in Services</h2> <div class="mt-2 sm:mt-4 space-y-4"><div class="flex flex-col items-start space-y-2 sm:space-y-0
                    sm:flex-row sm:items-center sm:justify-between sm:space-x-4"><div class="inline-flex items-center space-x-4"><input type="checkbox" id="fast-delivery"> <label for="fast-delivery" class="flex-1">Fast Delivery</label></div> <div class="inline-flex items-center flex-col sm:flex-row 
                        space-y-2 sm:space-y-0 sm:space-x-4"><div class="inline-flex items-center space-x-4"><input type="number" class="input-box entry" placeholder="Duration"> <select class="input-box entry"><option>Days</option><option>Weeks</option></select></div> <div class="inline-flex items-center space-x-4"><input type="number" class="input-box entry" placeholder="Price"> <select class="input-box entry"><option>%</option><option> </option></select></div></div></div> <div class="flex flex-col items-start space-y-2 sm:space-y-0
                     sm:justify-between sm:flex-row sm:items-center sm:space-x-4"><div class="inline-flex items-center space-x-4"><input type="checkbox" id="commercial-use"> <label for="commercial-use" class="flex-1">Commercial Use</label></div> <div class="inline-flex items-center space-x-4"><input type="number" class="input-box entry" placeholder="Price"> <select class="input-box entry"><option>%</option><option> </option></select></div></div></div></div>`);function Ae(x,e){J(e,!0);const s=(N,pe=se,te=se,be)=>{let he=qe(()=>We(be==null?void 0:be(),!1));var fe=ut(),we=r(fe);Z(we,17,pe,$,(ge,ne,je)=>{vt(ge,{get tab(){return c(ne)},removeSelf:()=>te()(je)})});var _e=i(we,2);_e.__click=function(...ge){var ne;(ne=c(he)?f:m)==null||ne.apply(this,ge)};var Ne=r(_e);a(_e),a(fe),M(()=>R(Ne,`+ Add new ${(c(he)?"extra":"type")??""}...`)),b(N,fe)};let t=e.props.selectedService;const m=()=>{t.types=[...t.types,{name:"",value:0,type:"currency",description:""}]},f=()=>{t.extras=[...t.extras,{name:"",value:0,type:"currency",description:""}]},D=N=>{t.types=t.types.filter((pe,te)=>te!==N)},k=N=>{t.extras=t.extras.filter((pe,te)=>te!==N)};var y=mt(),_=i(r(y),2);s(_,()=>t.types,()=>D);var l=i(_,4);s(l,()=>t.extras,()=>k,()=>!0);var u=i(l,4),h=r(u),v=r(h),w=r(v);W(w),de(2),a(v);var S=i(v,2),n=r(S),o=r(n);W(o);var d=i(o,2),p=r(d);p.value=(p.__value="days")==null?"":"days";var E=i(p);E.value=(E.__value="weeks")==null?"":"weeks",a(d),a(n);var C=i(n,2),I=r(C);W(I);var T=i(I,2),P=r(T);P.value=(P.__value="percentage")==null?"":"percentage";var O=i(P);O.value=(O.__value="currency")==null?"":"currency";var U=r(O,!0);M(()=>R(U,ce())),a(O),a(T),a(C),a(S),a(h);var B=i(h,2),X=r(B),ie=r(X);W(ie),de(2),a(X);var le=i(X,2),ve=r(le);W(ve);var ue=i(ve,2),me=r(ue);me.value=(me.__value="percentage")==null?"":"percentage";var oe=i(me);oe.value=(oe.__value="currency")==null?"":"currency";var Pe=r(oe,!0);M(()=>R(Pe,ce())),a(oe),a(ue),a(le),a(B),a(u),a(y),ee(w,()=>t.fastDelivery.enabled,N=>t.fastDelivery.enabled=N),z(o,()=>t.fastDelivery.duration,N=>t.fastDelivery.duration=N),re(d,()=>t.fastDelivery.unit,N=>t.fastDelivery.unit=N),z(I,()=>t.fastDelivery.price,N=>t.fastDelivery.price=N),re(T,()=>t.fastDelivery.type,N=>t.fastDelivery.type=N),ee(ie,()=>t.commercialUse.enabled,N=>t.commercialUse.enabled=N),z(ve,()=>t.commercialUse.price,N=>t.commercialUse.price=N),re(ue,()=>t.commercialUse.type,N=>t.commercialUse.type=N),b(x,y),L()}Y(["click"]);var pt=(x,e)=>e()(),bt=g("<button>Remove</button>"),ft=(x,e)=>A(e,!c(e)),_t=g('<h3 class="text-lg font-bold"> <p class="text-sm font-medium"> </p> <p class="text-sm font-medium"> </p></h3>'),gt=g('<h3 class="text-lg font-bold">Down Payment <p class="text-sm font-medium"> </p></h3>'),xt=g('<i class="fas text-lg font-bold ">(Missing Name)</i>'),yt=g('<div class="relative grow"><button class="absolute right-2 top-0 sm:top-2 hover:text-orange-500 underline">Edit</button> <div class="flex flex-col gap-2"><!></div></div>'),ht=(x,e)=>A(e,!c(e)),wt=g('<h3 class="text-lg font-bold">Down Payment</h3>'),kt=g('<label class="block text-sm font-medium">Name*</label> <input type="text" class="mt-1 block w-1/2 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500">',1),St=g(`<div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-duration" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-duration" class="select-none text-sm">Duration</label> <input type="number" min="0" max="100" class="ml-2 w-16 sm:w-24 
                                  rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <select class="ml-2 w-28 sm:w-32 
                                  rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>days</option><option>weeks</option></select></div>`),Tt=(x,e)=>{e().payment.value=Math.min(100,Math.max(0,e().payment.value))},Dt=g(`<div class="relative grow"><button class="absolute right-2 top-0 sm:top-2 hover:text-orange-500 underline">Close</button> <div class="space-y-4"><div><!></div> <!> <div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-payment" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-payment" class="select-none text-sm">Payment</label> <input type="number" min="0" max="100" class="ml-2 w-16 sm:w-24 
                              rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <span class="ml-1 text-sm">%</span></div></div></div>`),Ct=g('<div class="flex items-center justify-between rounded-lg border p-4 shadow entry"><!> <!></div>');function Se(x,e){J(e,!0);let s=Q(e,"tab",7),t=Q(e,"removeSelf",3,()=>{}),m=Q(e,"downpayment",3,!1),f=F(!1);var D=Ct(),k=r(D);j(k,()=>!m(),_=>{var l=bt();l.__click=[pt,t],M(()=>G(l,`mr-6 text-red-500 hover:text-red-700
                       ${(c(f)?"hidden sm:visible":"")??""}`)),b(_,l)});var y=i(k,2);j(y,()=>!c(f),_=>{var l=yt(),u=r(l);u.__click=[ft,f];var h=i(u,2),v=r(h);j(v,()=>s().name,w=>{var S=_t(),n=r(S),o=i(n),d=r(o,!0);a(o);var p=i(o,2),E=r(p,!0);a(p),a(S),M(()=>{R(n,`${s().name??""} `),R(d,s().payment.enabled?`Pay ${s().payment.value}%`:"No Payment Required"),R(E,s().duration.enabled?` Due within ${s().duration.value} ${s().duration.unit}`:"")}),b(w,S)},w=>{var S=xe(),n=K(S);j(n,m,o=>{var d=gt(),p=i(r(d)),E=r(p,!0);a(p),a(d),M(()=>R(E,s().payment.enabled?`Pay ${s().payment.value}%`:"No Down Payment Required")),b(o,d)},o=>{var d=xt();b(o,d)},!0),b(w,S)}),a(h),a(l),b(_,l)},_=>{var l=Dt(),u=r(l);u.__click=[ht,f];var h=i(u,2),v=r(h),w=r(v);j(w,m,p=>{var E=wt();b(p,E)},p=>{var E=kt(),C=i(K(E),2);W(C),M(()=>V(C,"placeholder",s().name)),z(C,()=>s().name,I=>s().name=I),b(p,E)}),a(v);var S=i(v,2);j(S,()=>!m(),p=>{var E=St(),C=r(E);W(C);var I=i(C,4);W(I);var T=i(I,2),P=r(T);P.value=(P.__value="days")==null?"":"days";var O=i(P);O.value=(O.__value="weeks")==null?"":"weeks",a(T),a(E),M(()=>V(I,"placeholder",s().duration.value)),ee(C,()=>s().duration.enabled,U=>s().duration.enabled=U),z(I,()=>s().duration.value,U=>s().duration.value=U),re(T,()=>s().duration.unit,U=>s().duration.unit=U),b(p,E)});var n=i(S,2),o=r(n);W(o);var d=i(o,4);W(d),d.__change=[Tt,s],de(2),a(n),a(h),a(l),M(()=>V(d,"placeholder",s().payment.value)),ee(o,()=>s().payment.enabled,p=>s().payment.enabled=p),z(d,()=>s().payment.value,p=>s().payment.value=p),b(_,l)}),a(D),b(x,D),L()}Y(["click","change"]);var Et=g('<p class="text-sm font-medium">Pay 100%</p>'),Ot=g('<p class="text-sm font-medium">No Additional Payment Required</p>'),At=g(`<div><h2 class="text-lg font-semibold">Milestones *</h2> <h3 class="mb-4">Payment should be sequential, not additive (i.e 10% -> 60% -> 100%). If there are no other
        milestones, payment will only be fully provided once the final work is submitted.</h3> <div class="space-y-2"><!> <!> <div class="mb-4 flex items-center justify-between rounded-lg border p-4 shadow entry"><div class="relative grow"><div class="flex flex-col"><h3 class="text-lg font-bold">Final Work</h3> <!></div></div></div></div> <button class="mt-4 text-orange-500">+ Add new milestone</button></div>`);function Me(x,e){J(e,!0);let s=e.props.selectedService,t=q(s.downpayment),m=H(()=>s.milestones.filter(n=>n.payment.enabled&&n.payment.value>=100).length>0);const f=()=>{s.milestones=[...s.milestones,{name:"New Milestone",duration:{value:7,unit:"days",enabled:!1},payment:{value:50,enabled:!1}}]};function D(n){s.milestones=s.milestones.filter((o,d)=>d!==n)}var k=At(),y=i(r(k),4),_=r(y);Se(_,{get tab(){return t},downpayment:!0});var l=i(_,2);Z(l,17,()=>s.milestones,$,(n,o,d)=>{Se(n,{get tab(){return c(o)},removeSelf:()=>D(d)})});var u=i(l,2),h=r(u),v=r(h),w=i(r(v),2);j(w,()=>!c(m),n=>{var o=Et();b(n,o)},n=>{var o=Ot();b(n,o)}),a(v),a(h),a(u),a(y);var S=i(y,2);S.__click=f,a(k),b(x,k),L()}Y(["click"]);var Mt=(x,e)=>e()(),It=g('<button class="mr-4 text-red-500 hover:text-red-700">Remove</button>'),Pt=g('<input type="checkbox" id="checkbox-enabled">'),Nt=(x,e)=>A(e,!c(e)),jt=g('<div class="relative grow"><button class="absolute right-2 hover:text-orange-500 underline">Edit</button> <div class="flex flex-col gap-2"><h3 class="text-lg font-bold"> </h3></div></div>'),Ut=(x,e)=>A(e,!c(e)),Bt=g('<div class="flex items-center gap-2"><input type="checkbox" id="global-enabled" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="global-enabled" class="text-sm font-medium">Add this term to global contract (applied when saved)</label></div>'),Rt=g(`<div class="relative grow"><button class="absolute right-2 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2 pr-16"><input type="text" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!> <textarea id="brief" rows="3" class="mt-1 block w-full rounded-md min-h-64 sm:min-h-32
                            entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div></div>`),qt=g('<div class="entry flex items-center justify-between rounded-lg border p-4 shadow"><!> <!></div>');function Te(x,e){J(e,!0);let s=Q(e,"tab",7),t=Q(e,"unique",3,!1),m=Q(e,"removeSelf",3,()=>{}),f=F(!1);var D=qt(),k=r(D);j(k,t,_=>{var l=It();l.__click=[Mt,m],b(_,l)},_=>{var l=Pt();W(l),M(()=>{V(l,"placeholder",s().enabled),G(l,`mr-4 h-4 w-4 text-orange-500 focus:ring-orange-500
                   ${(c(f)?"hidden sm:visible":"")??""}`)}),ee(l,()=>s().enabled,u=>s().enabled=u),b(_,l)});var y=i(k,2);j(y,()=>!c(f),_=>{var l=jt(),u=r(l);u.__click=[Nt,f];var h=i(u,2),v=r(h),w=r(v,!0);a(v),a(h),a(l),M(()=>R(w,s().title)),b(_,l)},_=>{var l=Rt(),u=r(l);u.__click=[Ut,f];var h=i(u,2),v=r(h);W(v);var w=i(v,2);j(w,t,n=>{var o=Bt(),d=r(o);W(d),de(2),a(o),ee(d,()=>s().global,p=>s().global=p),b(n,o)});var S=i(w,2);ye(S),a(h),a(l),M(()=>{V(v,"placeholder",s().title),V(S,"placeholder",s().details)}),z(v,()=>s().title,n=>s().title=n),z(S,()=>s().details,n=>s().details=n),b(_,l)}),a(D),b(x,D),L()}Y(["click"]);const Wt=(x,e)=>{A(e,q([...c(e),{details:"Details here",title:"New Section",global:!1}]))};var Ft=g(`<div><h2 class="text-lg font-semibold">Terms Of Service</h2> <h3>Choose sections from your global contract, or add a new term specific to this service. Any
        changes made here to the global terms will be applied for all other services.</h3> <div class="my-4 flex flex-col gap-2"><!> <!></div> <button class=" text-orange-500">+ Add new section...</button></div>`);function Ie(x,e){var h;J(e,!0);const s=e.props.selectedService,t=((h=ae("tos",{},{artistId:s.artistId}))==null?void 0:h.categories)??[];let m=q(t.map(v=>({...v,enabled:s.termsOfService[v.title]}))),f=F(q(s.uniqueTos.map(v=>({...v,global:!1}))));function D(v,w){return w.filter((S,n)=>n!==v)}var k=Ft(),y=i(r(k),4),_=r(y);Z(_,17,()=>m,$,(v,w)=>{Te(v,{get tab(){return c(w)}})});var l=i(_,2);Z(l,17,()=>c(f),$,(v,w,S)=>{Te(v,{get tab(){return c(w)},unique:!0,removeSelf:()=>{A(f,q(D(S,c(f))))}})}),a(y);var u=i(y,2);u.__click=[Wt,f],a(k),b(x,k),L()}Y(["click"]);var zt=g('<div class="card-container px-6"><!></div>');function Xt(x,e){let s=[{label:"Overview",value:1,component:Oe,props:{selectedService:e.selectedService}},{label:"Service Details",value:2,component:Ae,props:{selectedService:e.selectedService}},{label:"Milestones",value:3,component:Me,props:{selectedService:e.selectedService}},{label:"Terms of Service",value:4,component:Ie,props:{selectedService:e.selectedService}}];var t=zt(),m=r(t);Ee(m,{items:s}),a(t),b(x,t)}var Jt=(x,e,s)=>e()(s()),Lt=g('<div class="h-3 w-3 rounded-full !bg-white"></div>'),Vt=g("<div></div>"),Yt=g('<div class="flex cursor-pointer flex-col items-center"><div><!></div> <p> </p></div> <!>',1),Ht=g('<div class="flex items-center"><div class="relative flex items-center "></div></div>');function Qt(x,e){J(e,!0);const s=(k,y=se)=>{var _=Yt(),l=K(_);l.__click=[Jt,t,y];var u=r(l);const h=H(()=>`flex h-6 w-6 items-center justify-center rounded-full ${m(y(),"bg")??""}`);var v=r(u);j(v,()=>e.currentIndex<y(),d=>{var p=Lt();b(d,p)}),a(u);var w=i(u,2);const S=H(()=>`mt-2 text-sm font-medium text-center 
                    ${(e.currentIndex===y()?"text-orange-500":"")??""}
              ${m(y(),"text")??""}
        `);var n=r(w,!0);a(w),a(l);var o=i(l,2);j(o,()=>y()!==e.nodeTimeline.length-1,d=>{var p=Vt();const E=H(()=>`mx-2 w-12 h-1 flex-1 ${m(y(),"bg")??""}`);M(()=>G(p,c(E))),b(d,p)}),M(()=>{G(u,c(h)),G(w,c(S)),R(n,e.nodeTimeline[y()])}),b(k,_)},t=Q(e,"callback",3,()=>{}),m=(k,y)=>e.currentIndex>=k?`!${y}-orange-500`:`!${y}-gray-500`;var f=Ht(),D=r(f);Z(D,21,()=>e.nodeTimeline,$,(k,y,_)=>{s(k,()=>_)}),a(D),a(f),b(x,f),L()}Y(["click"]);var Gt=g("<div><!></div>");function Kt(x,e){J(e,!0);const s=e.props.selectedService,t=e.props.currentArtist;var m=Gt(),f=r(m);Ve(f,{selectedService:s,currentArtist:t,get artDB(){return s.samples},viewOnly:!0,artViewOnly:!0}),a(m),b(x,m),L()}var Zt=g('<div class="mb-4 card-container px-2 sm:px-6 overflow-x-auto"><!></div> <div class="card-container px-6"><!> <!></div>',1);function $t(x,e){let t=F(0),m=["Overview","Types","Milestones","Terms of Service","Summary"],f=F(q([{label:"Overview",value:1,component:Oe,props:{selectedService:e.selectedService},bindable:!0},{label:"Service Details",value:2,component:Ae,props:{selectedService:e.selectedService},bindable:!0},{label:"Milestones",value:3,component:Me,props:{selectedService:e.selectedService},bindable:!0},{label:"Terms of Service",value:4,component:Ie,props:{selectedService:e.selectedService},bindable:!0},{label:"Summary",value:5,component:Kt,props:{selectedService:e.selectedService,currentArtist:e.currentArtist}}]));const D=()=>(ke(t,-1),Math.min(c(t),0)),k=()=>(ke(t),Math.max(c(t),4)),y=o=>{A(t,q(o))};var _=Zt(),l=K(_),u=r(l);Qt(u,{nodeTimeline:m,get currentIndex(){return c(t)},callback:y}),a(l);var h=i(l,2),v=r(h),w=H(()=>c(t)+1);Ee(v,{get items(){return c(f)},hideTabs:!0,get currentTab(){return c(w)},get bindableItems(){return c(f)},set bindableItems(o){A(f,q(o))},binded:!0});var S=i(v,2),n=H(()=>[c(t),4]);Ye(S,{goToPreviousStep:D,proceedToNextStep:k,backwards:"Previous Step",forwards:"Next Step",get indexes(){return c(n)}}),a(h),b(x,_)}const ea=(x,e)=>{confirm("Are you sure you want to delete this service?")&&(e.editOrCreate&&e.removeEntry(e.props.id),e.closeEdit())},ta=(x,e,s)=>{c(e).isOpen=!0,c(e).state="published",s.addEntry(c(e)),s.closeEdit()};var aa=g(`<div class="fixed inset-0 z-50 overflow-y-auto min-h-full"><div class="h-full relative !bg-gray-100 dark:!bg-stone-900"><div class="mb-4 flex flex-col sm:flex-row w-full justify-between border-b-2 
            pt-4 pb-2 colour-border px-6 sm:px-6 md:px-8 lg:px-10"><!> <div class="flex flex-row space-x-2 mt-2 sm:mt-0"><button class="discard-button"> </button> <button class="save-button mx-0 sm:mx-4">Publish</button></div></div> <div class="px-2 sm:px-6 md:px-10 lg:px-16 !bg-gray-100 dark:!bg-stone-900 pb-6"><!></div></div></div>`);function De(x,e){J(e,!0);const s=JSON.parse(JSON.stringify(e.props));let t=F(q({}));const m=()=>{e.editOrCreate?confirm("Are you sure you want to discard your changes?")&&(e.editEntry(s),e.closeEdit()):(e.addEntry(c(t)),e.closeEdit())};if(!e.editOrCreate){const n=e.props.currentArtist,o=ae("tos",{artistId:Number(n.id)},{})[0].categories,d=Object.assign({},...o.map(p=>({[p.title]:!0})));A(t,q({id:e.props.id,artistId:n.id,state:"draft",isOpen:!1,title:"Working Title",description:"Working Description",thumbnail:"",samples:[],tags:[],types:[{name:"Sample Name",price:20,type:"currency",description:"Sample Description"}],extras:[],fastDelivery:{enabled:!1,price:50,type:"percentage",duration:3,unit:"days"},commercialUse:{enabled:!1,price:100,type:"percentage"},downpayment:{payment:{value:20,enabled:!1}},milestones:[],termsOfService:d,uniqueTos:[]}))}var f=aa(),D=r(f),k=r(D),y=r(k),_=H(()=>e.editOrCreate?"Edit Service":"Create Service");Xe(y,{closeEdit:m,includeBorder:!1,get buttonText(){return c(_)}});var l=i(y,2),u=r(l);u.__click=[ea,e];var h=r(u,!0);a(u);var v=i(u,2);v.__click=[ta,t,e],a(l),a(k);var w=i(k,2),S=r(w);j(S,()=>e.editOrCreate,n=>{Xt(n,{get closeEdit(){return e.closeEdit},get selectedService(){return e.props}})},n=>{$t(n,{get closeEdit(){return e.closeEdit},get selectedService(){return c(t)},get currentArtist(){return e.props}})}),a(w),a(D),a(f),M(()=>R(h,e.editOrCreate?"Delete Service":"Discard Draft")),b(x,f),L()}Y(["click"]);var ra=g('<img alt="Service Missing" class="h-48 w-full rounded-md object-contain">'),sa=g('<section class="card-container mb-8"><h2 class="mb-4 text-lg font-semibold"> </h2> <div class="service-grid mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"><!></div> <!></section>'),ia=(x,e)=>A(e,!c(e)),la=(x,e)=>A(e,!0),oa=g('<div class="card-island"><div class="mb-4 flex items-center justify-between"><h1 class="page-title">Manage Services</h1> <div><button> </button> <button class="my-services-button rounded bg-orange-500 px-4 py-2 text-white hover:bg-orange-600">Create New Service</button></div></div> <!></div>');function Da(x,e){var n,o;J(e,!0);const s=(d,p=se)=>{var E=sa(),C=r(E),I=r(C,!0);M(()=>R(I,p()[0].toUpperCase()+p().slice(1))),a(C);var T=i(C,2),P=r(T),O=H(()=>c(t).filter(B=>B.state===p()));ze(P,{get serviceDB(){return c(O)},get openComm(){return c(f)},viewOnly:!1,currentArtist:!0,callback:_,editEntry:v,removeEntry:h}),a(T);var U=i(T,2);j(U,()=>c(t).filter(B=>B.state===p()).length===0,B=>{var X=ra();M(()=>V(X,"src",Ce("artwork",""))),b(B,X)}),a(E),b(d,E)};let t=F(q((n=e.data)==null?void 0:n.service)),m=(o=e.data)==null?void 0:o.user,f=F(q(e.data.artist.openCommission)),D=F(null),k=F(!1),y=F(!1);const _=d=>{A(D,q(d)),A(k,!0),A(y,!1)},l=()=>{A(k,!1),A(y,!1)},u=d=>{A(t,q([...c(t),d]))},h=d=>{A(t,q(c(t).filter(p=>p.id!==d)))},v=d=>{A(t,q(c(t).map(p=>p.id===d.id?d:p)))};var w=xe();Re(d=>{Fe.title="BrushHub - Manage Services"});var S=K(w);j(S,()=>c(k),d=>{De(d,{closeEdit:l,editOrCreate:!0,get props(){return c(D)},addEntry:u,removeEntry:h,editEntry:v})},d=>{var p=xe(),E=K(p);j(E,()=>c(y),C=>{var I=H(()=>({currentArtist:m,id:c(t).length>0?c(t)[c(t).length-1].id+1:1}));De(C,{closeEdit:l,editOrCreate:!1,get props(){return c(I)},addEntry:u,removeEntry:h,editEntry:v})},C=>{var I=oa(),T=r(I),P=i(r(T),2),O=r(P);O.__click=[ia,f];var U=r(O,!0);a(O);var B=i(O,2);B.__click=[la,y],a(P),a(T);var X=i(T,2);Z(X,16,()=>["published","draft","archived"],$,(ie,le)=>{s(ie,()=>le)}),a(I),M(()=>{G(O,`my-services-button rounded px-4 py-2 mr-4 discard-button 
                    ${(c(f)?"!bg-stone-100 !text-red-700 ":"")??""}`),R(U,c(f)?"Services Open":"Services Closed")}),b(C,I)},!0),b(d,p)}),b(x,w),L()}Y(["click"]);export{Da as component,Ta as universal};
