import{e as he}from"../chunks/index.N2vYJoCP.js";import{g as xe,b as ye}from"../chunks/util.DwkNCAbs.js";import{p as ke,c as we,r as D,s as j,w as le}from"../chunks/db.CVRkyNLs.js";import{d as De,a as h,t as x,r as je,s as k}from"../chunks/disclose-version.CSxEiuyN.js";import{_ as Pe,aj as Se,ae as Be,p as Ce,b as P,ak as Me,t as b,a as Ue,g as e,d as g,h as Ne,s,c as d,r as l,n as de}from"../chunks/runtime.yDkJktn_.js";import{i as ce}from"../chunks/if.B3MD_1yl.js";import{e as J,i as V}from"../chunks/each.CJeE_QmZ.js";import{a as w}from"../chunks/input.dMsVNq4n.js";import{b as Oe}from"../chunks/select.BOS-8e6M.js";import{p as q}from"../chunks/proxy.C9ShvAXK.js";function Re(a,o=!1){return S(a,new Map)}function S(a,o,v,y){if(typeof a=="object"&&a!==null){const m=o.get(a);if(m!==void 0)return m;if(a instanceof Map)return new Map(a);if(a instanceof Set)return new Set(a);if(Pe(a)){const p=[];o.set(a,p);for(let f=0;f<a.length;f+=1)p.push(S(a[f],o));return p}if(Se(a)===Be){const p={};o.set(a,p);for(var t in a)p[t]=S(a[t],o);return p}if(a instanceof Date)return structuredClone(a);if(typeof a.toJSON=="function")return S(a.toJSON(),o)}if(a instanceof EventTarget)return a;try{return structuredClone(a)}catch{return a}}const Ae=!1,Ee=()=>{const a=xe(),o=ke("artist",{},{id:a.id});if(!o)throw he(404,"You are not the current user");return{artist:o}},na=Object.freeze(Object.defineProperty({__proto__:null,load:Ee,ssr:Ae},Symbol.toStringTag,{value:"Module"})),Te=(a,o)=>{alert("Saved!"),we(Re(e(o)))};var Le=(a,o,v)=>o(a,v()),We=(a,o,v,y,t)=>{o()==="dp"?(e(v).uploadedDP="",g(y,"")):(e(v).uploadedBanner="",g(t,""))},ze=x('<div class="mt-2 flex justify-center space-x-2"><label class="mr-4 cursor-pointer rounded bg-orange-500 px-4 py-2 text-sm font-medium text-white hover:bg-orange-600">Upload Image</label> <input type="file" accept="image/*" class="hidden"> <button class="text-red-500 hover:underline">Remove</button></div>'),Je=x('<p class="mt-2 text-sm text-red-500"> </p>'),Ve=x('<p class="mt-2 text-sm text-red-500"> </p>'),qe=x(`<div class="items-center space-x-1 rounded px-2 py-1 justify-center flex
                                        !bg-orange-100 text-orange-500 dark:!bg-orange-500 dark:text-orange-100"><span> </span> <button class="text-xs font-bold">x</button></div>`),Fe=x("<option> </option>"),He=x('<div class="flex items-center space-x-2"><button class="sub-heading hover:text-orange-500 disabled:text-gray-300" aria-label="Move link up">‚ñ≤</button> <button class="sub-heading hover:text-orange-500 disabled:text-gray-300" aria-label="Move link down">‚ñº</button> <input type="url" placeholder="Enter link URL" class="w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <button class="sub-heading hover:text-red-500" aria-label="Remove link">üóëÔ∏è</button></div>'),Ye=(a,o)=>e(o).links.push(""),Ge=(a,o,v)=>{confirm("Are you sure you want to discard all changes?")&&g(o,q(v))},Ie=x(`<div class="card-island"><div class="flex flex-col space-y-6"><h1 class="page-title -mb-2">Profile Customization</h1> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><p class="block text-sm font-medium heading">Profile Picture</p> <p class="mt-1 text-sm sub-heading">Appears whenever your page is presented to others</p> <!> <img alt="DP" class="mx-auto my-4 h-24 w-24 rounded-full"> <!></div> <div><p class="block text-sm font-medium heading">Banner Image</p> <p class="mt-1 text-sm sub-heading">This image will be displayed at the top of your profile page</p> <!> <img alt="Cover Banner" class="mx-auto my-4 h-24 w-full rounded-md object-cover"> <!></div></div> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><label for="username" class="block text-sm font-medium heading">Handle</label> <p class="mt-1 text-sm sub-heading"> </p> <input type="text" id="username" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <div><label for="displayName" class="block text-sm font-medium heading">Display Name</label> <p class="mt-1 text-sm sub-heading">Choose a channel name that represents you and your content</p> <input type="text" id="displayName" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></div></div> <div><label for="bio" class="block text-sm font-medium heading">Bio</label> <textarea id="bio" rows="3" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></textarea></div> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><label for="languages" class="block text-sm font-medium heading">Languages</label> <div class="mt-1 block w-full rounded-md border border-gray-300 bg-white p-2 shadow-sm"><div class="flex flex-wrap gap-2"></div> <input type="text" placeholder="Add language" class="mt-2 block w-full rounded-md entry shadow-sm entry focus:border-orange-500 focus:ring-orange-500"></div> <p class="mt-1 text-sm sub-heading">Enter a comma after every language</p></div> <div><label for="location" class="block text-sm font-medium heading">Location</label> <select id="location" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></select></div></div> <div class="mt-6 space-y-2"><label for="location" class="block text-sm font-medium heading">External Links</label> <p class="text-sm sub-heading">Share external links with viewers. They'll be visible on your profile.</p> <!> <button class="mt-2 flex items-center text-orange-500 hover:underline"><span class="mr-2 text-lg">+</span> Add new link</button></div></div> <div class="mt-6 flex justify-between space-x-4 items-center"><p class="text-sm sub-heading">*Disclaimer: Since no database is being used, some information like images and usernames are not retained after saving.</p> <div class="flex space-x-4"><button class="rounded border border-red-500 px-4 py-2 text-red-500 ">Discard Changes</button> <button class="rounded bg-orange-500 px-4 py-2 text-white hover:bg-orange-600">Save</button></div></div></div>`);function oa(a,o){Ce(o,!0);const v=(i,n=Ne)=>{var r=ze(),c=d(r),u=s(c,2);u.__change=[Le,ue,n];var _=s(u,2);_.__click=[We,n,t,f,p],l(r),b(()=>{j(c,"for",`upload-${n()??""}`),j(u,"id",`upload-${n()??""}`)}),h(i,r)},y={...o.data.artist,...o.data.user,uploadedDP:o.data.user.avatar,uploadedBanner:o.data.user.coverImage};let t=P(q(y)),m=P("");Me(()=>{/,\s$/.test(e(m))&&(g(m,q(e(m).replace(/,\s$/,""))),e(t).languages.push(e(m)),g(m,""))});let p=P(""),f=P("");const ue=(i,n)=>{var u;const r=(u=i.target.files)==null?void 0:u[0];if(!r)return;if(!r.type.startsWith("image/")){n==="dp"?g(f,"Only image files (e.g., jpg, png) are allowed."):g(p,"Only image files (e.g., jpg, png) are allowed.");return}const c=new FileReader;c.onload=()=>{n==="dp"?(e(t).uploadedDP=c.result,g(f,"")):(e(t).uploadedBanner=c.result,g(p,""))},c.readAsDataURL(r)};function F(i,n){if(n<0||n>=e(t).links.length)return;const r=e(t).links[i];e(t).links[i]=e(t).links[n],e(t).links[n]=r}var B=Ie(),C=d(B),M=s(d(C),2),U=d(M),H=s(d(U),4);ce(H,()=>e(f),i=>{var n=Je(),r=d(n,!0);l(n),b(()=>k(r,e(f))),h(i,n)});var Y=s(H,2);b(()=>j(Y,"src",le("dp",e(t).uploadedDP)));var pe=s(Y,2);v(pe,()=>"dp"),l(U);var G=s(U,2),I=s(d(G),4);ce(I,()=>e(p),i=>{var n=Ve(),r=d(n,!0);l(n),b(()=>k(r,e(p))),h(i,n)});var K=s(I,2);b(()=>j(K,"src",le("banner",e(t).uploadedBanner)));var me=s(K,2);v(me,()=>"banner"),l(G),l(M);var N=s(M,2),O=d(N),R=s(d(O),2),ve=d(R);l(R);var Q=s(R,2);D(Q),l(O);var X=s(O,2),Z=s(d(X),4);D(Z),l(X),l(N);var A=s(N,2),$=s(d(A),2);je($),l(A);var E=s(A,2),T=d(E),ee=s(d(T),2),L=d(ee);J(L,21,()=>e(t).languages,V,(i,n,r)=>{var c=qe();c.__click=()=>e(t).languages.splice(r,1);var u=d(c),_=d(u,!0);l(u),de(2),l(c),b(()=>k(_,e(n))),h(i,c)}),l(L);var ae=s(L,2);D(ae),l(ee),de(2),l(T);var te=s(T,2),W=s(d(te),2);J(W,21,ye,V,(i,n)=>{var r=Fe(),c={},u=d(r,!0);l(r),b(()=>{c!==(c=e(n))&&(r.value=(r.__value=e(n))==null?"":e(n)),k(u,e(n))}),h(i,r)}),l(W),l(te),l(E);var re=s(E,2),se=s(d(re),4);J(se,17,()=>e(t).links,V,(i,n,r)=>{var c=He(),u=d(c);u.__click=()=>F(r,r-1),u.disabled=r===0;var _=s(u,2);_.__click=()=>F(r,r+1);var z=s(_,2);D(z);var be=s(z,2);be.__click=()=>e(t).links.splice(r,1),l(c),b(()=>_.disabled=r===e(t).links.length-1),w(z,()=>e(t).links[r],_e=>e(t).links[r]=_e),h(i,c)});var ge=s(se,2);ge.__click=[Ye,t],l(re),l(C);var ne=s(C,2),oe=s(d(ne),2),ie=d(oe);ie.__click=[Ge,t,y];var fe=s(ie,2);fe.__click=[Te,t],l(oe),l(ne),l(B),b(()=>k(ve,`Choose a unique handle - brushhub.com/${e(t).username??""}`)),w(Q,()=>e(t).username,i=>e(t).username=i),w(Z,()=>e(t).displayName,i=>e(t).displayName=i),w($,()=>e(t).bio,i=>e(t).bio=i),w(ae,()=>e(m),i=>g(m,i)),Oe(W,()=>e(t).location,i=>e(t).location=i),h(a,B),Ue()}De(["change","click"]);export{oa as component,na as universal};
