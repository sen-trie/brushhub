import{e as xe}from"../chunks/index.BGaZVzMC.js";import{p as de,r as ve,s as ne,d as he}from"../chunks/db.C7ljDpzD.js";import{d as fe,a as p,t as B,s as h,r as pe,c as ee,h as ye}from"../chunks/disclose-version.bD0kEr0Y.js";import{p as ie,s,j as Q,c as r,r as e,t as b,g as a,n as ge,a as oe,b as F,d as v,al as we,e as Se,$ as ke}from"../chunks/runtime.NkCrfN_B.js";import{i as V}from"../chunks/if.BQ7NR3mh.js";import{p as O}from"../chunks/proxy.B8o5R4Xe.js";import"../chunks/legacy.CPYThMws.js";import{e as te,i as re}from"../chunks/each.CcwbMJOJ.js";import{c as me}from"../chunks/svelte-component.DFBsx8bq.js";import{c as q,k as be,d as Ce,n as Be}from"../chunks/util.mWYPgLjG.js";import{p as Te}from"../chunks/index.JlfZo8Bi.js";import{M as _e}from"../chunks/Milestone.H9W1Gr_N.js";import{b as Pe,a as ue}from"../chunks/input.DT_BWzvP.js";import{b as Ie}from"../chunks/select.DJoPLiCy.js";import{p as De}from"../chunks/props.CoMpn4C5.js";import{o as Me}from"../chunks/index-client.DEimdaJB.js";import{I as je,C as Re,S as Ne}from"../chunks/ServicePage.BldBWx0i.js";import{B as Oe}from"../chunks/BackButtonArrow.DcP8YEU2.js";const Ae=async()=>[{slug:"1"},{slug:"2"}],Ee=({params:S})=>{const t=S.slug.toLowerCase(),i=de("services",{},{id:Number(t)});if(!i)throw xe(404,"No matching tag found for your search");return{service:i}},St=Object.freeze(Object.defineProperty({__proto__:null,entries:Ae,load:Ee},Symbol.toStringTag,{value:"Module"}));var He=()=>{window.history.back()},We=B('<button class="mb-4 inline-flex items-center rounded border border-orange-500 px-4 py-2 text-sm font-medium text-orange-500 hover:bg-orange-50">Back</button>');function Ue(S){var t=We();t.__click=[He],p(S,t)}fe(["click"]);var qe=B('<details class="rounded-md border p-4"><summary class="text-sm font-semibold"> </summary> <p class="mt-2 text-sm"> </p></details>'),Fe=B('<h2 class="mt-2 sm:mt-6 text-lg font-semibold">Milestones</h2> <p class="mb-6 text-sm">* Your money will be held and paid to the artist as per the completion of milestones.</p> <div class="overflow-x-auto pb-4 sm:pb-0"><!></div> <h2 class="mt-6 text-lg font-semibold">Terms of Services</h2> <div class="mt-4 space-y-2"></div> <p class="mt-6 text-sm">* By proceeding to the commission, you agree with the proposed milestones and terms of service.</p>',1);function Le(S,t){var P;ie(t,!0);const i=(P=de("tos",{},{artistId:t.selectedService.artistId}))==null?void 0:P.categories.filter(y=>t.selectedService.termsOfService[y.title]===!0);var c=Fe(),m=s(Q(c),4),u=r(m);_e(u,{get selectedService(){return t.selectedService}}),e(m);var k=s(m,4);te(k,21,()=>i,re,(y,_)=>{var x=qe(),C=r(x),A=r(C,!0);e(C);var g=s(C,2),E=r(g,!0);e(g),e(x),b(()=>{h(A,a(_).title),h(E,a(_).details)}),p(y,x)}),e(k),ge(2),p(S,c),oe()}var Ye=B('<option class="entry"> </option>'),ze=B('<div class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded colour-border text-orange-500 focus:ring-orange-500"> <label class="ml-2 text-sm" style="user-select: none;"> </label></div>'),Ge=(S,t)=>{const i=S.target.value;t(i)},Qe=B('<p class="sm:-mt-4 text-sm text-red-500"> </p>'),Xe=B(`<div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 pt-4 sm:pt-6"><div><div class="mb-4"><label for="type" class="block text-sm font-medium">Type *</label> <select id="type" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></select></div> <div class="mb-4"><label for="extras" class="block text-sm font-medium">Extras</label> <div class="mt-2 space-y-2"></div></div> <div class="mb-4"><label for="brief" class="block text-sm font-medium"> </label> <textarea id="brief" rows="3" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm" placeholder="Input your brief idea..."></textarea> <div class="mt-2 flex items-center"><p class="mr-2 text-sm">Or</p> <label for="upload-brief" class="cursor-pointer rounded border colour-border px-3 py-1 text-sm 
                            bg-orange-500 text-white hover:bg-orange-600">Upload your brief</label> <input id="upload-brief" type="file" accept=".txt" class="hidden"></div></div> <div class="mb-4"><label for="deadline" class="block text-sm font-medium">Deadline*</label> <input id="deadline" type="date" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></div> <p class="hidden sm:visible mt-4 text-lg font-bold text-green-600"> </p></div> <div><h3 class="text-sm font-medium">References</h3> <!></div> <!> <p class="visible sm:hidden text-lg text-right font-bold text-green-600"> </p></div>`);function Je(S,t){ie(t,!0);let i=De(t,"commissionChoice",15),c=F(O([])),m=F(""),u=F(""),k=F(""),P=Se(()=>be(t.selectedService,i()));const y=5e3,_=l=>{l.length>y?(v(k,`Brief cannot exceed ${y} characters.`),v(u,O(l.slice(0,y)))):(v(u,O(l)),v(k,""))},x=new Date;x.setDate(x.getDate()+1);const C=x.toISOString().split("T")[0],A=l=>{var d;const o=(d=l.target.files)==null?void 0:d[0];if(!o)return;if(o.type!=="text/plain"){v(k,"Only .txt files are allowed for the brief.");return}const n=new FileReader;n.onload=()=>{const w=n.result;_(w)},n.readAsText(o)},g=l=>{const o=l.target.files;if(o){if(a(c).length+o.length>10){v(m,"You can upload a maximum of 10 images.");return}for(const n of o){if(!n.type.startsWith("image/")){v(m,"Only image files (e.g., jpg, png) are allowed.");return}const d=new FileReader;d.onload=()=>{v(c,O([...a(c),d.result]))},d.readAsDataURL(n)}v(m,"")}},E=l=>{v(c,O(a(c).filter((o,n)=>n!==l)))};Me(()=>{v(u,O(i().brief)),v(c,O(i().images))}),we(()=>{i(i().brief=a(u),!0),i(i().images=a(c),!0)});var H=Xe(),I=r(H),L=r(I),W=s(r(L),2);te(W,21,()=>t.selectedService.types,re,(l,o,n)=>{var d=Ye();d.value=(d.__value=n)==null?"":n;var w=r(d);b(()=>h(w,`${a(o).name??""} (${q(a(o).price)??""})`)),e(d),p(l,d)}),e(W),e(L);var X=s(L,2),Y=s(r(X),2);te(Y,21,()=>t.selectedService.extras,re,(l,o,n)=>{var d=ze(),w=r(d);ve(w);var se=s(w,2),le=r(se);b(()=>h(le,`${a(o).name??""} (+${(a(o).type==="percentage"?`${a(o).price} % of base price`:q(a(o).price))??""}
                            )`)),e(se),e(d),b(()=>{ne(w,"id",a(o).name),ne(se,"for",a(o).name)}),Pe(w,()=>i().extras[n],ce=>i(i().extras[n]=ce,!0)),p(l,d)}),e(Y),e(X);var D=s(X,2),M=r(D),z=r(M);e(M);var j=s(M,2);pe(j),j.__input=[Ge,_];var J=s(j,2),Z=s(r(J),4);Z.__change=A,e(J),e(D);var R=s(D,2),G=s(r(R),2);ve(G),ne(G,"min",C),e(R);var K=s(R,2),$=r(K);b(()=>h($,`Net Total: ${q(a(P))??""}`)),e(K),e(I);var U=s(I,2),ae=s(r(U),2);je(ae,{get uploadedImages(){return a(c)},get imageWarningMessage(){return a(m)},removeImage:E,handleImageUpload:g}),e(U);var T=s(U,2);V(T,()=>t.warningMessage,l=>{var o=Qe(),n=r(o,!0);e(o),b(()=>h(n,t.warningMessage)),p(l,o)});var f=s(T,2),N=r(f);b(()=>h(N,`Net Total: ${q(a(P))??""}`)),e(f),e(H),b(()=>h(z,`Brief* (${y-a(u).length} characters left)`)),Ie(W,()=>i().selectedTier,l=>i(i().selectedTier=l,!0)),ue(j,()=>a(u),l=>v(u,l)),ue(G,()=>i().deadline,l=>i(i().deadline=l,!0)),p(S,H),oe()}fe(["input","change"]);var Ke=B('<div><p> </p> <p class="font-medium"> </p></div>'),Ve=B("<p>No extras selected.</p>"),Ze=B('<img alt="Reference" class="h-32 w-full rounded-md border object-cover">'),$e=B(`<div class="pt-6"><div class="overflow-x-auto pb-4 sm:pb-0"><!></div> <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 sm:gap-6"><div><div class="mb-4 flex justify-between"><p class="font-medium">Type:</p> <p class="font-medium"> </p></div> <div class="mb-4 flex justify-between"><p class="font-medium">Base Price:</p> <p class="font-medium"> </p></div> <div class="mb-4 flex justify-between"><p class="font-medium">Extras:</p> <div class="text-right"><!> <!></div></div> <div class="mb-4"><p class="block font-medium">Brief:</p> <textarea readonly="" rows="5" class="mt-1 w-full rounded-md colour-border entry
                    p-2 shadow-sm focus:colour-border focus:ring-0 sm:text-sm"></textarea></div> <div class="mb-4 flex justify-between"><p class="font-medium">Deadline:</p> <p class="font-medium"> </p></div></div> <div><p class="mb-2 block font-medium">References:</p> <div class="grid grid-cols-3 gap-2"></div> <div class="mt-6"><label for="payment-method" class="mb-2 block font-medium">Payment Method</label> <select id="payment-method" class="mt-1 block w-full rounded-md entry 
                            shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"><option>BrushHub Wallet</option><option>Stripe</option><option>PayPal</option><option>Credit Card</option></select></div></div></div> <div class="flex flex-col sm:flex-row items-center justify-between"><p class="text-sm mt-2 sm:mt-0">* Your payment will be held until the completion of commission milestones and refunded
            in case of cancellation.</p> <div class="text-right"><p class="text-lg font-bold text-green-600 hidden sm:visible"> </p></div></div> <p class="mt-2 text-right text-lg font-bold text-green-600 visible sm:hidden"> </p></div>`);function et(S,t){ie(t,!0);const i=t.selectedService.types[t.commissionChoice.selectedTier].price,c=be(t.selectedService,t.commissionChoice),m=t.selectedService.extras.filter((T,f)=>t.commissionChoice.extras[f]).length>0;var u=$e(),k=r(u),P=r(k);_e(P,{get selectedService(){return t.selectedService}}),e(k);var y=s(k,2),_=r(y),x=r(_),C=s(r(x),2),A=r(C,!0);e(C),e(x);var g=s(x,2),E=s(r(g),2),H=r(E,!0);b(()=>h(H,q(i))),e(E),e(g);var I=s(g,2),L=s(r(I),2),W=r(L);te(W,17,()=>t.selectedService.extras,re,(T,f,N)=>{var l=ee(),o=Q(l);V(o,()=>t.commissionChoice.extras[N],n=>{var d=Ke(),w=r(d),se=r(w);e(w);var le=s(w,2),ce=r(le);b(()=>h(ce,`+${(a(f).type==="percentage"?a(f).price+"% ("+q(Math.round(i*a(f).price/100))+")":q(a(f).price))??""}`)),e(le),e(d),b(()=>h(se,`${a(f).name??""}:`)),p(n,d)}),p(T,l)});var X=s(W,2);V(X,()=>!m,T=>{var f=Ve();p(T,f)}),e(L),e(I);var Y=s(I,2),D=s(r(Y),2);pe(D),e(Y);var M=s(Y,2),z=s(r(M),2),j=r(z);b(()=>h(j,`${t.commissionChoice.deadline??""}
                    [${Ce(t.commissionChoice.deadline)??""}]`)),e(z),e(M),e(_);var J=s(_,2),Z=s(r(J),2);te(Z,21,()=>t.commissionChoice.images,re,(T,f)=>{var N=Ze();b(()=>ne(N,"src",a(f))),p(T,N)}),e(Z),ge(2),e(J),e(y);var R=s(y,2),G=s(r(R),2),K=r(G),$=r(K);b(()=>h($,`Net Total: ${q(c)??""}`)),e(K),e(G),e(R);var U=s(R,2),ae=r(U);b(()=>h(ae,`Net Total: ${q(c)??""}`)),e(U),e(u),b(()=>{h(A,t.selectedService.types[t.commissionChoice.selectedTier].name),he(D,`${t.commissionChoice.brief??""}
                `)}),p(S,u),oe()}var tt=B("<!> <!>",1),rt=B(`<div class="fixed inset-0 z-50 overflow-y-auto min-h-full"><div class="h-full relative !bg-gray-100 dark:!bg-stone-900"><div class="mb-4 flex w-full justify-between border-b-2 
            pt-4 pb-2 colour-border px-6 sm:px-6 md:px-8 lg:px-10"><!></div> <div class="px-2 sm:px-6 md:px-10 lg:px-16 !bg-gray-100 dark:!bg-stone-900 pb-6"><div class="card-container px-6"><div class="space-y-2"><h1 class="text-2xl font-bold"> </h1> <p class="text-normal"> </p></div> <!></div></div></div></div>`);function at(S,t){ie(t,!0);let i=F(""),c=F(O({selectedTier:t.tierIndex,extras:t.selectedService.extras.map(D=>!1),brief:"",images:[],deadline:""})),m=F(0),u=[{component:Le,backwards:"Back to Overview",forwards:"Proceed to Brief"},{component:Je,backwards:"Back to Type Selection",forwards:"Proceed to Checkout"},{component:et,backwards:"Back to Brief",forwards:"Submit Request"}];const k=()=>{if(a(c).brief==="")return v(i,"Please provide a brief for your commission."),!1;if(a(c).deadline==="")return v(i,"Please provide a deadline for your commission."),!1;const D=new Date().setHours(0,0,0,0);return new Date(a(c).deadline).setHours(0,0,0,0)<=D?(v(i,"Deadline must be after today."),!1):(v(i,""),!0)};function P(){a(m)===1&&!k()||(a(m)<u.length-1?v(m,a(m)+1):a(m)===u.length-1&&(alert("Request Submitted!"),Be("/profile/"+t.currentArtist.username,Te.url.pathname)))}function y(){a(m)>0?v(m,a(m)-1):t.closePlaceCommission()}var _=rt(),x=r(_),C=r(x),A=r(C);Oe(A,{get closeEdit(){return t.closePlaceCommission},buttonText:"Place Commission Request"}),e(C);var g=s(C,2),E=r(g),H=r(E),I=r(H),L=r(I,!0);e(I);var W=s(I,2),X=r(W);e(W),e(H);var Y=s(H,2);te(Y,17,()=>u,re,(D,M,z)=>{let j=()=>a(M).component,J=()=>a(M).backwards,Z=()=>a(M).forwards;var R=ee(),G=Q(R);V(G,()=>z===a(m),K=>{var $=tt(),U=Q($);V(U,()=>z===1,T=>{var f=ee(),N=Q(f);me(N,j,(l,o)=>{o(l,{get selectedService(){return t.selectedService},get warningMessage(){return a(i)},get commissionChoice(){return a(c)},set commissionChoice(n){v(c,O(n))}})}),p(T,f)},T=>{var f=ee(),N=Q(f);V(N,()=>z===2,l=>{var o=ee(),n=Q(o);me(n,j,(d,w)=>{w(d,{get selectedService(){return t.selectedService},get commissionChoice(){return a(c)}})}),p(l,o)},l=>{var o=ee(),n=Q(o);me(n,j,(d,w)=>{w(d,{get selectedService(){return t.selectedService}})}),p(l,o)},!0),p(T,f)});var ae=s(U,2);Re(ae,{goToPreviousStep:y,proceedToNextStep:P,get backwards(){return J()},get forwards(){return Z()}}),p(K,$)}),p(D,R)}),e(E),e(g),e(x),e(_),b(()=>{h(L,t.selectedService.title),h(X,`@${t.currentArtist.displayName??""}`)}),p(S,_),oe()}var st=B('<div class="card-island"><!> <!> <!></div>');function kt(S,t){ie(t,!0);const i=t.data.service,c=de("artwork",{},{}).filter(g=>i.samples.includes(g.imgSrc)),m=de("user",{},{id:i.artistId});let u=F(!1),k=F(0);function P(g){v(k,O(g)),v(u,!0)}function y(){v(u,!1)}var _=st();ye(g=>{b(()=>ke.title=`BrushHub - ${i.title??""}`)});var x=r(_);V(x,()=>a(u),g=>{at(g,{selectedService:i,closePlaceCommission:y,get tierIndex(){return a(k)},currentArtist:m})});var C=s(x,2);Ue(C);var A=s(C,2);Ne(A,{selectedService:i,artDB:c,currentArtist:m,openPlaceCommission:P}),e(_),p(S,_),oe()}export{kt as component,St as universal};
