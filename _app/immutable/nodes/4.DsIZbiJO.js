import{e as xe}from"../chunks/index.CRQyEwE3.js";import{g as ye,b as he}from"../chunks/util.3lGB5WEb.js";import{p as ke,c as we,r as D,s as P,w as le}from"../chunks/db.BaQdwY0M.js";import{d as De,a as x,t as y,r as Pe,s as k}from"../chunks/disclose-version.BEEGi2oI.js";import{$ as Se,ak as je,af as Be,p as Ce,b as S,u as Me,t as b,a as Ue,g as e,d as v,h as Ne,s,c as d,r as l,n as de}from"../chunks/runtime.C-s0Hq_6.js";import{i as ce}from"../chunks/if.DN0dI3wX.js";import{e as J,i as V}from"../chunks/each.Bjkk2cOk.js";import{a as w}from"../chunks/input.Asw2ctPt.js";import{b as Oe}from"../chunks/select.DqRc-Iyy.js";import{p as q}from"../chunks/proxy.CWL-fuXM.js";function Re(a,n=!1){return j(a,new Map)}function j(a,n,g,h){if(typeof a=="object"&&a!==null){const m=n.get(a);if(m!==void 0)return m;if(a instanceof Map)return new Map(a);if(a instanceof Set)return new Set(a);if(Se(a)){const p=[];n.set(a,p);for(let f=0;f<a.length;f+=1)p.push(j(a[f],n));return p}if(je(a)===Be){const p={};n.set(a,p);for(var t in a)p[t]=j(a[t],n);return p}if(a instanceof Date)return structuredClone(a);if(typeof a.toJSON=="function")return j(a.toJSON(),n)}if(a instanceof EventTarget)return a;try{return structuredClone(a)}catch{return a}}const Ae=!1,Ee=()=>{const a=ye(),n=ke("artist",{},{id:a.id});if(!n)throw xe(404,"You are not the current user");return{artist:n}},oa=Object.freeze(Object.defineProperty({__proto__:null,load:Ee,ssr:Ae},Symbol.toStringTag,{value:"Module"})),Te=(a,n)=>{alert("Saved!"),we(Re(e(n)))};var Le=(a,n,g)=>n(a,g()),We=(a,n,g,h,t)=>{n()==="dp"?(e(g).uploadedDP="",v(h,"")):(e(g).uploadedBanner="",v(t,""))},ze=y('<div class="mt-2 flex justify-center space-x-2"><label class="mr-4 cursor-pointer rounded bg-orange-500 px-4 py-2 text-sm font-medium text-white hover:bg-orange-600">Upload Image</label> <input type="file" accept="image/*" class="hidden"> <button class="text-red-500 hover:underline">Remove</button></div>'),Je=y('<p class="mt-2 text-sm text-red-500"> </p>'),Ve=y('<p class="mt-2 text-sm text-red-500"> </p>'),qe=y('<div class="items-center space-x-1 rounded !bg-orange-100 px-2 py-1 text-orange-500"><span> </span> <button class="text-xs font-bold">x</button></div>'),Fe=y("<option> </option>"),He=y('<div class="flex items-center space-x-2"><button class="text-gray-500 hover:text-orange-500 disabled:text-gray-300" aria-label="Move link up">‚ñ≤</button> <button class="text-gray-500 hover:text-orange-500 disabled:text-gray-300" aria-label="Move link down">‚ñº</button> <input type="url" placeholder="Enter link URL" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <button class="text-gray-500 hover:text-red-500" aria-label="Remove link">üóëÔ∏è</button></div>'),Ye=(a,n)=>e(n).links.push(""),Ge=(a,n,g)=>{confirm("Are you sure you want to discard all changes?")&&v(n,q(g))},Ie=y(`<div class="card-island"><div class="flex flex-col space-y-6"><h1 class="page-title -mb-2">Profile Customization</h1> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><p class="block text-sm font-medium text-gray-700">Profile Picture</p> <p class="mt-1 text-sm text-gray-500">Appears whenever your page is presented to others</p> <!> <img alt="DP" class="mx-auto my-4 h-24 w-24 rounded-full"> <!></div> <div><p class="block text-sm font-medium text-gray-700">Banner Image</p> <p class="mt-1 text-sm text-gray-500">This image will be displayed at the top of your profile page</p> <!> <img alt="Cover Banner" class="mx-auto my-4 h-24 w-full rounded-md object-cover"> <!></div></div> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><label for="username" class="block text-sm font-medium text-gray-700">Handle</label> <p class="mt-1 text-sm text-gray-500"> </p> <input type="text" id="username" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <div><label for="displayName" class="block text-sm font-medium text-gray-700">Display Name</label> <p class="mt-1 text-sm text-gray-500">Choose a channel name that represents you and your content</p> <input type="text" id="displayName" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></div></div> <div><label for="bio" class="block text-sm font-medium text-gray-700">Bio</label> <textarea id="bio" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></textarea></div> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><label for="languages" class="block text-sm font-medium text-gray-700">Languages</label> <div class="mt-1 block w-full rounded-md border border-gray-300 bg-white p-2 shadow-sm"><div class="flex flex-wrap gap-2"></div> <input type="text" placeholder="Add language" class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <p class="mt-1 text-sm text-gray-500">Enter a comma after every language</p></div> <div><label for="location" class="block text-sm font-medium text-gray-700">Location</label> <select id="location" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></select></div></div> <div class="mt-6 space-y-2"><label for="location" class="block text-sm font-medium text-gray-700">External Links</label> <p class="text-sm text-gray-500">Share external links with viewers. They'll be visible on your profile.</p> <!> <button class="mt-2 flex items-center text-orange-500 hover:underline"><span class="mr-2 text-lg">+</span> Add new link</button></div></div> <div class="mt-6 flex justify-between space-x-4 items-center"><p class="text-sm text-gray-500">*Disclaimer: Since no database is being used, some information like images and usernames are not retained after saving.</p> <div class="flex space-x-4"><button class="rounded border border-red-500 px-4 py-2 text-red-500 hover:bg-red-50">Discard Changes</button> <button class="rounded bg-orange-500 px-4 py-2 text-white hover:bg-orange-600">Save</button></div></div></div>`);function na(a,n){Ce(n,!0);const g=(i,o=Ne)=>{var r=ze(),c=d(r),u=s(c,2);u.__change=[Le,ue,o];var _=s(u,2);_.__click=[We,o,t,f,p],l(r),b(()=>{P(c,"for",`upload-${o()??""}`),P(u,"id",`upload-${o()??""}`)}),x(i,r)},h={...n.data.artist,...n.data.user,uploadedDP:n.data.user.avatar,uploadedBanner:n.data.user.coverImage};let t=S(q(h)),m=S("");Me(()=>{/,\s$/.test(e(m))&&(v(m,q(e(m).replace(/,\s$/,""))),e(t).languages.push(e(m)),v(m,""))});let p=S(""),f=S("");const ue=(i,o)=>{var u;const r=(u=i.target.files)==null?void 0:u[0];if(!r)return;if(!r.type.startsWith("image/")){o==="dp"?v(f,"Only image files (e.g., jpg, png) are allowed."):v(p,"Only image files (e.g., jpg, png) are allowed.");return}const c=new FileReader;c.onload=()=>{o==="dp"?(e(t).uploadedDP=c.result,v(f,"")):(e(t).uploadedBanner=c.result,v(p,""))},c.readAsDataURL(r)};function F(i,o){if(o<0||o>=e(t).links.length)return;const r=e(t).links[i];e(t).links[i]=e(t).links[o],e(t).links[o]=r}var B=Ie(),C=d(B),M=s(d(C),2),U=d(M),H=s(d(U),4);ce(H,()=>e(f),i=>{var o=Je(),r=d(o,!0);l(o),b(()=>k(r,e(f))),x(i,o)});var Y=s(H,2);b(()=>P(Y,"src",le("dp",e(t).uploadedDP)));var pe=s(Y,2);g(pe,()=>"dp"),l(U);var G=s(U,2),I=s(d(G),4);ce(I,()=>e(p),i=>{var o=Ve(),r=d(o,!0);l(o),b(()=>k(r,e(p))),x(i,o)});var K=s(I,2);b(()=>P(K,"src",le("banner",e(t).uploadedBanner)));var me=s(K,2);g(me,()=>"banner"),l(G),l(M);var N=s(M,2),O=d(N),R=s(d(O),2),ge=d(R);l(R);var Q=s(R,2);D(Q),l(O);var X=s(O,2),Z=s(d(X),4);D(Z),l(X),l(N);var A=s(N,2),$=s(d(A),2);Pe($),l(A);var E=s(A,2),T=d(E),ee=s(d(T),2),L=d(ee);J(L,21,()=>e(t).languages,V,(i,o,r)=>{var c=qe();c.__click=()=>e(t).languages.splice(r,1);var u=d(c),_=d(u,!0);l(u),de(2),l(c),b(()=>k(_,e(o))),x(i,c)}),l(L);var ae=s(L,2);D(ae),l(ee),de(2),l(T);var te=s(T,2),W=s(d(te),2);J(W,21,he,V,(i,o)=>{var r=Fe(),c={},u=d(r,!0);l(r),b(()=>{c!==(c=e(o))&&(r.value=(r.__value=e(o))==null?"":e(o)),k(u,e(o))}),x(i,r)}),l(W),l(te),l(E);var re=s(E,2),se=s(d(re),4);J(se,17,()=>e(t).links,V,(i,o,r)=>{var c=He(),u=d(c);u.__click=()=>F(r,r-1),u.disabled=r===0;var _=s(u,2);_.__click=()=>F(r,r+1);var z=s(_,2);D(z);var be=s(z,2);be.__click=()=>e(t).links.splice(r,1),l(c),b(()=>_.disabled=r===e(t).links.length-1),w(z,()=>e(t).links[r],_e=>e(t).links[r]=_e),x(i,c)});var ve=s(se,2);ve.__click=[Ye,t],l(re),l(C);var oe=s(C,2),ne=s(d(oe),2),ie=d(ne);ie.__click=[Ge,t,h];var fe=s(ie,2);fe.__click=[Te,t],l(ne),l(oe),l(B),b(()=>k(ge,`Choose a unique handle - brushhub.com/${e(t).username??""}`)),w(Q,()=>e(t).username,i=>e(t).username=i),w(Z,()=>e(t).displayName,i=>e(t).displayName=i),w($,()=>e(t).bio,i=>e(t).bio=i),w(ae,()=>e(m),i=>v(m,i)),Oe(W,()=>e(t).location,i=>e(t).location=i),x(a,B),Ue()}De(["change","click"]);export{na as component,oa as universal};
