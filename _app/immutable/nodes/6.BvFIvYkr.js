import{e as q}from"../chunks/index.BrIen-YU.js";import{g as C}from"../chunks/util.Dc-uiH8q.js";import{p as d}from"../chunks/db.BgZNK8ZD.js";import{c as w,h as O,a as h,t as j}from"../chunks/disclose-version.BE_RHt7t.js";import{p as y,b as f,j as B,a as D,$ as R,g as m,d as c,s as T,c as V,r as $}from"../chunks/runtime.CN-Xrd-W.js";import{i as k}from"../chunks/if.DakFUcz9.js";import{p as l}from"../chunks/proxy.D0RktEAV.js";import{C as x,V as I}from"../chunks/CommissionOrderTab.CUGDj7-f.js";const M=!1,S=async()=>[{slug:"hungry_anne"}],U=({params:p})=>{const o=p.slug.toLowerCase(),a=C(),t=d("user",{},{username:o});if(!t||a.username!==t.username)throw q(404,"Not Found");let r=d("request",{artistId:t.id},{});return r=r.map(i=>({...i,service:d("services",{},{id:i.serviceId})})),{request:r}},Y=Object.freeze(Object.defineProperty({__proto__:null,entries:S,load:U,ssr:M},Symbol.toStringTag,{value:"Module"}));var z=j('<div class="card-island"><h1 class="page-title mb-4">Your Commissions</h1> <!></div>');function G(p,o){var v;y(o,!0);let a=f(l((v=o.data)==null?void 0:v.request)),t=f(l({})),r=f(!1);const i=e=>{c(r,!0),c(t,l(e))},b=(e,s)=>{if(!e&&!confirm("Are you sure you want to reject this request? This action cannot be undone."))return;const n=s.service.milestones.map(u=>({approval:null,name:u.name,date:null,feedback:"",sample:[]}));e?s.state={value:"active",progress:n}:s.state={value:"rejected",progress:n},c(a,l(m(a).map(u=>u.id===s.id?s:u)))};var g=w();O(e=>{R.title="BrushHub - Manage Commissions"});var _=B(g);k(_,()=>m(r),e=>{I(e,{closeRequest:()=>c(r,!1),get request(){return m(t)},artistView:!0,editEntry:b})},e=>{var s=z(),n=T(V(s),2);x(n,{commissionOrOrder:!0,get requestDB(){return m(a)},openRequest:i,artistOrCommissioner:!0}),$(s),h(e,s)}),h(p,g),D()}export{G as component,Y as universal};
