import{e as he}from"../chunks/index.DUkQoHGV.js";import{g as xe,b as ye}from"../chunks/util.DdrE0CmF.js";import{p as ke,c as we,r as D,s as P,w as le}from"../chunks/db.SHkFEn0i.js";import{d as De,h as Pe,a as h,t as x,r as je,s as k}from"../chunks/disclose-version.bD0kEr0Y.js";import{_ as Se,ak as Be,af as Ce,p as Me,b as j,al as Ne,t as b,a as Ue,g as e,d as g,f as Oe,$ as Re,s as r,c as d,r as l,n as de}from"../chunks/runtime.NkCrfN_B.js";import{i as ce}from"../chunks/if.BQ7NR3mh.js";import{e as F,i as H}from"../chunks/each.CcwbMJOJ.js";import{a as w}from"../chunks/input.DT_BWzvP.js";import{b as Ae}from"../chunks/select.DJoPLiCy.js";import{p as J}from"../chunks/proxy.B8o5R4Xe.js";function Ee(a,i=!1){return S(a,new Map)}function S(a,i,v,y){if(typeof a=="object"&&a!==null){const m=i.get(a);if(m!==void 0)return m;if(a instanceof Map)return new Map(a);if(a instanceof Set)return new Set(a);if(Se(a)){const p=[];i.set(a,p);for(let f=0;f<a.length;f+=1)p.push(S(a[f],i));return p}if(Be(a)===Ce){const p={};i.set(a,p);for(var t in a)p[t]=S(a[t],i);return p}if(a instanceof Date)return structuredClone(a);if(typeof a.toJSON=="function")return S(a.toJSON(),i)}if(a instanceof EventTarget)return a;try{return structuredClone(a)}catch{return a}}const Te=!1,Le=()=>{const a=xe(),i=ke("artist",{},{id:a.id});if(!i)throw he(404,"Not Found");return{artist:i}},ia=Object.freeze(Object.defineProperty({__proto__:null,load:Le,ssr:Te},Symbol.toStringTag,{value:"Module"})),We=(a,i)=>{alert("Saved!"),we(Ee(e(i)))};var ze=(a,i,v)=>i(a,v()),Fe=(a,i,v,y,t)=>{i()==="dp"?(e(v).uploadedDP="",g(y,"")):(e(v).uploadedBanner="",g(t,""))},He=x('<div class="mt-2 flex justify-center space-x-2"><label class="mr-4 cursor-pointer rounded bg-orange-500 px-4 py-2 text-sm font-medium text-white hover:bg-orange-600">Upload Image</label> <input type="file" accept="image/*" class="hidden"> <button class="text-red-500 hover:underline">Remove</button></div>'),Je=x('<p class="mt-2 text-sm text-red-500"> </p>'),Ve=x('<p class="mt-2 text-sm text-red-500"> </p>'),$e=x(`<div class="items-center space-x-1 rounded px-2 py-1 justify-center flex
                                        !bg-orange-100 text-orange-500 dark:!bg-orange-500 dark:text-orange-100"><span> </span> <button class="text-xs font-bold">x</button></div>`),qe=x("<option> </option>"),Ge=x('<div class="flex items-center space-x-2"><button class="sub-heading hover:text-orange-500 disabled:text-gray-300" aria-label="Move link up">‚ñ≤</button> <button class="sub-heading hover:text-orange-500 disabled:text-gray-300" aria-label="Move link down">‚ñº</button> <input type="url" placeholder="Enter link URL" class="w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <button class="sub-heading hover:text-red-500" aria-label="Remove link">üóëÔ∏è</button></div>'),Ie=(a,i)=>e(i).links.push(""),Ke=(a,i,v)=>{confirm("Are you sure you want to discard all changes?")&&g(i,J(v))},Qe=x(`<div class="card-island"><div class="flex flex-col space-y-6"><h1 class="page-title -mb-2">Profile Customization</h1> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><p class="block text-sm font-medium heading">Profile Picture</p> <p class="mt-1 text-sm sub-heading">Appears whenever your page is presented to others</p> <!> <img alt="DP" class="mx-auto my-4 h-24 w-24 rounded-full"> <!></div> <div><p class="block text-sm font-medium heading">Banner Image</p> <p class="mt-1 text-sm sub-heading">This image will be displayed at the top of your profile page</p> <!> <img alt="Cover Banner" class="mx-auto my-4 h-24 w-full rounded-md object-cover"> <!></div></div> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><label for="username" class="block text-sm font-medium heading">Handle</label> <p class="mt-1 text-sm sub-heading"> </p> <input type="text" id="username" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <div><label for="displayName" class="block text-sm font-medium heading">Display Name</label> <p class="mt-1 text-sm sub-heading">Choose a channel name that represents you and your content</p> <input type="text" id="displayName" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></div></div> <div><label for="bio" class="block text-sm font-medium heading">Bio</label> <textarea id="bio" rows="3" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></textarea></div> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><label for="languages" class="block text-sm font-medium heading">Languages</label> <div class="mt-1 block w-full rounded-md border entry bg-white p-2 shadow-sm"><div class="flex flex-wrap gap-2"></div> <input type="text" placeholder="Add language" class="mt-2 block w-full rounded-md entry shadow-sm entry focus:border-orange-500 focus:ring-orange-500"></div> <p class="mt-1 text-sm sub-heading">Enter a comma after every language</p></div> <div><label for="location" class="block text-sm font-medium heading">Location</label> <select id="location" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></select></div></div> <div class="mt-6 space-y-2"><label for="location" class="block text-sm font-medium heading">External Links</label> <p class="text-sm sub-heading">Share external links with viewers. They'll be visible on your profile.</p> <!> <button class="mt-2 flex items-center text-orange-500 hover:underline"><span class="mr-2 text-lg">+</span> Add new link</button></div></div> <div class="flex justify-between space-x-4 items-center
                mt-4 sm:mt-6 flex-col sm:flex-row space-y-4"><p class="text-sm sub-heading">*Disclaimer: Since no database is being used, some information like images and usernames is not retained after saving.</p> <div class="flex space-x-4"><button class="rounded border border-red-500 px-4 py-2 text-red-500 ">Discard Changes</button> <button class="rounded bg-orange-500 px-4 py-2 text-white hover:bg-orange-600">Save</button></div></div></div>`);function la(a,i){Me(i,!0);const v=(n,o=Oe)=>{var s=He(),c=d(s),u=r(c,2);u.__change=[ze,ue,o];var _=r(u,2);_.__click=[Fe,o,t,f,p],l(s),b(()=>{P(c,"for",`upload-${o()??""}`),P(u,"id",`upload-${o()??""}`)}),h(n,s)},y={...i.data.artist,...i.data.user,uploadedDP:i.data.user.avatar,uploadedBanner:i.data.user.coverImage};let t=j(J(y)),m=j("");Ne(()=>{/,\s$/.test(e(m))&&(g(m,J(e(m).replace(/,\s$/,""))),e(t).languages.push(e(m)),g(m,""))});let p=j(""),f=j("");const ue=(n,o)=>{var u;const s=(u=n.target.files)==null?void 0:u[0];if(!s)return;if(!s.type.startsWith("image/")){o==="dp"?g(f,"Only image files (e.g., jpg, png) are allowed."):g(p,"Only image files (e.g., jpg, png) are allowed.");return}const c=new FileReader;c.onload=()=>{o==="dp"?(e(t).uploadedDP=c.result,g(f,"")):(e(t).uploadedBanner=c.result,g(p,""))},c.readAsDataURL(s)};function V(n,o){if(o<0||o>=e(t).links.length)return;const s=e(t).links[n];e(t).links[n]=e(t).links[o],e(t).links[o]=s}var B=Qe();Pe(n=>{Re.title="BrushHub - Edit Profile"});var C=d(B),M=r(d(C),2),N=d(M),$=r(d(N),4);ce($,()=>e(f),n=>{var o=Je(),s=d(o,!0);l(o),b(()=>k(s,e(f))),h(n,o)});var q=r($,2);b(()=>P(q,"src",le("dp",e(t).uploadedDP)));var pe=r(q,2);v(pe,()=>"dp"),l(N);var G=r(N,2),I=r(d(G),4);ce(I,()=>e(p),n=>{var o=Ve(),s=d(o,!0);l(o),b(()=>k(s,e(p))),h(n,o)});var K=r(I,2);b(()=>P(K,"src",le("banner",e(t).uploadedBanner)));var me=r(K,2);v(me,()=>"banner"),l(G),l(M);var U=r(M,2),O=d(U),R=r(d(O),2),ve=d(R);l(R);var Q=r(R,2);D(Q),l(O);var X=r(O,2),Y=r(d(X),4);D(Y),l(X),l(U);var A=r(U,2),Z=r(d(A),2);je(Z),l(A);var E=r(A,2),T=d(E),ee=r(d(T),2),L=d(ee);F(L,21,()=>e(t).languages,H,(n,o,s)=>{var c=$e();c.__click=()=>e(t).languages.splice(s,1);var u=d(c),_=d(u,!0);l(u),de(2),l(c),b(()=>k(_,e(o))),h(n,c)}),l(L);var ae=r(L,2);D(ae),l(ee),de(2),l(T);var te=r(T,2),W=r(d(te),2);F(W,21,ye,H,(n,o)=>{var s=qe(),c={},u=d(s,!0);l(s),b(()=>{c!==(c=e(o))&&(s.value=(s.__value=e(o))==null?"":e(o)),k(u,e(o))}),h(n,s)}),l(W),l(te),l(E);var se=r(E,2),re=r(d(se),4);F(re,17,()=>e(t).links,H,(n,o,s)=>{var c=Ge(),u=d(c);u.__click=()=>V(s,s-1),u.disabled=s===0;var _=r(u,2);_.__click=()=>V(s,s+1);var z=r(_,2);D(z);var be=r(z,2);be.__click=()=>e(t).links.splice(s,1),l(c),b(()=>_.disabled=s===e(t).links.length-1),w(z,()=>e(t).links[s],_e=>e(t).links[s]=_e),h(n,c)});var ge=r(re,2);ge.__click=[Ie,t],l(se),l(C);var oe=r(C,2),ne=r(d(oe),2),ie=d(ne);ie.__click=[Ke,t,y];var fe=r(ie,2);fe.__click=[We,t],l(ne),l(oe),l(B),b(()=>k(ve,`Choose a unique handle - brushhub.com/${e(t).username??""}`)),w(Q,()=>e(t).username,n=>e(t).username=n),w(Y,()=>e(t).displayName,n=>e(t).displayName=n),w(Z,()=>e(t).bio,n=>e(t).bio=n),w(ae,()=>e(m),n=>g(m,n)),Ae(W,()=>e(t).location,n=>e(t).location=n),h(a,B),Ue()}De(["change","click"]);export{la as component,ia as universal};
