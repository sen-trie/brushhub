import{e as q}from"../chunks/index.N2vYJoCP.js";import{g as C}from"../chunks/util.DwkNCAbs.js";import{p as d}from"../chunks/db.CVRkyNLs.js";import{c as w,a as _,t as O}from"../chunks/disclose-version.CSxEiuyN.js";import{p as j,b as f,f as y,a as B,g as m,d as l,s as D,c as R,r as V}from"../chunks/runtime.yDkJktn_.js";import{i as k}from"../chunks/if.B3MD_1yl.js";import{p as c}from"../chunks/proxy.C9ShvAXK.js";import{C as x,V as I}from"../chunks/CommissionOrderTab.CstFgC7c.js";const S=!1,T=async()=>[{slug:"hungry_anne"}],U=({params:p})=>{const o=p.slug.toLowerCase(),a=C(),t=d("user",{},{username:o});if(!t||a.username!==t.username)throw q(404,"You are not the current user");let s=d("request",{customerId:t.id},{});return s=s.map(i=>({...i,service:d("services",{},{id:i.serviceId})})),{request:s}},G=Object.freeze(Object.defineProperty({__proto__:null,entries:T,load:U,ssr:S},Symbol.toStringTag,{value:"Module"}));var Y=O('<div class="card-island"><h1 class="page-title mb-4">Your Commissions</h1> <!></div>');function H(p,o){var v;j(o,!0);let a=f(c((v=o.data)==null?void 0:v.request)),t=f(c({})),s=f(!1);const i=r=>{l(s,!0),l(t,c(r))},h=(r,e)=>{const n=e.service.milestones.map(u=>({approval:null,name:u.name,date:null,feedback:"",sample:[]}));r?e.state={value:"active",progress:n}:e.state={value:"rejected",progress:n},l(a,c(m(a).map(u=>u.id===e.id?e:u)))};var g=w(),b=y(g);k(b,()=>m(s),r=>{I(r,{closeRequest:()=>l(s,!1),get request(){return m(t)},artistView:!0,editEntry:h})},r=>{var e=Y(),n=D(R(e),2);x(n,{commissionOrOrder:!0,get requestDB(){return m(a)},openRequest:i}),V(e),_(r,e)}),_(p,g),B()}export{H as component,G as universal};
