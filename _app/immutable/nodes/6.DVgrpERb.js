import{e as q}from"../chunks/index.DUkQoHGV.js";import{g as C}from"../chunks/util.DdrE0CmF.js";import{p as d}from"../chunks/db.SHkFEn0i.js";import{c as w,h as O,a as h,t as j}from"../chunks/disclose-version.bD0kEr0Y.js";import{p as B,b as f,j as y,a as D,$ as R,g as u,d as l,s as V,c as $,r as k}from"../chunks/runtime.NkCrfN_B.js";import{i as x}from"../chunks/if.BQ7NR3mh.js";import{p as c}from"../chunks/proxy.B8o5R4Xe.js";import{C as I,V as M}from"../chunks/CommissionOrderTab.mqLVRqa-.js";const S=!1,T=async()=>[{slug:"hungry_anne"}],U=({params:p})=>{const o=p.slug.toLowerCase(),a=C(),t=d("user",{},{username:o});if(!t||a.username!==t.username)throw q(404,"Not Found");let r=d("request",{customerId:t.id},{});return r=r.map(i=>({...i,service:d("services",{},{id:i.serviceId})})),{request:r}},A=Object.freeze(Object.defineProperty({__proto__:null,entries:T,load:U,ssr:S},Symbol.toStringTag,{value:"Module"}));var z=j('<div class="card-island"><h1 class="page-title mb-4">Your Commissions</h1> <!></div>');function G(p,o){var v;B(o,!0);let a=f(c((v=o.data)==null?void 0:v.request)),t=f(c({})),r=f(!1);const i=s=>{l(r,!0),l(t,c(s))},_=(s,e)=>{const n=e.service.milestones.map(m=>({approval:null,name:m.name,date:null,feedback:"",sample:[]}));s?e.state={value:"active",progress:n}:e.state={value:"rejected",progress:n},l(a,c(u(a).map(m=>m.id===e.id?e:m)))};var g=w();O(s=>{R.title="BrushHub - Manage Commissions"});var b=y(g);x(b,()=>u(r),s=>{M(s,{closeRequest:()=>l(r,!1),get request(){return u(t)},artistView:!0,editEntry:_})},s=>{var e=z(),n=V($(e),2);I(n,{commissionOrOrder:!0,get requestDB(){return u(a)},openRequest:i}),k(e),h(s,e)}),h(p,g),D()}export{G as component,A as universal};
