import{e as Ue}from"../chunks/index.CruOtk0E.js";import{g as Be,m as le}from"../chunks/util.DaP6gxzo.js";import{p as oe,r as B,s as L,w as Ee}from"../chunks/db.j2E7rg9Z.js";import{d as V,a as m,t as f,r as ge,s as R,c as _e,h as Re}from"../chunks/disclose-version.BE_RHt7t.js";import{p as X,s as l,j as G,t as M,d as A,g as d,a as J,b as W,c as r,r as a,f as re,n as ne,k as qe,l as We,e as Y,ao as ke,$ as Fe}from"../chunks/runtime.CN-Xrd-W.js";import{i as j}from"../chunks/if.DakFUcz9.js";import{e as Z,i as $}from"../chunks/each.-eFyfI3H.js";import{p as q}from"../chunks/proxy.D0RktEAV.js";import{S as ze}from"../chunks/Services.BMfwvmXZ.js";import{B as Xe}from"../chunks/BackButtonArrow.eZOflv1L.js";import{T as Ce}from"../chunks/Tabs.DLdz4IgS.js";import{a as F,b as ee}from"../chunks/input.aZJ5hW4Z.js";import{S as Je}from"../chunks/SearchTags.B2ivHMf1.js";import{I as Le,S as Ve,C as Ye}from"../chunks/ServicePage.nYsiDKku.js";import{b as ae}from"../chunks/select.7B7lUAIZ.js";import{s as K}from"../chunks/class.YwXVpuit.js";import{p as H}from"../chunks/props.CZekZOSG.js";const He=!1,Qe=async()=>[{slug:"hungry_anne"}],Ge=({params:g})=>{const e=g.slug.toLowerCase(),s=Be(),t=oe("user",{},{username:e});if(!t||s.username!==t.username)throw Ue(404,"You are not the current artist");return{service:oe("services",{artistId:Number(t.id)},{})}},Sa=Object.freeze(Object.defineProperty({__proto__:null,entries:Qe,load:Ge,ssr:He},Symbol.toStringTag,{value:"Module"}));var Ke=(g,e)=>e(g,"thumbnail"),Ze=f(`<h2 class="mb-2 text-lg font-semibold">Overview</h2> <div class="flex flex-col space-y-4"><div><label for="title" class="block text-sm font-medium">Title</label> <input id="title" type="text" class="mt-1 block w-full shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm entry"></div> <div><label for="upload-thumbnail" class="block text-sm font-medium mb-2">Service Thumbnail</label> <input id="upload-thumbnail" type="file" accept="image/*" class="hidden"> <div class="flex flex-col sm:flex-row justify-center items-center"><img alt="thumbnail" class="w-full rounded-md object-contain flex-1 h-48"> <div class="flex flex-1 content-center flex-row 
                        mt-3 sm:mt-0 space-x-4 sm:space-x-0 sm:flex-col sm:space-y-2"><label for="upload-thumbnail" class="cursor-pointer rounded bg-orange-500 px-4 py-2 
                          text-sm font-medium text-white hover:bg-orange-600 m-auto">Upload Image</label> <button class="text-red-500 hover:underline">Remove</button></div></div></div> <div><label for="description" class="block text-sm font-medium">Description</label> <textarea id="description" rows="4" class="mt-1 block w-full entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div> <div class="relative"><label class="mb-2 block text-sm font-semibold">Tags</label> <!></div> <div><h3 class="text-sm font-medium ">References</h3> <!></div></div>`,1);function Oe(g,e){X(e,!0);let s=W(""),t=W("");const p=e.props.selectedService,x=(C,U)=>{let I=C.target.files,P=I==null?void 0:I[0];if(!(!I||!P)){if(U==="sample"&&p.samples.length+I.length>10){A(s,"You can only upload a maximum of 10 images.");return}if(U==="thumbnail"){if(!P.type.startsWith("image/")){A(t,"Only image files (e.g., jpg, png) are allowed.");return}const z=new FileReader;z.onload=()=>{p.thumbnail=z.result,A(t,"")},z.readAsDataURL(P)}else for(const z of I){if(!z.type.startsWith("image/")){A(s,"Only image files (e.g., jpg, png) are allowed.");return}const Q=new FileReader;Q.onload=()=>{p.samples=[...p.samples,Q.result],A(s,"")},Q.readAsDataURL(z)}}},T=C=>{p.samples=p.samples.filter((U,I)=>I!==C)};var k=Ze(),w=l(G(k),2),b=r(w),o=l(r(b),2);B(o),a(b);var v=l(b,2),_=l(r(v),2);_.__change=[Ke,x];var u=l(_,2),y=r(u);M(()=>L(y,"src",Ee("thumbnail",p.thumbnail)));var S=l(y,2),n=l(r(S),2);n.__click=()=>{p.thumbnail="",A(t,"")},a(S),a(u),a(v);var i=l(v,2),c=l(r(i),2);ge(c),a(i);var h=l(i,2),D=l(r(h),2);Je(D,{get currentTags(){return p.tags},set currentTags(C){p.tags=C}}),a(h);var E=l(h,2),O=l(r(E),2);Le(O,{get uploadedImages(){return p.samples},get imageWarningMessage(){return d(s)},size:24,removeImage:T,handleImageUpload:C=>{x(C,"sample")}}),a(E),a(w),F(o,()=>p.title,C=>p.title=C),F(c,()=>p.description,C=>p.description=C),m(g,k),J()}V(["change","click"]);var $e=(g,e)=>A(e,!d(e)),et=f('<button class="absolute right-2 hover:text-orange-500 underline"> </button>'),tt=f('<h3 class="text-lg font-bold max-w-32 xs:max-w-3xl"> </h3>'),at=f('<i class="fas text-lg font-bold">(Missing Name)</i>'),rt=f('<p class="text-sm"> </p>'),st=f('<i class="fas fa-pencil-alt text-sm">(Missing Description)</i>'),it=f('<p class="text-sm font-medium"> </p>'),lt=f('<i class="fas fa-pencil-alt text-sm">(Missing Price)</i>'),ot=f('<div class="relative grow"><!> <div class="flex flex-col gap-2"><!> <!> <!></div></div>'),nt=f('<select class="mt-1 block w-1/2 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>%</option><option> </option></select>'),ct=f(`<div class="relative grow"><!> <div class="space-y-4"><div><label class="block text-base font-medium">Name*</label> <input type="text" class="mt-1 block w-3/4 sm:w-1/2 
                              rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <div><label class="block text-base font-medium">Price*</label> <div class="flex items-center gap-2"><input type="number" class="mt-1 block w-3/4 sm:w-1/2 
                                    rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!></div></div> <div><label class="block text-base font-medium ">Description</label> <textarea class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500" placeholder="Description..."></textarea></div></div></div>`),dt=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow entry"><button>Remove</button> <!></div>');function vt(g,e){X(e,!0);const s=(b,o=re)=>{var v=et();v.__click=[$e,x];var _=r(v,!0);a(v),M(()=>R(_,o())),m(b,v)};let t=H(e,"tab",15),p=H(e,"extra",3,!1),x=W(!1);var T=dt(),k=r(T);k.__click=function(...b){var o;(o=e.removeSelf)==null||o.apply(this,b)};var w=l(k,2);j(w,()=>!d(x),b=>{var o=ot(),v=r(o);s(v,()=>"Edit");var _=l(v,2),u=r(_);j(u,()=>t().name,n=>{var i=tt(),c=r(i,!0);a(i),M(()=>R(c,t().name)),m(n,i)},n=>{var i=at();m(n,i)});var y=l(u,2);j(y,()=>t().description,n=>{var i=rt(),c=r(i,!0);a(i),M(()=>R(c,t().description)),m(n,i)},n=>{var i=st();m(n,i)});var S=l(y,2);j(S,()=>t().price,n=>{var i=it(),c=r(i);M(()=>R(c,`${t().price??""}
                        ${(t().type==="percentage"?"%":le())??""}`)),a(i),m(n,i)},n=>{var i=lt();m(n,i)}),a(_),a(o),m(b,o)},b=>{var o=ct(),v=r(o);s(v,()=>"Close");var _=l(v,2),u=r(_),y=l(r(u),2);B(y),a(u);var S=l(u,2),n=l(r(S),2),i=r(n);B(i);var c=l(i,2);j(c,()=>p()===!0,E=>{var O=nt(),C=r(O);C.value=(C.__value="percentage")==null?"":"percentage";var U=l(C);U.value=(U.__value="currency")==null?"":"currency";var I=r(U,!0);M(()=>R(I,le())),a(U),a(O),ae(O,()=>t().type,P=>t(t().type=P,!0)),m(E,O)}),a(n),a(S);var h=l(S,2),D=l(r(h),2);ge(D),a(h),a(_),a(o),M(()=>{L(y,"placeholder",t().name),L(i,"placeholder",t().price)}),F(y,()=>t().name,E=>t(t().name=E,!0)),F(i,()=>t().price,E=>t(t().price=E,!0)),F(D,()=>t().description,E=>t(t().description=E,!0)),m(b,o)}),a(T),M(()=>K(k,`mr-4 ${(d(x)?"hidden sm:visible":"")??""} 
                    text-red-500 hover:text-red-700`)),m(g,T),J()}V(["click"]);var ut=f('<div class="space-y-2 py-2"><!> <button class="mt-2 text-orange-500"> </button></div>'),mt=f(`<div><h2 class="text-lg font-semibold">Types*</h2> <!> <h2 class="mt-4 sm:mt-8 text-lg font-semibold">Extras</h2> <!> <h2 class="mt-4 sm:mt-8 text-lg font-semibold">Add-in Services</h2> <div class="mt-2 sm:mt-4 space-y-4"><div class="flex flex-col items-start space-y-2 sm:space-y-0
                    sm:flex-row sm:items-center sm:justify-between sm:space-x-4"><div class="inline-flex items-center space-x-4"><input type="checkbox" id="fast-delivery"> <label for="fast-delivery" class="flex-1">Fast Delivery</label></div> <div class="inline-flex items-center flex-col sm:flex-row 
                        space-y-2 sm:space-y-0 sm:space-x-4"><div class="inline-flex items-center space-x-4"><input type="number" class="input-box entry" placeholder="Duration"> <select class="input-box entry"><option>Days</option><option>Weeks</option></select></div> <div class="inline-flex items-center space-x-4"><input type="number" class="input-box entry" placeholder="Price"> <select class="input-box entry"><option>%</option><option> </option></select></div></div></div> <div class="flex flex-col items-start space-y-2 sm:space-y-0
                     sm:justify-between sm:flex-row sm:items-center sm:space-x-4"><div class="inline-flex items-center space-x-4"><input type="checkbox" id="commercial-use"> <label for="commercial-use" class="flex-1">Commercial Use</label></div> <div class="inline-flex items-center space-x-4"><input type="number" class="input-box entry" placeholder="Price"> <select class="input-box entry"><option>%</option><option> </option></select></div></div></div></div>`);function Ae(g,e){X(e,!0);const s=(N,ue=re,te=re,me)=>{let he=qe(()=>We(me==null?void 0:me(),!1));var pe=ut(),we=r(pe);Z(we,17,ue,$,(fe,ie,je)=>{vt(fe,{get tab(){return d(ie)},removeSelf:()=>te()(je)})});var be=l(we,2);be.__click=function(...fe){var ie;(ie=d(he)?x:p)==null||ie.apply(this,fe)};var Ne=r(be);a(be),a(pe),M(()=>R(Ne,`+ Add new ${(d(he)?"extra":"type")??""}...`)),m(N,pe)};let t=e.props.selectedService;const p=()=>{t.types=[...t.types,{name:"",value:0,type:"currency",description:""}]},x=()=>{t.extras=[...t.extras,{name:"",value:0,type:"currency",description:""}]},T=N=>{t.types=t.types.filter((ue,te)=>te!==N)},k=N=>{t.extras=t.extras.filter((ue,te)=>te!==N)};var w=mt(),b=l(r(w),2);s(b,()=>t.types,()=>T);var o=l(b,4);s(o,()=>t.extras,()=>k,()=>!0);var v=l(o,4),_=r(v),u=r(_),y=r(u);B(y),ne(2),a(u);var S=l(u,2),n=r(S),i=r(n);B(i);var c=l(i,2),h=r(c);h.value=(h.__value="days")==null?"":"days";var D=l(h);D.value=(D.__value="weeks")==null?"":"weeks",a(c),a(n);var E=l(n,2),O=r(E);B(O);var C=l(O,2),U=r(C);U.value=(U.__value="percentage")==null?"":"percentage";var I=l(U);I.value=(I.__value="currency")==null?"":"currency";var P=r(I,!0);M(()=>R(P,le())),a(I),a(C),a(E),a(S),a(_);var z=l(_,2),Q=r(z),xe=r(Q);B(xe),ne(2),a(Q);var ye=l(Q,2),ce=r(ye);B(ce);var de=l(ce,2),ve=r(de);ve.value=(ve.__value="percentage")==null?"":"percentage";var se=l(ve);se.value=(se.__value="currency")==null?"":"currency";var Pe=r(se,!0);M(()=>R(Pe,le())),a(se),a(de),a(ye),a(z),a(v),a(w),ee(y,()=>t.fastDelivery.enabled,N=>t.fastDelivery.enabled=N),F(i,()=>t.fastDelivery.duration,N=>t.fastDelivery.duration=N),ae(c,()=>t.fastDelivery.unit,N=>t.fastDelivery.unit=N),F(O,()=>t.fastDelivery.price,N=>t.fastDelivery.price=N),ae(C,()=>t.fastDelivery.type,N=>t.fastDelivery.type=N),ee(xe,()=>t.commercialUse.enabled,N=>t.commercialUse.enabled=N),F(ce,()=>t.commercialUse.price,N=>t.commercialUse.price=N),ae(de,()=>t.commercialUse.type,N=>t.commercialUse.type=N),m(g,w),J()}V(["click"]);var pt=(g,e)=>e()(),bt=f("<button>Remove</button>"),ft=(g,e)=>A(e,!d(e)),_t=f('<h3 class="text-lg font-bold"> <p class="text-sm font-medium"> </p> <p class="text-sm font-medium"> </p></h3>'),gt=f('<h3 class="text-lg font-bold">Down Payment <p class="text-sm font-medium"> </p></h3>'),xt=f('<i class="fas text-lg font-bold ">(Missing Name)</i>'),yt=f('<div class="relative grow"><button class="absolute right-2 top-0 sm:top-2 hover:text-orange-500 underline">Edit</button> <div class="flex flex-col gap-2"><!></div></div>'),ht=(g,e)=>A(e,!d(e)),wt=f('<h3 class="text-lg font-bold">Down Payment</h3>'),kt=f('<label class="block text-sm font-medium">Name*</label> <input type="text" class="mt-1 block w-1/2 rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500">',1),St=f(`<div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-duration" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-duration" class="select-none text-sm">Duration</label> <input type="number" min="0" max="100" class="ml-2 w-16 sm:w-24 
                                  rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <select class="ml-2 w-28 sm:w-32 
                                  rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>days</option><option>weeks</option></select></div>`),Tt=(g,e)=>{e().payment.value=Math.min(100,Math.max(0,e().payment.value))},Dt=f(`<div class="relative grow"><button class="absolute right-2 top-0 sm:top-2 hover:text-orange-500 underline">Close</button> <div class="space-y-4"><div><!></div> <!> <div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-payment" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-payment" class="select-none text-sm">Payment</label> <input type="number" min="0" max="100" class="ml-2 w-16 sm:w-24 
                              rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <span class="ml-1 text-sm">%</span></div></div></div>`),Et=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow entry"><!> <!></div>');function Se(g,e){X(e,!0);let s=H(e,"tab",7),t=H(e,"removeSelf",3,()=>{}),p=H(e,"downpayment",3,!1),x=W(!1);var T=Et(),k=r(T);j(k,()=>!p(),b=>{var o=bt();o.__click=[pt,t],M(()=>K(o,`mr-6 text-red-500 hover:text-red-700
                       ${(d(x)?"hidden sm:visible":"")??""}`)),m(b,o)});var w=l(k,2);j(w,()=>!d(x),b=>{var o=yt(),v=r(o);v.__click=[ft,x];var _=l(v,2),u=r(_);j(u,()=>s().name,y=>{var S=_t(),n=r(S),i=l(n),c=r(i,!0);a(i);var h=l(i,2),D=r(h,!0);a(h),a(S),M(()=>{R(n,`${s().name??""} `),R(c,s().payment.enabled?`Pay ${s().payment.value}%`:"No Payment Required"),R(D,s().duration.enabled?` Due within ${s().duration.value} ${s().duration.unit}`:"")}),m(y,S)},y=>{var S=_e(),n=G(S);j(n,p,i=>{var c=gt(),h=l(r(c)),D=r(h,!0);a(h),a(c),M(()=>R(D,s().payment.enabled?`Pay ${s().payment.value}%`:"No Down Payment Required")),m(i,c)},i=>{var c=xt();m(i,c)},!0),m(y,S)}),a(_),a(o),m(b,o)},b=>{var o=Dt(),v=r(o);v.__click=[ht,x];var _=l(v,2),u=r(_),y=r(u);j(y,p,h=>{var D=wt();m(h,D)},h=>{var D=kt(),E=l(G(D),2);B(E),M(()=>L(E,"placeholder",s().name)),F(E,()=>s().name,O=>s().name=O),m(h,D)}),a(u);var S=l(u,2);j(S,()=>!p(),h=>{var D=St(),E=r(D);B(E);var O=l(E,4);B(O);var C=l(O,2),U=r(C);U.value=(U.__value="days")==null?"":"days";var I=l(U);I.value=(I.__value="weeks")==null?"":"weeks",a(C),a(D),M(()=>L(O,"placeholder",s().duration.value)),ee(E,()=>s().duration.enabled,P=>s().duration.enabled=P),F(O,()=>s().duration.value,P=>s().duration.value=P),ae(C,()=>s().duration.unit,P=>s().duration.unit=P),m(h,D)});var n=l(S,2),i=r(n);B(i);var c=l(i,4);B(c),c.__change=[Tt,s],ne(2),a(n),a(_),a(o),M(()=>L(c,"placeholder",s().payment.value)),ee(i,()=>s().payment.enabled,h=>s().payment.enabled=h),F(c,()=>s().payment.value,h=>s().payment.value=h),m(b,o)}),a(T),m(g,T),J()}V(["click","change"]);var Ct=f('<p class="text-sm font-medium">Pay 100%</p>'),Ot=f('<p class="text-sm font-medium">No Additional Payment Required</p>'),At=f(`<div><h2 class="text-lg font-semibold">Milestones *</h2> <h3 class="mb-4">Payment should be sequential, not additive (i.e 10% -> 60% -> 100%). If there are no other
        milestones, payment will only be fully provided once the final work is submitted.</h3> <div class="space-y-2"><!> <!> <div class="mb-4 flex items-center justify-between rounded-lg border p-4 shadow entry"><div class="relative grow"><div class="flex flex-col"><h3 class="text-lg font-bold">Final Work</h3> <!></div></div></div></div> <button class="mt-4 text-orange-500">+ Add new milestone</button></div>`);function Me(g,e){X(e,!0);let s=e.props.selectedService,t=q(s.downpayment),p=Y(()=>s.milestones.filter(n=>n.payment.enabled&&n.payment.value>=100).length>0);const x=()=>{s.milestones=[...s.milestones,{name:"New Milestone",duration:{value:7,unit:"days",enabled:!1},payment:{value:50,enabled:!1}}]};function T(n){s.milestones=s.milestones.filter((i,c)=>c!==n)}var k=At(),w=l(r(k),4),b=r(w);Se(b,{get tab(){return t},downpayment:!0});var o=l(b,2);Z(o,17,()=>s.milestones,$,(n,i,c)=>{Se(n,{get tab(){return d(i)},removeSelf:()=>T(c)})});var v=l(o,2),_=r(v),u=r(_),y=l(r(u),2);j(y,()=>!d(p),n=>{var i=Ct();m(n,i)},n=>{var i=Ot();m(n,i)}),a(u),a(_),a(v),a(w);var S=l(w,2);S.__click=x,a(k),m(g,k),J()}V(["click"]);var Mt=(g,e)=>e()(),It=f('<button class="mr-4 text-red-500 hover:text-red-700">Remove</button>'),Pt=f('<input type="checkbox" id="checkbox-enabled">'),Nt=(g,e)=>A(e,!d(e)),jt=f('<div class="relative grow"><button class="absolute right-2 hover:text-orange-500 underline">Edit</button> <div class="flex flex-col gap-2"><h3 class="text-lg font-bold"> </h3></div></div>'),Ut=(g,e)=>A(e,!d(e)),Bt=f('<div class="flex items-center gap-2"><input type="checkbox" id="global-enabled" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="global-enabled" class="text-sm font-medium">Add this term to global contract (applied when saved)</label></div>'),Rt=f(`<div class="relative grow"><button class="absolute right-2 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2 pr-16"><input type="text" class="mt-1 block w-full rounded-md entry shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!> <textarea id="brief" rows="3" class="mt-1 block w-full rounded-md min-h-64 sm:min-h-32
                            entry shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div></div>`),qt=f('<div class="entry flex items-center justify-between rounded-lg border p-4 shadow"><!> <!></div>');function Te(g,e){X(e,!0);let s=H(e,"tab",7),t=H(e,"unique",3,!1),p=H(e,"removeSelf",3,()=>{}),x=W(!1);var T=qt(),k=r(T);j(k,t,b=>{var o=It();o.__click=[Mt,p],m(b,o)},b=>{var o=Pt();B(o),M(()=>{L(o,"placeholder",s().enabled),K(o,`mr-4 h-4 w-4 text-orange-500 focus:ring-orange-500
                   ${(d(x)?"hidden sm:visible":"")??""}`)}),ee(o,()=>s().enabled,v=>s().enabled=v),m(b,o)});var w=l(k,2);j(w,()=>!d(x),b=>{var o=jt(),v=r(o);v.__click=[Nt,x];var _=l(v,2),u=r(_),y=r(u,!0);a(u),a(_),a(o),M(()=>R(y,s().title)),m(b,o)},b=>{var o=Rt(),v=r(o);v.__click=[Ut,x];var _=l(v,2),u=r(_);B(u);var y=l(u,2);j(y,t,n=>{var i=Bt(),c=r(i);B(c),ne(2),a(i),ee(c,()=>s().global,h=>s().global=h),m(n,i)});var S=l(y,2);ge(S),a(_),a(o),M(()=>{L(u,"placeholder",s().title),L(S,"placeholder",s().details)}),F(u,()=>s().title,n=>s().title=n),F(S,()=>s().details,n=>s().details=n),m(b,o)}),a(T),m(g,T),J()}V(["click"]);const Wt=(g,e)=>{A(e,q([...d(e),{details:"Details here",title:"New Section",global:!1}]))};var Ft=f(`<div><h2 class="text-lg font-semibold">Terms Of Service</h2> <h3>Choose sections from your global contract, or add a new term specific to this service. Any
        changes made here to the global terms will be applied for all other services.</h3> <div class="my-4 flex flex-col gap-2"><!> <!></div> <button class=" text-orange-500">+ Add new section...</button></div>`);function Ie(g,e){var _;X(e,!0);const s=e.props.selectedService,t=((_=oe("tos",{},{artistId:s.artistId}))==null?void 0:_.categories)??[];let p=q(t.map(u=>({...u,enabled:s.termsOfService[u.title]}))),x=W(q(s.uniqueTos.map(u=>({...u,global:!1}))));function T(u,y){return y.filter((S,n)=>n!==u)}var k=Ft(),w=l(r(k),4),b=r(w);Z(b,17,()=>p,$,(u,y)=>{Te(u,{get tab(){return d(y)}})});var o=l(b,2);Z(o,17,()=>d(x),$,(u,y,S)=>{Te(u,{get tab(){return d(y)},unique:!0,removeSelf:()=>{A(x,q(T(S,d(x))))}})}),a(w);var v=l(w,2);v.__click=[Wt,x],a(k),m(g,k),J()}V(["click"]);var zt=f('<div class="card-container px-6"><!></div>');function Xt(g,e){let s=[{label:"Overview",value:1,component:Oe,props:{selectedService:e.selectedService}},{label:"Service Details",value:2,component:Ae,props:{selectedService:e.selectedService}},{label:"Milestones",value:3,component:Me,props:{selectedService:e.selectedService}},{label:"Terms of Service",value:4,component:Ie,props:{selectedService:e.selectedService}}];var t=zt(),p=r(t);Ce(p,{items:s}),a(t),m(g,t)}var Jt=(g,e,s)=>e()(s()),Lt=f('<div class="h-3 w-3 rounded-full !bg-white"></div>'),Vt=f("<div></div>"),Yt=f('<div class="flex cursor-pointer flex-col items-center"><div><!></div> <p> </p></div> <!>',1),Ht=f('<div class="flex items-center"><div class="relative flex items-center "></div></div>');function Qt(g,e){X(e,!0);const s=(k,w=re)=>{var b=Yt(),o=G(b);o.__click=[Jt,t,w];var v=r(o);const _=Y(()=>`flex h-6 w-6 items-center justify-center rounded-full ${p(w(),"bg")??""}`);var u=r(v);j(u,()=>e.currentIndex<w(),c=>{var h=Lt();m(c,h)}),a(v);var y=l(v,2);const S=Y(()=>`mt-2 text-sm font-medium text-center 
                    ${(e.currentIndex===w()?"text-orange-500":"")??""}
              ${p(w(),"text")??""}
        `);var n=r(y,!0);a(y),a(o);var i=l(o,2);j(i,()=>w()!==e.nodeTimeline.length-1,c=>{var h=Vt();const D=Y(()=>`mx-2 w-12 h-1 flex-1 ${p(w(),"bg")??""}`);M(()=>K(h,d(D))),m(c,h)}),M(()=>{K(v,d(_)),K(y,d(S)),R(n,e.nodeTimeline[w()])}),m(k,b)},t=H(e,"callback",3,()=>{}),p=(k,w)=>e.currentIndex>=k?`!${w}-orange-500`:`!${w}-gray-500`;var x=Ht(),T=r(x);Z(T,21,()=>e.nodeTimeline,$,(k,w,b)=>{s(k,()=>b)}),a(T),a(x),m(g,x),J()}V(["click"]);var Gt=f("<div><!></div>");function Kt(g,e){X(e,!0);const s=e.props.selectedService,t=e.props.currentArtist;var p=Gt(),x=r(p);Ve(x,{selectedService:s,currentArtist:t,get artDB(){return s.samples},viewOnly:!0,artViewOnly:!0}),a(p),m(g,p),J()}var Zt=f('<div class="mb-4 card-container px-2 sm:px-6 overflow-x-auto"><!></div> <div class="card-container px-6"><!> <!></div>',1);function $t(g,e){let t=W(0),p=["Overview","Types","Milestones","Terms of Service","Summary"],x=W(q([{label:"Overview",value:1,component:Oe,props:{selectedService:e.selectedService},bindable:!0},{label:"Service Details",value:2,component:Ae,props:{selectedService:e.selectedService},bindable:!0},{label:"Milestones",value:3,component:Me,props:{selectedService:e.selectedService},bindable:!0},{label:"Terms of Service",value:4,component:Ie,props:{selectedService:e.selectedService},bindable:!0},{label:"Summary",value:5,component:Kt,props:{selectedService:e.selectedService,currentArtist:e.currentArtist}}]));const T=()=>(ke(t,-1),Math.min(d(t),0)),k=()=>(ke(t),Math.max(d(t),4)),w=i=>{A(t,q(i))};var b=Zt(),o=G(b),v=r(o);Qt(v,{nodeTimeline:p,get currentIndex(){return d(t)},callback:w}),a(o);var _=l(o,2),u=r(_),y=Y(()=>d(t)+1);Ce(u,{get items(){return d(x)},hideTabs:!0,get currentTab(){return d(y)},get bindableItems(){return d(x)},set bindableItems(i){A(x,q(i))},binded:!0});var S=l(u,2),n=Y(()=>[d(t),4]);Ye(S,{goToPreviousStep:T,proceedToNextStep:k,backwards:"Previous Step",forwards:"Next Step",get indexes(){return d(n)}}),a(_),m(g,b)}const ea=(g,e)=>{confirm("Are you sure you want to delete this service?")&&(e.editOrCreate&&e.removeEntry(e.props.id),e.closeEdit())},ta=(g,e,s)=>{d(e).isOpen=!0,d(e).state="published",s.addEntry(d(e)),s.closeEdit()};var aa=f(`<div class="fixed inset-0 z-50 overflow-y-auto min-h-full"><div class="h-full relative !bg-gray-100 dark:!bg-stone-900"><div class="mb-4 flex flex-col sm:flex-row w-full justify-between border-b-2 
            pt-4 pb-2 colour-border px-6 sm:px-6 md:px-8 lg:px-10"><!> <div class="flex flex-row space-x-2 mt-2 sm:mt-0"><button class="discard-button"> </button> <button class="save-button mx-0 sm:mx-4">Publish</button></div></div> <div class="px-2 sm:px-6 md:px-10 lg:px-16 !bg-gray-100 dark:!bg-stone-900 pb-6"><!></div></div></div>`);function De(g,e){X(e,!0);const s=JSON.parse(JSON.stringify(e.props));let t=W(q({}));const p=()=>{e.editOrCreate?confirm("Are you sure you want to discard your changes?")&&(e.editEntry(s),e.closeEdit()):(e.addEntry(d(t)),e.closeEdit())};if(!e.editOrCreate){const n=e.props.currentArtist,i=oe("tos",{artistId:Number(n.id)},{})[0].categories,c=Object.assign({},...i.map(h=>({[h.title]:!0})));A(t,q({id:e.props.id,artistId:n.id,state:"draft",isOpen:!1,title:"Working Title",description:"Working Description",thumbnail:"",samples:[],tags:[],types:[{name:"Sample Name",price:20,type:"currency",description:"Sample Description"}],extras:[],fastDelivery:{enabled:!1,price:50,type:"percentage",duration:3,unit:"days"},commercialUse:{enabled:!1,price:100,type:"percentage"},downpayment:{payment:{value:20,enabled:!1}},milestones:[],termsOfService:c,uniqueTos:[]}))}var x=aa(),T=r(x),k=r(T),w=r(k),b=Y(()=>e.editOrCreate?"Edit Service":"Create Service");Xe(w,{closeEdit:p,includeBorder:!1,get buttonText(){return d(b)}});var o=l(w,2),v=r(o);v.__click=[ea,e];var _=r(v,!0);a(v);var u=l(v,2);u.__click=[ta,t,e],a(o),a(k);var y=l(k,2),S=r(y);j(S,()=>e.editOrCreate,n=>{Xt(n,{get closeEdit(){return e.closeEdit},get selectedService(){return e.props}})},n=>{$t(n,{get closeEdit(){return e.closeEdit},get selectedService(){return d(t)},get currentArtist(){return e.props}})}),a(y),a(T),a(x),M(()=>R(_,e.editOrCreate?"Delete Service":"Discard Draft")),m(g,x),J()}V(["click"]);var ra=f('<img alt="Service Missing" class="h-48 w-full rounded-md object-contain">'),sa=f('<section class="card-container mb-8"><h2 class="mb-4 text-lg font-semibold"> </h2> <div class="service-grid mt-4 grid grid-cols-1 sm:grid-cols-4 gap-4"><!></div> <!></section>'),ia=(g,e)=>A(e,!0),la=f('<div class="card-island"><div class="mb-4 flex items-center justify-between"><h1 class="page-title">Manage Services</h1> <button class="my-services-button rounded bg-orange-500 px-4 py-2 text-white hover:bg-orange-600">Create New Service</button></div> <!></div>');function Ta(g,e){var S,n;X(e,!0);const s=(i,c=re)=>{var h=sa(),D=r(h),E=r(D,!0);M(()=>R(E,c()[0].toUpperCase()+c().slice(1))),a(D);var O=l(D,2),C=r(O),U=Y(()=>d(t).filter(P=>P.state===c()));ze(C,{get serviceDB(){return d(U)},viewOnly:!1,currentArtist:!0,callback:w,editEntry:_,removeEntry:v}),a(O);var I=l(O,2);j(I,()=>d(t).filter(P=>P.state===c()).length===0,P=>{var z=ra();M(()=>L(z,"src",Ee("artwork",""))),m(P,z)}),a(h),m(i,h)};let t=W(q((S=e.data)==null?void 0:S.service));const p=(n=e.data)==null?void 0:n.user;let x=W(null),T=W(!1),k=W(!1);const w=i=>{A(x,q(i)),A(T,!0),A(k,!1)},b=()=>{A(T,!1),A(k,!1)},o=i=>{A(t,q([...d(t),i]))},v=i=>{A(t,q(d(t).filter(c=>c.id!==i)))},_=i=>{A(t,q(d(t).map(c=>c.id===i.id?i:c)))};var u=_e();Re(i=>{Fe.title="BrushHub - Manage Services"});var y=G(u);j(y,()=>d(T),i=>{De(i,{closeEdit:b,editOrCreate:!0,get props(){return d(x)},addEntry:o,removeEntry:v,editEntry:_})},i=>{var c=_e(),h=G(c);j(h,()=>d(k),D=>{var E=Y(()=>({currentArtist:p,id:d(t).length>0?d(t)[d(t).length-1].id+1:1}));De(D,{closeEdit:b,editOrCreate:!1,get props(){return d(E)},addEntry:o,removeEntry:v,editEntry:_})},D=>{var E=la(),O=r(E),C=l(r(O),2);C.__click=[ia,k],a(O);var U=l(O,2);Z(U,16,()=>["published","draft","archived"],$,(I,P)=>{s(I,()=>P)}),a(E),m(D,E)},!0),m(i,c)}),m(g,u),J()}V(["click"]);export{Ta as component,Sa as universal};
