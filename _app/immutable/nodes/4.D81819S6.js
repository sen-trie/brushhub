import{e as be}from"../chunks/index.DMxzPKVy.js";import{g as fe,b as _e}from"../chunks/util.BSZWymh8.js";import{p as xe,r as D,s as P,w as oe}from"../chunks/db.BTs8aeET.js";import{d as ye,a as f,t as _,r as he,s as h}from"../chunks/disclose-version.BEEGi2oI.js";import{p as ke,b as B,u as we,f as De,t as p,a as Pe,g as e,d as u,s as r,h as Be,c as i,r as o,n as W}from"../chunks/runtime.C-s0Hq_6.js";import{i as ie}from"../chunks/if.DN0dI3wX.js";import{e as z,i as V}from"../chunks/each.Bjkk2cOk.js";import{a as k}from"../chunks/input.Asw2ctPt.js";import{b as je}from"../chunks/select.DqRc-Iyy.js";import{p as q}from"../chunks/proxy.CWL-fuXM.js";const Ue=!1,Ce=()=>{const m=fe(),d=xe("artist",{},{id:m.id});if(!d)throw be(404,"You are not the current user");return{artist:d}},Xe=Object.freeze(Object.defineProperty({__proto__:null,load:Ce,ssr:Ue},Symbol.toStringTag,{value:"Module"}));var Re=(m,d,v)=>d(m,v()),Ae=(m,d,v,w,a)=>{d()==="dp"?(e(v).uploadedDP="",u(w,"")):(e(v).uploadedBanner="",u(a,""))},Me=_('<div class="mt-2 flex justify-center space-x-2"><label class="mr-4 cursor-pointer rounded bg-orange-500 px-4 py-2 text-sm font-medium text-white hover:bg-orange-600">Upload Image</label> <input type="file" accept="image/*" class="hidden"> <button class="text-red-500 hover:underline">Remove</button></div>'),Ne=_('<p class="mt-2 text-sm text-red-500"> </p>'),Oe=_('<p class="mt-2 text-sm text-red-500"> </p>'),Se=_('<div class="items-center space-x-1 rounded bg-orange-100 px-2 py-1 text-orange-500"><span> </span> <button class="text-xs font-bold">x</button></div>'),Ee=_("<option> </option>"),Le=_('<div class="flex items-center space-x-2"><button class="text-gray-500 hover:text-orange-500 disabled:text-gray-300" aria-label="Move link up">‚ñ≤</button> <button class="text-gray-500 hover:text-orange-500 disabled:text-gray-300" aria-label="Move link down">‚ñº</button> <input type="url" placeholder="Enter link URL" class="w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <button class="text-gray-500 hover:text-red-500" aria-label="Remove link">üóëÔ∏è</button></div>'),Te=(m,d)=>e(d).links.push(""),We=(m,d,v)=>{confirm("Are you sure you want to discard all changes?")&&u(d,q(v))},ze=_(`<div class="flex flex-col space-y-6"><h1 class="page-title -mb-4">Profile Customization</h1> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><p class="block text-sm font-medium text-gray-700">Profile Picture</p> <p class="mt-1 text-sm text-gray-500">Appears whenever your page is presented to others</p> <!> <img alt="DP" class="mx-auto my-4 h-24 w-24 rounded-full"> <!></div> <div><p class="block text-sm font-medium text-gray-700">Banner Image</p> <p class="mt-1 text-sm text-gray-500">This image will be displayed at the top of your profile page</p> <!> <img alt="Cover Banner" class="mx-auto my-4 h-24 w-full rounded-md object-cover"> <!></div></div> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><label for="username" class="block text-sm font-medium text-gray-700">Handle</label> <p class="mt-1 text-sm text-gray-500"> </p> <input type="text" id="username" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <div><label for="displayName" class="block text-sm font-medium text-gray-700">Display Name</label> <p class="mt-1 text-sm text-gray-500">Choose a channel name that represents you and your content</p> <input type="text" id="displayName" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></div></div> <div><label for="bio" class="block text-sm font-medium text-gray-700">Bio</label> <textarea id="bio" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></textarea></div> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2"><div><label for="languages" class="block text-sm font-medium text-gray-700">Languages</label> <div class="mt-1 block w-full rounded-md border border-gray-300 bg-white p-2 shadow-sm"><div class="flex flex-wrap gap-2"></div> <input type="text" placeholder="Add language" class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <p class="mt-1 text-sm text-gray-500">Enter a comma after every language</p></div> <div><label for="location" class="block text-sm font-medium text-gray-700">Location</label> <select id="location" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></select></div></div> <div class="mt-6 space-y-2"><label for="location" class="block text-sm font-medium text-gray-700">External Links</label> <p class="text-sm text-gray-500">Share external links with viewers. They'll be visible on your profile.</p> <!> <button class="mt-2 flex items-center text-orange-500 hover:underline"><span class="mr-2 text-lg">+</span> Add new link</button></div></div> <div class="mt-6 flex justify-end space-x-4"><button class="rounded border border-red-500 px-4 py-2 text-red-500 hover:bg-red-50">Discard Changes</button> <button class="rounded bg-orange-500 px-4 py-2 text-white hover:bg-orange-600">Save</button></div>`,1);function Ze(m,d){ke(d,!0);const v=(l,s=Be)=>{var t=Me(),n=i(t),c=r(n,2);c.__change=[Re,ne,s];var b=r(c,2);b.__click=[Ae,s,a,y,x],o(t),p(()=>{P(n,"for",`upload-${s()??""}`),P(c,"id",`upload-${s()??""}`)}),f(l,t)},w={...d.data.artist,...d.data.user,uploadedDP:d.data.user.avatar,uploadedBanner:d.data.user.coverImage};let a=B(q(w)),g=B("");we(()=>{/,\s$/.test(e(g))&&(u(g,q(e(g).replace(/,\s$/,""))),e(a).languages.push(e(g)),u(g,""))});let x=B(""),y=B("");const ne=(l,s)=>{var c;const t=(c=l.target.files)==null?void 0:c[0];if(!t)return;if(!t.type.startsWith("image/")){s==="dp"?u(y,"Only image files (e.g., jpg, png) are allowed."):u(x,"Only image files (e.g., jpg, png) are allowed.");return}const n=new FileReader;n.onload=()=>{s==="dp"?(e(a).uploadedDP=n.result,u(y,"")):(e(a).uploadedBanner=n.result,u(x,""))},n.readAsDataURL(t)};function F(l,s){if(s<0||s>=e(a).links.length)return;const t=e(a).links[l];e(a).links[l]=e(a).links[s],e(a).links[s]=t}var H=ze(),j=De(H),U=r(i(j),2),C=i(U),Y=r(i(C),4);ie(Y,()=>e(y),l=>{var s=Ne(),t=i(s,!0);o(s),p(()=>h(t,e(y))),f(l,s)});var G=r(Y,2);p(()=>P(G,"src",oe("dp",e(a).uploadedDP)));var de=r(G,2);v(de,()=>"dp"),o(C);var I=r(C,2),J=r(i(I),4);ie(J,()=>e(x),l=>{var s=Oe(),t=i(s,!0);o(s),p(()=>h(t,e(x))),f(l,s)});var K=r(J,2);p(()=>P(K,"src",oe("banner",e(a).uploadedBanner)));var ce=r(K,2);v(ce,()=>"banner"),o(I),o(U);var R=r(U,2),A=i(R),M=r(i(A),2),ue=i(M);o(M);var Q=r(M,2);D(Q),o(A);var X=r(A,2),Z=r(i(X),4);D(Z),o(X),o(R);var N=r(R,2),$=r(i(N),2);he($),o(N);var O=r(N,2),S=i(O),ee=r(i(S),2),E=i(ee);z(E,21,()=>e(a).languages,V,(l,s,t)=>{var n=Se();n.__click=()=>e(a).languages.splice(t,1);var c=i(n),b=i(c,!0);o(c),W(2),o(n),p(()=>h(b,e(s))),f(l,n)}),o(E);var ae=r(E,2);D(ae),o(ee),W(2),o(S);var te=r(S,2),L=r(i(te),2);z(L,21,_e,V,(l,s)=>{var t=Ee(),n={},c=i(t,!0);o(t),p(()=>{n!==(n=e(s))&&(t.value=(t.__value=e(s))==null?"":e(s)),h(c,e(s))}),f(l,t)}),o(L),o(te),o(O);var re=r(O,2),se=r(i(re),4);z(se,17,()=>e(a).links,V,(l,s,t)=>{var n=Le(),c=i(n);c.__click=()=>F(t,t-1),c.disabled=t===0;var b=r(c,2);b.__click=()=>F(t,t+1);var T=r(b,2);D(T);var me=r(T,2);me.__click=()=>e(a).links.splice(t,1),o(n),p(()=>b.disabled=t===e(a).links.length-1),k(T,()=>e(a).links[t],ge=>e(a).links[t]=ge),f(l,n)});var ve=r(se,2);ve.__click=[Te,a],o(re),o(j);var le=r(j,2),pe=i(le);pe.__click=[We,a,w],W(2),o(le),p(()=>h(ue,`Choose a unique handle - brushhub.com/${e(a).username??""}`)),k(Q,()=>e(a).username,l=>e(a).username=l),k(Z,()=>e(a).displayName,l=>e(a).displayName=l),k($,()=>e(a).bio,l=>e(a).bio=l),k(ae,()=>e(g),l=>u(g,l)),je(L,()=>e(a).location,l=>e(a).location=l),f(m,H),Pe()}ye(["change","click"]);export{Ze as component,Xe as universal};
