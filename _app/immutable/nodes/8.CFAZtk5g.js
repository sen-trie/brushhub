import{e as Ae}from"../chunks/index.CRQyEwE3.js";import{g as Me,m as ie}from"../chunks/util.3lGB5WEb.js";import{p as se,r as R,s as V,w as ye}from"../chunks/db.BaQdwY0M.js";import{d as Y,a as m,t as f,r as me,s as B,c as ue}from"../chunks/disclose-version.BEEGi2oI.js";import{p as J,s,f as H,t as P,d as O,g as u,a as L,b as F,c as i,r,h as ae,l as Pe,m as Ie,n as he,e as G,G as fe}from"../chunks/runtime.C-s0Hq_6.js";import{i as U}from"../chunks/if.DN0dI3wX.js";import{e as K,i as Z}from"../chunks/each.Bjkk2cOk.js";import{p as q}from"../chunks/proxy.CWL-fuXM.js";import{S as Ne}from"../chunks/Services.rWJWylbQ.js";import{B as Ue}from"../chunks/BackButtonArrow.oXT4XZSs.js";import{T as we}from"../chunks/Tabs.BxN9-eAX.js";import{a as z,b as $}from"../chunks/input.Asw2ctPt.js";import{S as je}from"../chunks/SearchTags.BT4v6QAM.js";import{I as Re,S as Be,C as qe}from"../chunks/ServicePage.Ct81kIsF.js";import{b as te}from"../chunks/select.DqRc-Iyy.js";import{p as Q}from"../chunks/props.BcShvcsW.js";import{s as ve}from"../chunks/class.Bsjm69_Q.js";const We=!1,Fe=async()=>[{slug:"hungry_anne"}],ze=({params:x})=>{const e=x.slug.toLowerCase(),a=Me(),t=se("user",{},{username:e});if(!t||a.username!==t.username)throw Ae(404,"You are not the current artist");return{service:se("services",{artistId:Number(t.id)},{})}},fa=Object.freeze(Object.defineProperty({__proto__:null,entries:Fe,load:ze,ssr:We},Symbol.toStringTag,{value:"Module"}));var Je=(x,e)=>e(x,"thumbnail"),Le=f(`<h2 class="mb-2 text-lg font-semibold">Overview</h2> <div class="flex flex-col space-y-4"><div><label for="title" class="block text-sm font-medium">Title</label> <input id="title" type="text" class="mt-1 block w-full border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></div> <div><label for="upload-thumbnail" class="block text-sm font-medium mb-2">Service Thumbnail</label> <input id="upload-thumbnail" type="file" accept="image/*" class="hidden"> <div class="flex flex-row justify-center items-center"><img alt="thumbnail" class="w-full rounded-md object-contain flex-1 h-48"> <div class="flex flex-1 content-center flex-col space-y-2"><label for="upload-thumbnail" class="cursor-pointer rounded bg-orange-500 px-4 py-2 
                          text-sm font-medium text-white hover:bg-orange-600 m-auto">Upload Image</label> <button class="text-red-500 hover:underline">Remove</button></div></div></div> <div><label for="description" class="block text-sm font-medium">Description</label> <textarea id="description" rows="4" class="mt-1 block w-full border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div> <div><label class="mb-2 block text-sm font-semibold">Tags</label> <!></div> <div><h3 class="text-sm font-medium text-gray-700">References</h3> <!></div></div>`,1);function ke(x,e){J(e,!0);let a=F(""),t=F("");const b=e.props.selectedService,w=(C,j)=>{let I=C.target.files,M=I==null?void 0:I[0];if(!(!I||!M)){if(j==="sample"&&b.samples.length+I.length>10){O(a,"You can upload a maximum of 10 images.");return}if(j==="thumbnail"){if(!M.type.startsWith("image/")){O(t,"Only image files (e.g., jpg, png) are allowed.");return}const W=new FileReader;W.onload=()=>{b.thumbnail=W.result,O(t,"")},W.readAsDataURL(M)}else for(const W of I){if(!W.type.startsWith("image/")){O(a,"Only image files (e.g., jpg, png) are allowed.");return}const X=new FileReader;X.onload=()=>{b.samples=[...b.samples,X.result],O(a,"")},X.readAsDataURL(W)}}},T=C=>{b.samples=b.samples.filter((j,I)=>I!==C)};var S=Le(),k=s(H(S),2),p=i(k),l=s(i(p),2);R(l),r(p);var d=s(p,2),g=s(i(d),2);g.__change=[Je,w];var v=s(g,2),_=i(v);P(()=>V(_,"src",ye("thumbnail",b.thumbnail)));var y=s(_,2),n=s(i(y),2);n.__click=()=>{b.thumbnail="",O(t,"")},r(y),r(v),r(d);var o=s(d,2),c=s(i(o),2);me(c),r(o);var h=s(o,2),D=s(i(h),2);je(D,{get currentTags(){return b.tags},set currentTags(C){b.tags=C}}),r(h);var E=s(h,2),A=s(i(E),2);Re(A,{get uploadedImages(){return b.samples},get imageWarningMessage(){return u(a)},size:24,removeImage:T,handleImageUpload:C=>{w(C,"sample")}}),r(E),r(k),z(l,()=>b.title,C=>b.title=C),z(c,()=>b.description,C=>b.description=C),m(x,S),L()}Y(["change","click"]);var Ve=(x,e)=>O(e,!u(e)),Ye=f('<button class="absolute right-2 text-gray-500 hover:text-orange-500"> </button>'),Ge=f('<h3 class="text-lg font-bold text-gray-800"> </h3>'),Qe=f('<i class="fas text-lg font-bold text-gray-800">(Missing Name)</i>'),Xe=f('<p class="text-sm text-gray-500"> </p>'),He=f('<i class="fas fa-pencil-alt text-sm text-gray-500">(Missing Description)</i>'),Ke=f('<p class="text-sm font-medium text-gray-900"> </p>'),Ze=f('<i class="fas fa-pencil-alt text-sm text-gray-500">(Missing Price)</i>'),$e=f('<div class="relative grow"><!> <div class="flex flex-col gap-2"><!> <!> <!></div></div>'),et=f('<select class="mt-1 block w-1/2 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>%</option><option> </option></select>'),tt=f('<div class="relative grow"><!> <div class="space-y-4"><div class="mt-4"><label class="block text-base font-medium text-gray-700">Name*</label> <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <div><label class="block text-base font-medium text-gray-700">Price*</label> <div class="flex items-center gap-2"><input type="number" class="mt-1 block w-1/2 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!></div></div> <div><label class="block text-base font-medium text-gray-700">Description</label> <textarea class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500" placeholder="Description..."></textarea></div></div></div>'),at=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow"><button class="mr-4 text-red-500 hover:text-red-700">Remove</button> <!></div>');function rt(x,e){J(e,!0);const a=(p,l=ae)=>{var d=Ye();d.__click=[Ve,w];var g=i(d,!0);r(d),P(()=>B(g,l())),m(p,d)};let t=Q(e,"tab",15),b=Q(e,"extra",3,!1),w=F(!1);var T=at(),S=i(T);S.__click=function(...p){var l;(l=e.removeSelf)==null||l.apply(this,p)};var k=s(S,2);U(k,()=>!u(w),p=>{var l=$e(),d=i(l);a(d,()=>"Edit");var g=s(d,2),v=i(g);U(v,()=>t().name,n=>{var o=Ge(),c=i(o,!0);r(o),P(()=>B(c,t().name)),m(n,o)},n=>{var o=Qe();m(n,o)});var _=s(v,2);U(_,()=>t().description,n=>{var o=Xe(),c=i(o,!0);r(o),P(()=>B(c,t().description)),m(n,o)},n=>{var o=He();m(n,o)});var y=s(_,2);U(y,()=>t().price,n=>{var o=Ke(),c=i(o);P(()=>B(c,`${t().price??""}
                        ${(t().type==="percentage"?"%":ie())??""}`)),r(o),m(n,o)},n=>{var o=Ze();m(n,o)}),r(g),r(l),m(p,l)},p=>{var l=tt(),d=i(l);a(d,()=>"Close");var g=s(d,2),v=i(g),_=s(i(v),2);R(_),r(v);var y=s(v,2),n=s(i(y),2),o=i(n);R(o);var c=s(o,2);U(c,()=>b()===!0,E=>{var A=et(),C=i(A);C.value=(C.__value="percentage")==null?"":"percentage";var j=s(C);j.value=(j.__value="currency")==null?"":"currency";var I=i(j,!0);P(()=>B(I,ie())),r(j),r(A),te(A,()=>t().type,M=>t(t().type=M,!0)),m(E,A)}),r(n),r(y);var h=s(y,2),D=s(i(h),2);me(D),r(h),r(g),r(l),P(()=>{V(_,"placeholder",t().name),V(o,"placeholder",t().price)}),z(_,()=>t().name,E=>t(t().name=E,!0)),z(o,()=>t().price,E=>t(t().price=E,!0)),z(D,()=>t().description,E=>t(t().description=E,!0)),m(p,l)}),r(T),m(x,T),L()}Y(["click"]);var it=f('<div class="space-y-2 py-2"><!> <button class="mt-2 text-orange-500"> </button></div>'),st=f('<div><h2 class="text-lg font-semibold">Types *</h2> <!> <h2 class="mt-8 text-lg font-semibold">Extras</h2> <!> <h2 class="mt-8 text-lg font-semibold">Add-in Services</h2> <div class="mt-4 space-y-4"><div class="flex items-center space-x-4"><input type="checkbox" id="fast-delivery"> <label for="fast-delivery" class="flex-1">Fast Delivery</label> <input type="number" class="input-box" placeholder="Duration"> <select class="input-box"><option>Days</option><option>Weeks</option></select> <input type="number" class="input-box" placeholder="Price"> <select class="input-box"><option>%</option><option> </option></select></div> <div class="flex items-center space-x-4"><input type="checkbox" id="commercial-use"> <label for="commercial-use" class="flex-1">Commercial Use</label> <input type="number" class="input-box" placeholder="Price"> <select class="input-box"><option>%</option><option> </option></select></div></div></div>');function Se(x,e){J(e,!0);const a=(N,oe=ae,ee=ae,le)=>{let be=Pe(()=>Ie(le==null?void 0:le(),!1));var ne=it(),pe=i(ne);K(pe,17,oe,Z,(de,re,Oe)=>{rt(de,{get tab(){return u(re)},removeSelf:()=>ee()(Oe)})});var ce=s(pe,2);ce.__click=function(...de){var re;(re=u(be)?w:b)==null||re.apply(this,de)};var Ce=i(ce);r(ce),r(ne),P(()=>B(Ce,`+ Add new ${(u(be)?"extra":"type")??""}...`)),m(N,ne)};let t=e.props.selectedService;const b=()=>{t.types=[...t.types,{name:"",value:0,type:"currency",description:""}]},w=()=>{t.extras=[...t.extras,{name:"",value:0,type:"currency",description:""}]},T=N=>{t.types=t.types.filter((oe,ee)=>ee!==N)},S=N=>{t.extras=t.extras.filter((oe,ee)=>ee!==N)};var k=st(),p=s(i(k),2);a(p,()=>t.types,()=>T);var l=s(p,4);a(l,()=>t.extras,()=>S,()=>!0);var d=s(l,4),g=i(d),v=i(g);R(v);var _=s(v,4);R(_);var y=s(_,2),n=i(y);n.value=(n.__value="days")==null?"":"days";var o=s(n);o.value=(o.__value="weeks")==null?"":"weeks",r(y);var c=s(y,2);R(c);var h=s(c,2),D=i(h);D.value=(D.__value="percentage")==null?"":"percentage";var E=s(D);E.value=(E.__value="currency")==null?"":"currency";var A=i(E,!0);P(()=>B(A,ie())),r(E),r(h),r(g);var C=s(g,2),j=i(C);R(j);var I=s(j,4);R(I);var M=s(I,2),W=i(M);W.value=(W.__value="percentage")==null?"":"percentage";var X=s(W);X.value=(X.__value="currency")==null?"":"currency";var Ee=i(X,!0);P(()=>B(Ee,ie())),r(X),r(M),r(C),r(d),r(k),$(v,()=>t.fastDelivery.enabled,N=>t.fastDelivery.enabled=N),z(_,()=>t.fastDelivery.duration,N=>t.fastDelivery.duration=N),te(y,()=>t.fastDelivery.unit,N=>t.fastDelivery.unit=N),z(c,()=>t.fastDelivery.price,N=>t.fastDelivery.price=N),te(h,()=>t.fastDelivery.type,N=>t.fastDelivery.type=N),$(j,()=>t.commercialUse.enabled,N=>t.commercialUse.enabled=N),z(I,()=>t.commercialUse.price,N=>t.commercialUse.price=N),te(M,()=>t.commercialUse.type,N=>t.commercialUse.type=N),m(x,k),L()}Y(["click"]);var ot=(x,e)=>e()(),lt=f('<button class="mr-6 text-red-500 hover:text-red-700">Remove</button>'),nt=(x,e)=>O(e,!u(e)),ct=f('<h3 class="text-lg font-bold text-gray-800"> <p class="text-sm font-medium text-gray-900"> </p> <p class="text-sm font-medium text-gray-900"> </p></h3>'),dt=f('<h3 class="text-lg font-bold text-gray-800">Down Payment <p class="text-sm font-medium text-gray-900"> </p></h3>'),vt=f('<i class="fas text-lg font-bold text-gray-800">(Missing Name)</i>'),ut=f('<div class="relative grow"><button class="absolute right-2 top-2 text-gray-500 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2"><!></div></div>'),mt=(x,e)=>O(e,!u(e)),bt=f('<h3 class="text-lg font-bold text-gray-800">Down Payment</h3>'),pt=f('<label class="block text-sm font-medium text-gray-700">Name*</label> <input type="text" class="mt-1 block w-1/2 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500">',1),ft=f('<div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-duration" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-duration" class="select-none text-sm text-gray-700">Duration</label> <input type="number" min="0" max="100" class="ml-2 w-24 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <select class="ml-2 w-32 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>days</option><option>weeks</option></select></div>'),gt=(x,e)=>{e().payment.value=Math.min(100,Math.max(0,e().payment.value))},_t=f('<div class="relative grow"><button class="absolute right-2 top-2 text-gray-500 hover:text-orange-500">Close</button> <div class="space-y-4"><div><!></div> <!> <div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-payment" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-payment" class="select-none text-sm text-gray-700">Payment</label> <input type="number" min="0" max="100" class="ml-2 w-24 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <span class="ml-1 text-sm text-gray-700">%</span></div></div></div>'),xt=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow"><!> <!></div>');function ge(x,e){J(e,!0);let a=Q(e,"tab",7),t=Q(e,"removeSelf",3,()=>{}),b=Q(e,"downpayment",3,!1),w=F(!1);var T=xt(),S=i(T);U(S,()=>!b(),p=>{var l=lt();l.__click=[ot,t],m(p,l)});var k=s(S,2);U(k,()=>!u(w),p=>{var l=ut(),d=i(l);d.__click=[nt,w];var g=s(d,2),v=i(g);U(v,()=>a().name,_=>{var y=ct(),n=i(y),o=s(n),c=i(o,!0);r(o);var h=s(o,2),D=i(h,!0);r(h),r(y),P(()=>{B(n,`${a().name??""} `),B(c,a().payment.enabled?`Pay ${a().payment.value}%`:"No Payment Required"),B(D,a().duration.enabled?` Due within ${a().duration.value} ${a().duration.unit}`:"")}),m(_,y)},_=>{var y=ue(),n=H(y);U(n,b,o=>{var c=dt(),h=s(i(c)),D=i(h,!0);r(h),r(c),P(()=>B(D,a().payment.enabled?`Pay ${a().payment.value}%`:"No Down Payment Required")),m(o,c)},o=>{var c=vt();m(o,c)},!0),m(_,y)}),r(g),r(l),m(p,l)},p=>{var l=_t(),d=i(l);d.__click=[mt,w];var g=s(d,2),v=i(g),_=i(v);U(_,b,h=>{var D=bt();m(h,D)},h=>{var D=pt(),E=s(H(D),2);R(E),P(()=>V(E,"placeholder",a().name)),z(E,()=>a().name,A=>a().name=A),m(h,D)}),r(v);var y=s(v,2);U(y,()=>!b(),h=>{var D=ft(),E=i(D);R(E);var A=s(E,4);R(A);var C=s(A,2),j=i(C);j.value=(j.__value="days")==null?"":"days";var I=s(j);I.value=(I.__value="weeks")==null?"":"weeks",r(C),r(D),P(()=>V(A,"placeholder",a().duration.value)),$(E,()=>a().duration.enabled,M=>a().duration.enabled=M),z(A,()=>a().duration.value,M=>a().duration.value=M),te(C,()=>a().duration.unit,M=>a().duration.unit=M),m(h,D)});var n=s(y,2),o=i(n);R(o);var c=s(o,4);R(c),c.__change=[gt,a],he(2),r(n),r(g),r(l),P(()=>V(c,"placeholder",a().payment.value)),$(o,()=>a().payment.enabled,h=>a().payment.enabled=h),z(c,()=>a().payment.value,h=>a().payment.value=h),m(p,l)}),r(T),m(x,T),L()}Y(["click","change"]);var yt=f('<p class="text-sm font-medium text-gray-900">Pay 100%</p>'),ht=f('<p class="text-sm font-medium text-gray-900">No Additional Payment Required</p>'),wt=f(`<div><h2 class="text-lg font-semibold">Milestones *</h2> <h3 class="mb-4">Payment should be sequential, not additive (i.e 10% -> 60% -> 100%). If there are no other
        milestones, payment will only be fully provided once the final work is submitted.</h3> <div class="space-y-2"><!> <!> <div class="mb-4 flex items-center justify-between rounded-lg border p-4 shadow"><div class="relative grow"><div class="flex flex-col"><h3 class="text-lg font-bold text-gray-800">Final Work</h3> <!></div></div></div></div> <button class="mt-4 text-orange-500">+ Add new milestone</button></div>`);function Te(x,e){J(e,!0);let a=e.props.selectedService,t=q(a.downpayment),b=G(()=>a.milestones.filter(n=>n.payment.enabled&&n.payment.value>=100).length>0);const w=()=>{a.milestones=[...a.milestones,{name:"New Milestone",duration:{value:7,unit:"days",enabled:!1},payment:{value:50,enabled:!1}}]};function T(n){a.milestones=a.milestones.filter((o,c)=>c!==n)}var S=wt(),k=s(i(S),4),p=i(k);ge(p,{get tab(){return t},downpayment:!0});var l=s(p,2);K(l,17,()=>a.milestones,Z,(n,o,c)=>{ge(n,{get tab(){return u(o)},removeSelf:()=>T(c)})});var d=s(l,2),g=i(d),v=i(g),_=s(i(v),2);U(_,()=>!u(b),n=>{var o=yt();m(n,o)},n=>{var o=ht();m(n,o)}),r(v),r(g),r(d),r(k);var y=s(k,2);y.__click=w,r(S),m(x,S),L()}Y(["click"]);var kt=(x,e)=>e()(),St=f('<button class="mr-4 text-red-500 hover:text-red-700">Remove</button>'),Tt=f('<input type="checkbox" id="checkbox-enabled" class="mr-4 h-4 w-4 text-orange-500 focus:ring-orange-500">'),Dt=(x,e)=>O(e,!u(e)),Et=f('<div class="relative grow"><button class="absolute right-2 text-gray-500 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2"><h3 class="text-lg font-bold text-gray-800"> </h3></div></div>'),Ct=(x,e)=>O(e,!u(e)),Ot=f('<div class="flex items-center gap-2"><input type="checkbox" id="global-enabled" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="global-enabled" class="text-sm font-medium text-gray-700">Add this term to global contract (applied when saved)</label></div>'),At=f('<div class="relative grow"><button class="absolute right-2 text-gray-500 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2 pr-16"><input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!> <textarea id="brief" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div></div>'),Mt=f('<div class="flex items-center justify-between rounded-lg border p-4 shadow"><!> <!></div>');function _e(x,e){J(e,!0);let a=Q(e,"tab",7),t=Q(e,"unique",3,!1),b=Q(e,"removeSelf",3,()=>{}),w=F(!1);var T=Mt(),S=i(T);U(S,t,p=>{var l=St();l.__click=[kt,b],m(p,l)},p=>{var l=Tt();R(l),P(()=>V(l,"placeholder",a().enabled)),$(l,()=>a().enabled,d=>a().enabled=d),m(p,l)});var k=s(S,2);U(k,()=>!u(w),p=>{var l=Et(),d=i(l);d.__click=[Dt,w];var g=s(d,2),v=i(g),_=i(v,!0);r(v),r(g),r(l),P(()=>B(_,a().title)),m(p,l)},p=>{var l=At(),d=i(l);d.__click=[Ct,w];var g=s(d,2),v=i(g);R(v);var _=s(v,2);U(_,t,n=>{var o=Ot(),c=i(o);R(c),he(2),r(o),$(c,()=>a().global,h=>a().global=h),m(n,o)});var y=s(_,2);me(y),r(g),r(l),P(()=>{V(v,"placeholder",a().title),V(y,"placeholder",a().details)}),z(v,()=>a().title,n=>a().title=n),z(y,()=>a().details,n=>a().details=n),m(p,l)}),r(T),m(x,T),L()}Y(["click"]);const Pt=(x,e)=>{O(e,q([...u(e),{details:"Details here",title:"New Section",global:!1}]))};var It=f(`<div><h2 class="text-lg font-semibold">Terms Of Service</h2> <h3>Choose sections from your global contract, or add a new term specific to this service. Any
        changes made here to the global terms will be applied for all other services.</h3> <div class="my-4 flex flex-col gap-2"><!> <!></div> <button class=" text-orange-500">+ Add new section...</button></div>`);function De(x,e){var g;J(e,!0);const a=e.props.selectedService,t=((g=se("tos",{},{artistId:a.artistId}))==null?void 0:g.categories)??[];let b=q(t.map(v=>({...v,enabled:a.termsOfService[v.title]}))),w=F(q(a.uniqueTos.map(v=>({...v,global:!1}))));function T(v,_){return _.filter((y,n)=>n!==v)}var S=It(),k=s(i(S),4),p=i(k);K(p,17,()=>b,Z,(v,_)=>{_e(v,{get tab(){return u(_)}})});var l=s(p,2);K(l,17,()=>u(w),Z,(v,_,y)=>{_e(v,{get tab(){return u(_)},unique:!0,removeSelf:()=>{O(w,q(T(y,u(w))))}})}),r(k);var d=s(k,2);d.__click=[Pt,w],r(S),m(x,S),L()}Y(["click"]);var Nt=f('<div class="card-container px-6"><!></div>');function Ut(x,e){let a=[{label:"Overview",value:1,component:ke,props:{selectedService:e.selectedService}},{label:"Service Details",value:2,component:Se,props:{selectedService:e.selectedService}},{label:"Milestones",value:3,component:Te,props:{selectedService:e.selectedService}},{label:"Terms of Service",value:4,component:De,props:{selectedService:e.selectedService}}];var t=Nt(),b=i(t);we(b,{items:a}),r(t),m(x,t)}var jt=(x,e,a)=>e()(a()),Rt=f('<div class="h-3 w-3 rounded-full !bg-white"></div>'),Bt=f("<div></div>"),qt=f('<div class="flex cursor-pointer flex-col items-center"><div><!></div> <p> </p></div> <!>',1),Wt=f('<div class="flex w-full items-center"><div class="relative flex w-full items-center"></div></div>');function Ft(x,e){J(e,!0);const a=(S,k=ae)=>{var p=qt(),l=H(p);l.__click=[jt,t,k];var d=i(l);const g=G(()=>`flex h-6 w-6 items-center justify-center rounded-full ${b(k(),"bg")??""}`);var v=i(d);U(v,()=>e.currentIndex<k(),c=>{var h=Rt();m(c,h)}),r(d);var _=s(d,2);const y=G(()=>`mt-2 text-sm font-medium
              ${b(k(),"text")??""}
        `);var n=i(_,!0);r(_),r(l);var o=s(l,2);U(o,()=>k()!==e.nodeTimeline.length-1,c=>{var h=Bt();const D=G(()=>`mx-2 h-1 flex-1 ${b(k(),"bg")??""}`);P(()=>ve(h,u(D))),m(c,h)}),P(()=>{ve(d,u(g)),ve(_,u(y)),B(n,e.nodeTimeline[k()])}),m(S,p)},t=Q(e,"callback",3,()=>{}),b=(S,k)=>e.currentIndex>=S?`!${k}-orange-500`:`!${k}-gray-500`;var w=Wt(),T=i(w);K(T,21,()=>e.nodeTimeline,Z,(S,k,p)=>{a(S,()=>p)}),r(T),r(w),m(x,w),L()}Y(["click"]);var zt=f("<div><!></div>");function Jt(x,e){J(e,!0);const a=e.props.selectedService,t=e.props.currentArtist;var b=zt(),w=i(b);Be(w,{selectedService:a,currentArtist:t,get artDB(){return a.samples},viewOnly:!0,artViewOnly:!0}),r(b),m(x,b),L()}var Lt=f('<div class="mb-4 card-container px-6"><!></div> <div class="card-container px-6"><!> <!></div>',1);function Vt(x,e){J(e,!0);const a=4;let t=F(0),b=["Overview","Types","Milestones","Terms of Service","Summary"],w=F(q([{label:"Overview",value:1,component:ke,props:{selectedService:e.selectedService},bindable:!0},{label:"Service Details",value:2,component:Se,props:{selectedService:e.selectedService},bindable:!0},{label:"Milestones",value:3,component:Te,props:{selectedService:e.selectedService},bindable:!0},{label:"Terms of Service",value:4,component:De,props:{selectedService:e.selectedService},bindable:!0},{label:"Summary",value:5,component:Jt,props:{selectedService:e.selectedService,currentArtist:e.currentArtist}}]));const T=()=>(fe(t,-1),Math.min(u(t),0)),S=()=>(fe(t),Math.max(u(t),a)),k=o=>{O(t,q(o))};var p=Lt(),l=H(p),d=i(l);Ft(d,{nodeTimeline:b,get currentIndex(){return u(t)},callback:k}),r(l);var g=s(l,2),v=i(g),_=G(()=>u(t)+1);we(v,{get items(){return u(w)},hideTabs:!0,get currentTab(){return u(_)},get bindableItems(){return u(w)},set bindableItems(o){O(w,q(o))},binded:!0});var y=s(v,2),n=G(()=>[u(t),a]);qe(y,{goToPreviousStep:T,proceedToNextStep:S,backwards:"Previous Step",forwards:"Next Step",get indexes(){return u(n)},finalWord:"Publish Service",finalStep:()=>{e.closeEdit()}}),r(g),m(x,p),L()}const Yt=(x,e)=>{confirm("Are you sure you want to delete this service?")&&(e.editOrCreate&&e.removeEntry(e.props.id),e.closeEdit())},Gt=(x,e,a)=>{u(e).state="published",a.addEntry(u(e)),a.closeEdit()};var Qt=f(`<div class="fixed inset-0 z-50 overflow-y-auto"><div class="relative !bg-gray-100"><div class="mb-4 flex w-full justify-between border-b-2 pt-4 pb-2
            px-2 sm:px-6 md:px-8 lg:px-10"><!> <div class="flex"><button class="discard-button"> </button> <button class="save-button mx-4">Publish</button></div></div> <div class="px-2 sm:px-6 md:px-10 lg:px-16 !bg-gray-100 pb-6"><!></div></div></div>`);function xe(x,e){J(e,!0);const a=JSON.parse(JSON.stringify(e.props));let t=F(q({}));const b=()=>{e.editOrCreate?confirm("Are you sure you want to discard your changes?")&&(e.editEntry(a),e.closeEdit()):(e.addEntry(u(t)),e.closeEdit())};if(!e.editOrCreate){const n=e.props.currentArtist,o=se("tos",{artistId:Number(n.id)},{})[0].categories,c=Object.assign({},...o.map(h=>({[h.title]:!0})));O(t,q({id:e.props.id,artistId:n.id,state:"draft",isOpen:!1,title:"Working Title",description:"Working Description",thumbnail:"",samples:[],tags:[],types:[{name:"Sample Name",price:20,type:"currency",description:"Sample Description"}],extras:[],fastDelivery:{enabled:!1,price:50,type:"percentage",duration:3,unit:"days"},commercialUse:{enabled:!1,price:100,type:"percentage"},downpayment:{payment:{value:20,enabled:!1}},milestones:[],termsOfService:c,uniqueTos:[]}))}var w=Qt(),T=i(w),S=i(T),k=i(S),p=G(()=>e.editOrCreate?"Edit Service":"Create Service");Ue(k,{closeEdit:b,includeBorder:!1,get buttonText(){return u(p)}});var l=s(k,2),d=i(l);d.__click=[Yt,e];var g=i(d,!0);r(d);var v=s(d,2);v.__click=[Gt,t,e],r(l),r(S);var _=s(S,2),y=i(_);U(y,()=>e.editOrCreate,n=>{Ut(n,{get closeEdit(){return e.closeEdit},get selectedService(){return e.props}})},n=>{Vt(n,{get closeEdit(){return e.closeEdit},get selectedService(){return u(t)},get currentArtist(){return e.props}})}),r(_),r(T),r(w),P(()=>B(g,e.editOrCreate?"Delete Service":"Discard Draft")),m(x,w),L()}Y(["click"]);var Xt=f('<img alt="Service Missing" class="h-48 w-full rounded-md object-contain">'),Ht=f('<section class="card-container mb-8"><h2 class="mb-4 text-lg font-semibold"> </h2> <div class="service-grid mt-4 grid grid-cols-4 gap-4"><!></div> <!></section>'),Kt=(x,e)=>O(e,!0),Zt=f('<div class="card-island"><div class="mb-4 flex items-center justify-between"><h1 class="page-title">Manage Services</h1> <button class="my-services-button rounded bg-orange-500 px-4 py-2 text-white hover:bg-orange-600">Create New Service</button></div> <!></div>');function ga(x,e){var y,n;J(e,!0);const a=(o,c=ae)=>{var h=Ht(),D=i(h),E=i(D,!0);P(()=>B(E,c()[0].toUpperCase()+c().slice(1))),r(D);var A=s(D,2),C=i(A),j=G(()=>u(t).filter(M=>M.state===c()));Ne(C,{get serviceDB(){return u(j)},viewOnly:!1,currentArtist:!0,callback:k,editEntry:g,removeEntry:d}),r(A);var I=s(A,2);U(I,()=>u(t).filter(M=>M.state===c()).length===0,M=>{var W=Xt();P(()=>V(W,"src",ye("artwork",""))),m(M,W)}),r(h),m(o,h)};let t=F(q((y=e.data)==null?void 0:y.service));const b=(n=e.data)==null?void 0:n.user;let w=F(null),T=F(!1),S=F(!1);const k=o=>{O(w,q(o)),O(T,!0),O(S,!1)},p=()=>{O(T,!1),O(S,!1)},l=o=>{O(t,q([...u(t),o]))},d=o=>{O(t,q(u(t).filter(c=>c.id!==o)))},g=o=>{O(t,q(u(t).map(c=>c.id===o.id?o:c)))};var v=ue(),_=H(v);U(_,()=>u(T),o=>{xe(o,{closeEdit:p,editOrCreate:!0,get props(){return u(w)},addEntry:l,removeEntry:d,editEntry:g})},o=>{var c=ue(),h=H(c);U(h,()=>u(S),D=>{var E=G(()=>({currentArtist:b,id:u(t).length>0?u(t)[u(t).length-1].id+1:1}));xe(D,{closeEdit:p,editOrCreate:!1,get props(){return u(E)},addEntry:l,removeEntry:d,editEntry:g})},D=>{var E=Zt(),A=i(E),C=s(i(A),2);C.__click=[Kt,S],r(A);var j=s(A,2);K(j,16,()=>["published","draft","archived"],Z,(I,M)=>{a(I,()=>M)}),r(E),m(D,E)},!0),m(o,c)}),m(x,v),L()}Y(["click"]);export{ga as component,fa as universal};
