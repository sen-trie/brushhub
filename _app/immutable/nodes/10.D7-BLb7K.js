import{e as be}from"../chunks/index.BnZ_zlD2.js";import{p as oe,c as X,r as le,s as ie,t as ve,k as xe,l as _e}from"../chunks/util.CTWbUTz8.js";import{d as ue,a as g,t as k,g as fe,c as $}from"../chunks/disclose-version.TbKqxNJi.js";import{p as re,s,f as G,c as a,r as t,t as h,g as r,n as de,a as se,b as H,d as l,ak as ye,e as he}from"../chunks/runtime.CHrGdgHD.js";import{p as L,i as J}from"../chunks/if.eqP7gfIA.js";import"../chunks/legacy.DNVwbqOr.js";import{s as w}from"../chunks/render.CZZNUFKP.js";import{e as ee,i as te}from"../chunks/each.DPCLWfUA.js";import{c as ce}from"../chunks/svelte-component.C66VI6fQ.js";import{M as ge}from"../chunks/Milestone.CnrCOJKp.js";import{b as we,a as me}from"../chunks/input.DL2JL8lo.js";import{b as Se}from"../chunks/select.cSFZNQFZ.js";import{p as ke}from"../chunks/props.Cneju1jB.js";import{o as Ce}from"../chunks/index-client.201iklco.js";import{I as Be,C as Pe,S as De}from"../chunks/ServicePage.BFgRi-jO.js";import{B as Ie}from"../chunks/BackButtonArrow.B9ggKK4K.js";const Te=async()=>[{slug:"1"},{slug:"2"}],Me=({params:x})=>{const e=x.slug.toLowerCase(),i=oe("services",{},{id:Number(e)});if(!i)throw be(404,"No matching tag found for your search");return{service:i}},gt=Object.freeze(Object.defineProperty({__proto__:null,entries:Te,load:Me},Symbol.toStringTag,{value:"Module"}));var je=()=>{window.history.back()},Re=k('<button class="mb-4 inline-flex items-center rounded border border-orange-500 px-4 py-2 text-sm font-medium text-orange-500 hover:bg-orange-50">Back</button>');function Oe(x){var e=Re();e.__click=[je],g(x,e)}ue(["click"]);var Ae=k('<details class="rounded-md border p-4"><summary class="text-sm font-semibold"> </summary> <p class="mt-2 text-sm text-gray-500"> </p></details>'),Ne=k('<h2 class="mt-6 text-lg font-semibold">Milestones</h2> <p class="mb-6 text-sm text-gray-500">* Your money will be held and paid to the artist as per the completion of milestones.</p> <!> <h2 class="mt-6 text-lg font-semibold">Terms of Services</h2> <div class="mt-4 space-y-2"></div> <p class="mt-6 text-sm text-gray-500">* By proceeding to the commission, you agree with the proposed milestones and terms of service.</p>',1);function Ee(x,e){var S;re(e,!0);const i=(S=oe("tos",{},{artistId:e.selectedService.artistId}))==null?void 0:S.categories.filter(C=>e.selectedService.termsOfService[C.title]===!0);var m=Ne(),v=s(G(m),4);ge(v,{get selectedService(){return e.selectedService}});var u=s(v,4);ee(u,21,()=>i,te,(C,_)=>{var p=Ae(),b=a(p),I=a(b,!0);t(b);var y=s(b,2),B=a(y,!0);t(y),t(p),h(()=>{w(I,r(_).title),w(B,r(_).details)}),g(C,p)}),t(u),de(2),g(x,m),se()}var Le=k("<option> </option>"),Ue=k('<div class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-orange-500 focus:ring-orange-500"> <label class="ml-2 text-sm text-gray-700" style="user-select: none;"> </label></div>'),We=(x,e)=>{const i=x.target.value;e(i)},Fe=k('<p class="mb-4 text-sm text-red-500"> </p>'),He=k('<div class="grid grid-cols-2 gap-6 p-6 pb-0"><div><div class="mb-4"><label for="type" class="block text-sm font-medium text-gray-700">Type *</label> <select id="type" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></select></div> <div class="mb-4"><label for="extras" class="block text-sm font-medium text-gray-700">Extras</label> <div class="mt-2 space-y-2"></div></div> <div class="mb-4"><label for="brief" class="block text-sm font-medium text-gray-700"> </label> <textarea id="brief" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm" placeholder="Input your brief idea..."></textarea> <div class="mt-2 flex items-center"><span class="mr-2 text-sm text-gray-500">Or</span> <label for="upload-brief" class="cursor-pointer rounded border border-gray-300 px-3 py-1 text-sm text-orange-500 hover:bg-orange-50">Upload your brief</label> <input id="upload-brief" type="file" accept=".txt" class="hidden"></div></div> <div class="mb-4"><label for="deadline" class="block text-sm font-medium text-gray-700">Deadline *</label> <input id="deadline" type="date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></div> <p class="mt-4 text-lg font-bold text-green-600"> </p></div> <div><h3 class="text-sm font-medium text-gray-700">References</h3> <!></div> <!></div>');function Ye(x,e){re(e,!0);let i=ke(e,"commissionChoice",15),m=H(L([])),v=H(""),u=H(""),S=H(""),C=he(()=>ve(e.selectedService,i()));const _=5e3,p=o=>{o.length>_?(l(S,`Brief cannot exceed ${_} characters.`),l(u,L(o.slice(0,_)))):(l(u,L(o)),l(S,""))},b=new Date;b.setDate(b.getDate()+1);const I=b.toISOString().split("T")[0],y=o=>{var d;const n=(d=o.target.files)==null?void 0:d[0];if(!n)return;if(n.type!=="text/plain"){l(S,"Only .txt files are allowed for the brief.");return}const c=new FileReader;c.onload=()=>{const E=c.result;p(E)},c.readAsText(n)},B=o=>{const n=o.target.files;if(n){if(r(m).length+n.length>10){l(v,"You can upload a maximum of 10 images.");return}for(const c of n){if(!c.type.startsWith("image/")){l(v,"Only image files (e.g., jpg, png) are allowed.");return}const d=new FileReader;d.onload=()=>{l(m,L([...r(m),d.result]))},d.readAsDataURL(c)}l(v,"")}},T=o=>{l(m,L(r(m).filter((n,c)=>c!==o)))};Ce(()=>{l(u,L(i().brief)),l(m,L(i().images))}),ye(()=>{i(i().brief=r(u),!0),i(i().images=r(m),!0)});var M=He(),Y=a(M),q=a(Y),j=s(a(q),2);ee(j,21,()=>e.selectedService.types,te,(o,n,c)=>{var d=Le();d.value=(d.__value=c)==null?"":c;var E=a(d);h(()=>w(E,`${r(n).name??""} (${X(r(n).price)??""})`)),t(d),g(o,d)}),t(j),t(q);var P=s(q,2),U=s(a(P),2);ee(U,21,()=>e.selectedService.extras,te,(o,n,c)=>{var d=Ue(),E=a(d);le(E);var Z=s(E,2),ne=a(Z);h(()=>w(ne,`${r(n).name??""} (+${(r(n).type==="percentage"?`${r(n).price} % of base price`:X(r(n).price))??""}
                            )`)),t(Z),t(d),h(()=>{ie(E,"id",r(n).name),ie(Z,"for",r(n).name)}),we(E,()=>i().extras[c],pe=>i(i().extras[c]=pe,!0)),g(o,d)}),t(U),t(P);var R=s(P,2),z=a(R),ae=a(z);t(z);var O=s(z,2);fe(O),O.__input=[We,p];var Q=s(O,2),K=s(a(Q),4);K.__change=y,t(Q),t(R);var W=s(R,2),F=s(a(W),2);le(F),ie(F,"min",I),t(W);var V=s(W,2),D=a(V,!0);h(()=>w(D,X(r(C)))),t(V),t(Y);var f=s(Y,2),A=s(a(f),2);Be(A,{get uploadedImages(){return r(m)},get imageWarningMessage(){return r(v)},removeImage:T,handleImageUpload:B}),t(f);var N=s(f,2);J(N,()=>e.warningMessage,o=>{var n=Fe(),c=a(n,!0);t(n),h(()=>w(c,e.warningMessage)),g(o,n)}),t(M),h(()=>w(ae,`Brief * (${_-r(u).length} characters left)`)),Se(j,()=>i().selectedTier,o=>i(i().selectedTier=o,!0)),me(O,()=>r(u),o=>l(u,o)),me(F,()=>i().deadline,o=>i(i().deadline=o,!0)),g(x,M),se()}ue(["input","change"]);var qe=k('<div><span> </span> <span class="font-medium text-gray-900"> </span></div>'),ze=k('<p class="text-gray-500">No extras selected.</p>'),Ge=k('<img alt="Reference" class="h-32 w-full rounded-md border object-cover">'),Qe=k(`<div class="p-6"><!> <div class="mt-8 grid grid-cols-2 gap-6"><div><div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Type:</span> <span class="font-medium text-gray-900"> </span></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Base Price:</span> <span class="font-medium text-gray-900"> </span></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Extras:</span> <div class="text-right"><!> <!></div></div> <div class="mb-4"><span class="block font-medium text-gray-700">Brief:</span> <textarea readonly="" rows="5" class="mt-1 w-full rounded-md border-gray-300 bg-gray-100 p-2 shadow-sm focus:border-gray-300 focus:ring-0 sm:text-sm"></textarea></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Deadline:</span> <span class="font-medium text-gray-900"> </span></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Add-in Services:</span></div></div> <div><span class="mb-2 block font-medium text-gray-700">References:</span> <div class="grid grid-cols-3 gap-2"></div> <div class="mt-6"><label for="payment-method" class="mb-2 block font-medium text-gray-700">Method</label> <select id="payment-method" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"><option>DBS PayLah</option><option>PayNow</option><option>Credit Card</option></select></div></div></div> <div class="mt-8 flex items-center justify-between"><p class="text-sm text-gray-500">* Your payment will be held until the completion of commission milestones and refunded
            in case of cancellation.</p> <div class="text-right"><p class="mb-2 text-lg font-bold text-green-600"> </p></div></div></div>`);function Xe(x,e){re(e,!0);const i=e.selectedService.types[e.commissionChoice.selectedTier].price,m=ve(e.selectedService,e.commissionChoice),v=e.selectedService.extras.filter((D,f)=>e.commissionChoice.extras[f]).length>0;var u=Qe(),S=a(u);ge(S,{get selectedService(){return e.selectedService}});var C=s(S,2),_=a(C),p=a(_),b=s(a(p),2),I=a(b,!0);t(b),t(p);var y=s(p,2),B=s(a(y),2),T=a(B,!0);h(()=>w(T,X(i))),t(B),t(y);var M=s(y,2),Y=s(a(M),2),q=a(Y);ee(q,17,()=>e.selectedService.extras,te,(D,f,A)=>{var N=$(),o=G(N);J(o,()=>e.commissionChoice.extras[A],n=>{var c=qe(),d=a(c),E=a(d);t(d);var Z=s(d,2),ne=a(Z);h(()=>w(ne,`+${(r(f).type==="percentage"?r(f).price+"% ("+X(Math.round(i*r(f).price/100))+")":X(r(f).price))??""}`)),t(Z),t(c),h(()=>w(E,`${r(f).name??""}:`)),g(n,c)}),g(D,N)});var j=s(q,2);J(j,()=>!v,D=>{var f=ze();g(D,f)}),t(Y),t(M);var P=s(M,2),U=s(a(P),2);fe(U),t(P);var R=s(P,2),z=s(a(R),2),ae=a(z);h(()=>w(ae,`${e.commissionChoice.deadline??""}
                    [${xe(e.commissionChoice.deadline)??""}]`)),t(z),t(R),de(2),t(_);var O=s(_,2),Q=s(a(O),2);ee(Q,21,()=>e.commissionChoice.images,te,(D,f)=>{var A=Ge();h(()=>ie(A,"src",r(f))),g(D,A)}),t(Q),de(2),t(O),t(C);var K=s(C,2),W=s(a(K),2),F=a(W),V=a(F,!0);h(()=>w(V,X(m))),t(F),t(W),t(K),t(u),h(()=>{w(I,e.selectedService.types[e.commissionChoice.selectedTier].name),_e(U,`${e.commissionChoice.brief??""}
                `)}),g(x,u),se()}var Je=k("<!> <!>",1),Ke=k('<div class="fixed inset-0 z-50 overflow-y-auto bg-white"><div class="relative p-6"><!> <div class="space-y-2"><h1 class="text-3xl font-bold"> </h1> <p class="text-sm text-gray-500"> </p></div> <!></div></div>');function Ve(x,e){re(e,!0);let i=H(""),m=H(L({selectedTier:e.tierIndex,extras:e.selectedService.extras.map(j=>!1),brief:"",images:[],deadline:""})),v=H(0),u=[{component:Ee,backwards:"Back to Overview",forwards:"Proceed to Brief"},{component:Ye,backwards:"Back to Type Selection",forwards:"Proceed to Checkout"},{component:Xe,backwards:"Back to Brief",forwards:"Submit Request"}];const S=()=>{if(r(m).brief==="")return l(i,"Please provide a brief for your commission."),!1;if(r(m).deadline==="")return l(i,"Please provide a deadline for your commission."),!1;const j=new Date().setHours(0,0,0,0);return new Date(r(m).deadline).setHours(0,0,0,0)<=j?(l(i,"Deadline must be after today."),!1):(l(i,""),!0)};function C(){r(v)===1&&!S()||r(v)<u.length-1&&l(v,r(v)+1)}function _(){r(v)>0?l(v,r(v)-1):e.closePlaceCommission()}var p=Ke(),b=a(p),I=a(b);Ie(I,{get closeEdit(){return e.closePlaceCommission},buttonText:"Place Commission Request"});var y=s(I,2),B=a(y),T=a(B,!0);t(B);var M=s(B,2),Y=a(M,!0);t(M),t(y);var q=s(y,2);ee(q,17,()=>u,te,(j,P,U)=>{let R=()=>r(P).component,z=()=>r(P).backwards,ae=()=>r(P).forwards;var O=$(),Q=G(O);J(Q,()=>U===r(v),K=>{var W=Je(),F=G(W);J(F,()=>U===1,D=>{var f=$(),A=G(f);ce(A,R,(N,o)=>{o(N,{get selectedService(){return e.selectedService},get warningMessage(){return r(i)},get commissionChoice(){return r(m)},set commissionChoice(n){l(m,L(n))}})}),g(D,f)},D=>{var f=$(),A=G(f);J(A,()=>U===2,N=>{var o=$(),n=G(o);ce(n,R,(c,d)=>{d(c,{get selectedService(){return e.selectedService},get commissionChoice(){return r(m)}})}),g(N,o)},N=>{var o=$(),n=G(o);ce(n,R,(c,d)=>{d(c,{get selectedService(){return e.selectedService}})}),g(N,o)},!0),g(D,f)});var V=s(F,2);Pe(V,{goToPreviousStep:_,proceedToNextStep:C,get backwards(){return z()},get forwards(){return ae()}}),g(K,W)}),g(j,O)}),t(b),t(p),h(()=>{w(T,e.selectedService.title),w(Y,e.currentArtist.displayName)}),g(x,p),se()}var Ze=k('<div><!> <div class="p-6"><!> <!></div></div>');function pt(x,e){re(e,!0);const i=e.data.service,m=oe("artwork",{},{}).filter(T=>i.samples.includes(T.id)),v=oe("user",{},{id:i.artistId});let u=H(!1),S=H(0);function C(T){l(S,L(T)),l(u,!0)}function _(){l(u,!1)}var p=Ze(),b=a(p);J(b,()=>r(u),T=>{Ve(T,{selectedService:i,closePlaceCommission:_,get tierIndex(){return r(S)},currentArtist:v})});var I=s(b,2),y=a(I);Oe(y);var B=s(y,2);De(B,{selectedService:i,artDB:m,currentArtist:v,openPlaceCommission:C}),t(I),t(p),g(x,p),se()}export{pt as component,gt as universal};
