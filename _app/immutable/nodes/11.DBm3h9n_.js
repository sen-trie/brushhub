import{e as be}from"../chunks/index.DMxzPKVy.js";import{p as oe,r as le,s as ie,c as xe}from"../chunks/db.BTs8aeET.js";import{d as ve,a as g,t as k,s as w,r as ue,c as Z}from"../chunks/disclose-version.BEEGi2oI.js";import{p as re,s,f as z,c as r,r as t,t as h,g as a,n as de,a as se,b as F,d as l,u as _e,e as ye}from"../chunks/runtime.C-s0Hq_6.js";import{i as X}from"../chunks/if.DN0dI3wX.js";import{p as E}from"../chunks/proxy.CWL-fuXM.js";import"../chunks/legacy.DR6sBgrP.js";import{e as $,i as ee}from"../chunks/each.Bjkk2cOk.js";import{c as ce}from"../chunks/svelte-component.C2tCgwGE.js";import{M as fe}from"../chunks/Milestone.CeQQvtuZ.js";import{b as he,a as me}from"../chunks/input.Asw2ctPt.js";import{b as we}from"../chunks/select.DqRc-Iyy.js";import{p as Se}from"../chunks/props.BcShvcsW.js";import{o as Ce}from"../chunks/index-client.Brja4PIO.js";import{c as Q,k as ge,d as ke}from"../chunks/util.BSZWymh8.js";import{I as Be,C as Pe,S as De}from"../chunks/ServicePage.jfcJZi-6.js";import{B as Ie}from"../chunks/BackButtonArrow.CrHRm9p3.js";const Te=async()=>[{slug:"1"},{slug:"2"}],Me=({params:_})=>{const e=_.slug.toLowerCase(),i=oe("services",{},{id:Number(e)});if(!i)throw be(404,"No matching tag found for your search");return{service:i}},pt=Object.freeze(Object.defineProperty({__proto__:null,entries:Te,load:Me},Symbol.toStringTag,{value:"Module"}));var je=()=>{window.history.back()},Re=k('<button class="mb-4 inline-flex items-center rounded border border-orange-500 px-4 py-2 text-sm font-medium text-orange-500 hover:bg-orange-50">Back</button>');function Oe(_){var e=Re();e.__click=[je],g(_,e)}ve(["click"]);var Ae=k('<details class="rounded-md border p-4"><summary class="text-sm font-semibold"> </summary> <p class="mt-2 text-sm text-gray-500"> </p></details>'),Ne=k('<h2 class="mt-6 text-lg font-semibold">Milestones</h2> <p class="mb-6 text-sm text-gray-500">* Your money will be held and paid to the artist as per the completion of milestones.</p> <!> <h2 class="mt-6 text-lg font-semibold">Terms of Services</h2> <div class="mt-4 space-y-2"></div> <p class="mt-6 text-sm text-gray-500">* By proceeding to the commission, you agree with the proposed milestones and terms of service.</p>',1);function Ee(_,e){var S;re(e,!0);const i=(S=oe("tos",{},{artistId:e.selectedService.artistId}))==null?void 0:S.categories.filter(B=>e.selectedService.termsOfService[B.title]===!0);var m=Ne(),v=s(z(m),4);fe(v,{get selectedService(){return e.selectedService}});var u=s(v,4);$(u,21,()=>i,ee,(B,y)=>{var p=Ae(),b=r(p),I=r(b,!0);t(b);var C=s(b,2),x=r(C,!0);t(C),t(p),h(()=>{w(I,a(y).title),w(x,a(y).details)}),g(B,p)}),t(u),de(2),g(_,m),se()}var Le=k("<option> </option>"),Ue=k('<div class="flex items-center"><input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-orange-500 focus:ring-orange-500"> <label class="ml-2 text-sm text-gray-700" style="user-select: none;"> </label></div>'),We=(_,e)=>{const i=_.target.value;e(i)},Fe=k('<p class="mb-4 text-sm text-red-500"> </p>'),He=k('<div class="grid grid-cols-2 gap-6 p-6 pb-0"><div><div class="mb-4"><label for="type" class="block text-sm font-medium text-gray-700">Type *</label> <select id="type" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></select></div> <div class="mb-4"><label for="extras" class="block text-sm font-medium text-gray-700">Extras</label> <div class="mt-2 space-y-2"></div></div> <div class="mb-4"><label for="brief" class="block text-sm font-medium text-gray-700"> </label> <textarea id="brief" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm" placeholder="Input your brief idea..."></textarea> <div class="mt-2 flex items-center"><span class="mr-2 text-sm text-gray-500">Or</span> <label for="upload-brief" class="cursor-pointer rounded border border-gray-300 px-3 py-1 text-sm text-orange-500 hover:bg-orange-50">Upload your brief</label> <input id="upload-brief" type="file" accept=".txt" class="hidden"></div></div> <div class="mb-4"><label for="deadline" class="block text-sm font-medium text-gray-700">Deadline *</label> <input id="deadline" type="date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></div> <p class="mt-4 text-lg font-bold text-green-600"> </p></div> <div><h3 class="text-sm font-medium text-gray-700">References</h3> <!></div> <!></div>');function Ye(_,e){re(e,!0);let i=Se(e,"commissionChoice",15),m=F(E([])),v=F(""),u=F(""),S=F(""),B=ye(()=>ge(e.selectedService,i()));const y=5e3,p=o=>{o.length>y?(l(S,`Brief cannot exceed ${y} characters.`),l(u,E(o.slice(0,y)))):(l(u,E(o)),l(S,""))},b=new Date;b.setDate(b.getDate()+1);const I=b.toISOString().split("T")[0],C=o=>{var d;const n=(d=o.target.files)==null?void 0:d[0];if(!n)return;if(n.type!=="text/plain"){l(S,"Only .txt files are allowed for the brief.");return}const c=new FileReader;c.onload=()=>{const N=c.result;p(N)},c.readAsText(n)},x=o=>{const n=o.target.files;if(n){if(a(m).length+n.length>10){l(v,"You can upload a maximum of 10 images.");return}for(const c of n){if(!c.type.startsWith("image/")){l(v,"Only image files (e.g., jpg, png) are allowed.");return}const d=new FileReader;d.onload=()=>{l(m,E([...a(m),d.result]))},d.readAsDataURL(c)}l(v,"")}},te=o=>{l(m,E(a(m).filter((n,c)=>c!==o)))};Ce(()=>{l(u,E(i().brief)),l(m,E(i().images))}),_e(()=>{i(i().brief=a(u),!0),i(i().images=a(m),!0)});var T=He(),H=r(T),Y=r(H),M=s(r(Y),2);$(M,21,()=>e.selectedService.types,ee,(o,n,c)=>{var d=Le();d.value=(d.__value=c)==null?"":c;var N=r(d);h(()=>w(N,`${a(n).name??""} (${Q(a(n).price)??""})`)),t(d),g(o,d)}),t(M),t(Y);var P=s(Y,2),L=s(r(P),2);$(L,21,()=>e.selectedService.extras,ee,(o,n,c)=>{var d=Ue(),N=r(d);le(N);var V=s(N,2),ne=r(V);h(()=>w(ne,`${a(n).name??""} (+${(a(n).type==="percentage"?`${a(n).price} % of base price`:Q(a(n).price))??""}
                            )`)),t(V),t(d),h(()=>{ie(N,"id",a(n).name),ie(V,"for",a(n).name)}),he(N,()=>i().extras[c],pe=>i(i().extras[c]=pe,!0)),g(o,d)}),t(L),t(P);var j=s(P,2),q=r(j),ae=r(q);t(q);var R=s(q,2);ue(R),R.__input=[We,p];var G=s(R,2),J=s(r(G),4);J.__change=C,t(G),t(j);var U=s(j,2),W=s(r(U),2);le(W),ie(W,"min",I),t(U);var K=s(U,2),D=r(K,!0);h(()=>w(D,Q(a(B)))),t(K),t(H);var f=s(H,2),O=s(r(f),2);Be(O,{get uploadedImages(){return a(m)},get imageWarningMessage(){return a(v)},removeImage:te,handleImageUpload:x}),t(f);var A=s(f,2);X(A,()=>e.warningMessage,o=>{var n=Fe(),c=r(n,!0);t(n),h(()=>w(c,e.warningMessage)),g(o,n)}),t(T),h(()=>w(ae,`Brief * (${y-a(u).length} characters left)`)),we(M,()=>i().selectedTier,o=>i(i().selectedTier=o,!0)),me(R,()=>a(u),o=>l(u,o)),me(W,()=>i().deadline,o=>i(i().deadline=o,!0)),g(_,T),se()}ve(["input","change"]);var qe=k('<div><span> </span> <span class="font-medium text-gray-900"> </span></div>'),ze=k('<p class="text-gray-500">No extras selected.</p>'),Ge=k('<img alt="Reference" class="h-32 w-full rounded-md border object-cover">'),Qe=k(`<div class="p-6"><!> <div class="mt-8 grid grid-cols-2 gap-6"><div><div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Type:</span> <span class="font-medium text-gray-900"> </span></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Base Price:</span> <span class="font-medium text-gray-900"> </span></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Extras:</span> <div class="text-right"><!> <!></div></div> <div class="mb-4"><span class="block font-medium text-gray-700">Brief:</span> <textarea readonly="" rows="5" class="mt-1 w-full rounded-md border-gray-300 bg-gray-100 p-2 shadow-sm focus:border-gray-300 focus:ring-0 sm:text-sm"></textarea></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Deadline:</span> <span class="font-medium text-gray-900"> </span></div> <div class="mb-4 flex justify-between"><span class="font-medium text-gray-700">Add-in Services:</span></div></div> <div><span class="mb-2 block font-medium text-gray-700">References:</span> <div class="grid grid-cols-3 gap-2"></div> <div class="mt-6"><label for="payment-method" class="mb-2 block font-medium text-gray-700">Method</label> <select id="payment-method" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"><option>DBS PayLah</option><option>PayNow</option><option>Credit Card</option></select></div></div></div> <div class="mt-8 flex items-center justify-between"><p class="text-sm text-gray-500">* Your payment will be held until the completion of commission milestones and refunded
            in case of cancellation.</p> <div class="text-right"><p class="mb-2 text-lg font-bold text-green-600"> </p></div></div></div>`);function Xe(_,e){re(e,!0);const i=e.selectedService.types[e.commissionChoice.selectedTier].price,m=ge(e.selectedService,e.commissionChoice),v=e.selectedService.extras.filter((D,f)=>e.commissionChoice.extras[f]).length>0;var u=Qe(),S=r(u);fe(S,{get selectedService(){return e.selectedService}});var B=s(S,2),y=r(B),p=r(y),b=s(r(p),2),I=r(b,!0);t(b),t(p);var C=s(p,2),x=s(r(C),2),te=r(x,!0);h(()=>w(te,Q(i))),t(x),t(C);var T=s(C,2),H=s(r(T),2),Y=r(H);$(Y,17,()=>e.selectedService.extras,ee,(D,f,O)=>{var A=Z(),o=z(A);X(o,()=>e.commissionChoice.extras[O],n=>{var c=qe(),d=r(c),N=r(d);t(d);var V=s(d,2),ne=r(V);h(()=>w(ne,`+${(a(f).type==="percentage"?a(f).price+"% ("+Q(Math.round(i*a(f).price/100))+")":Q(a(f).price))??""}`)),t(V),t(c),h(()=>w(N,`${a(f).name??""}:`)),g(n,c)}),g(D,A)});var M=s(Y,2);X(M,()=>!v,D=>{var f=ze();g(D,f)}),t(H),t(T);var P=s(T,2),L=s(r(P),2);ue(L),t(P);var j=s(P,2),q=s(r(j),2),ae=r(q);h(()=>w(ae,`${e.commissionChoice.deadline??""}
                    [${ke(e.commissionChoice.deadline)??""}]`)),t(q),t(j),de(2),t(y);var R=s(y,2),G=s(r(R),2);$(G,21,()=>e.commissionChoice.images,ee,(D,f)=>{var O=Ge();h(()=>ie(O,"src",a(f))),g(D,O)}),t(G),de(2),t(R),t(B);var J=s(B,2),U=s(r(J),2),W=r(U),K=r(W,!0);h(()=>w(K,Q(m))),t(W),t(U),t(J),t(u),h(()=>{w(I,e.selectedService.types[e.commissionChoice.selectedTier].name),xe(L,`${e.commissionChoice.brief??""}
                `)}),g(_,u),se()}var Je=k("<!> <!>",1),Ke=k('<div class="fixed inset-0 z-50 overflow-y-auto bg-white"><div class="relative p-6"><!> <div class="space-y-2"><h1 class="text-3xl font-bold"> </h1> <p class="text-sm text-gray-500"> </p></div> <!></div></div>');function Ve(_,e){re(e,!0);let i=F(""),m=F(E({selectedTier:e.tierIndex,extras:e.selectedService.extras.map(M=>!1),brief:"",images:[],deadline:""})),v=F(0),u=[{component:Ee,backwards:"Back to Overview",forwards:"Proceed to Brief"},{component:Ye,backwards:"Back to Type Selection",forwards:"Proceed to Checkout"},{component:Xe,backwards:"Back to Brief",forwards:"Submit Request"}];const S=()=>{if(a(m).brief==="")return l(i,"Please provide a brief for your commission."),!1;if(a(m).deadline==="")return l(i,"Please provide a deadline for your commission."),!1;const M=new Date().setHours(0,0,0,0);return new Date(a(m).deadline).setHours(0,0,0,0)<=M?(l(i,"Deadline must be after today."),!1):(l(i,""),!0)};function B(){a(v)===1&&!S()||a(v)<u.length-1&&l(v,a(v)+1)}function y(){a(v)>0?l(v,a(v)-1):e.closePlaceCommission()}var p=Ke(),b=r(p),I=r(b);Ie(I,{get closeEdit(){return e.closePlaceCommission},buttonText:"Place Commission Request"});var C=s(I,2),x=r(C),te=r(x,!0);t(x);var T=s(x,2),H=r(T,!0);t(T),t(C);var Y=s(C,2);$(Y,17,()=>u,ee,(M,P,L)=>{let j=()=>a(P).component,q=()=>a(P).backwards,ae=()=>a(P).forwards;var R=Z(),G=z(R);X(G,()=>L===a(v),J=>{var U=Je(),W=z(U);X(W,()=>L===1,D=>{var f=Z(),O=z(f);ce(O,j,(A,o)=>{o(A,{get selectedService(){return e.selectedService},get warningMessage(){return a(i)},get commissionChoice(){return a(m)},set commissionChoice(n){l(m,E(n))}})}),g(D,f)},D=>{var f=Z(),O=z(f);X(O,()=>L===2,A=>{var o=Z(),n=z(o);ce(n,j,(c,d)=>{d(c,{get selectedService(){return e.selectedService},get commissionChoice(){return a(m)}})}),g(A,o)},A=>{var o=Z(),n=z(o);ce(n,j,(c,d)=>{d(c,{get selectedService(){return e.selectedService}})}),g(A,o)},!0),g(D,f)});var K=s(W,2);Pe(K,{goToPreviousStep:y,proceedToNextStep:B,get backwards(){return q()},get forwards(){return ae()}}),g(J,U)}),g(M,R)}),t(b),t(p),h(()=>{w(te,e.selectedService.title),w(H,e.currentArtist.displayName)}),g(_,p),se()}var Ze=k("<div><!> <!> <!></div>");function bt(_,e){re(e,!0);const i=e.data.service,m=oe("artwork",{},{}).filter(x=>i.samples.includes(x.imgSrc)),v=oe("user",{},{id:i.artistId});let u=F(!1),S=F(0);function B(x){l(S,E(x)),l(u,!0)}function y(){l(u,!1)}var p=Ze(),b=r(p);X(b,()=>a(u),x=>{Ve(x,{selectedService:i,closePlaceCommission:y,get tierIndex(){return a(S)},currentArtist:v})});var I=s(b,2);Oe(I);var C=s(I,2);De(C,{selectedService:i,artDB:m,currentArtist:v,openPlaceCommission:B}),t(p),g(_,p),se()}export{bt as component,pt as universal};
