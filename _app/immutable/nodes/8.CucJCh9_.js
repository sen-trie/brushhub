import{e as ie,s as pe}from"../chunks/services._xPLpAwU.js";import{g as be,u as _e,r as A,s as F}from"../chunks/util.CfQX7Olw.js";import"../chunks/disclose-version.Bg9kRutz.js";import{p as z,am as j,k as b,a as L,H as E,s as a,c as r,b as o,t as R,f as ne,n as ue,m as fe}from"../chunks/runtime.Bg64Jrmk.js";import{a as p,t as _,r as oe,d as Y,c as ge}from"../chunks/template.nFEuBT-2.js";import{i as U}from"../chunks/if.GZK3E1Dr.js";import{p as M}from"../chunks/proxy.BIPFQ7So.js";import{S as re}from"../chunks/Services.DXL6yWRd.js";import{T as xe}from"../chunks/Tabs.oHDLI1dt.js";import{a as I,b as Q}from"../chunks/input.odaSXa6_.js";import{I as ye}from"../chunks/ImageSamples.C74ppYSZ.js";import{e as K,i as V}from"../chunks/each.CCMC36rA.js";import{b as J}from"../chunks/select.BtS-QQzV.js";import{s as W}from"../chunks/render.DxcVzlYI.js";import{p as $}from"../chunks/props.Fqppj0pZ.js";import{t as he}from"../chunks/tos.B1OixlxM.js";const we=async()=>[{slug:"hungry_anne"}],ke=({params:x})=>{const t=x.slug.toLowerCase(),e=be(),y=_e.find(v=>v.username===t);if(!y||e.username!==y.username)throw ie(404,"You are not the current artist");const u=pe.filter(v=>v.artistId===Number(y.id));if(!u)throw ie(404,"No matching artist found for your search");return{service:u}},Ct=Object.freeze(Object.defineProperty({__proto__:null,entries:we,load:ke},Symbol.toStringTag,{value:"Module"}));var Se=_('<div><h2 class="text-lg font-semibold">Overview</h2> <div><label for="title" class="block text-sm font-medium">Title</label> <input id="title" type="text" class="mt-1 block w-full border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></div> <div class="mt-4"><label for="description" class="block text-sm font-medium">Description</label> <textarea id="description" rows="4" class="mt-1 block w-full border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div> <div><h3 class="text-sm font-medium text-gray-700">References</h3> <!></div></div>');function De(x,t){z(t,!0);let e=j(M([])),y=j("");const u=t.props.selectedService,v=m=>{const d=m.target.files;if(d){if(b(e).length+d.length>10){E(y,"You can upload a maximum of 10 images.");return}for(const s of d){if(!s.type.startsWith("image/")){E(y,"Only image files (e.g., jpg, png) are allowed.");return}const n=new FileReader;n.onload=()=>{E(e,M([...b(e),n.result]))},n.readAsDataURL(s)}E(y,"")}},w=m=>{E(e,M(b(e).filter((d,s)=>s!==m)))};var T=Se(),h=a(r(T),2),c=a(r(h),2);A(c),o(h);var l=a(h,2),f=a(r(l),2);oe(f),o(l);var g=a(l,2),i=a(r(g),2);ye(i,{get uploadedImages(){return b(e)},get imageWarningMessage(){return b(y)},removeImage:w,handleImageUpload:v}),o(g),o(T),I(c,()=>u.title,m=>u.title=m),I(f,()=>u.description,m=>u.description=m),p(x,T),L()}var Te=(x,t)=>E(t,!b(t)),Pe=_('<h3 class="text-lg font-bold text-gray-800"> </h3>'),Ee=_('<i class="fas text-lg font-bold text-gray-800">(Missing Name)</i>'),Me=_('<p class="text-sm text-gray-500"> </p>'),Ne=_('<i class="fas fa-pencil-alt text-sm text-gray-500">(Missing Description)</i>'),Ue=_('<p class="text-sm font-medium text-gray-900"> </p>'),Ae=_('<i class="fas fa-pencil-alt text-sm text-gray-500">(Missing Price)</i>'),Oe=_('<div class="relative grow"><button class="absolute right-2 top-2 text-gray-500 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2"><!> <!> <!></div></div>'),Ie=(x,t)=>E(t,!b(t)),Re=_('<select class="mt-1 block w-1/2 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>%</option><option>USD</option></select>'),je=_('<div class="relative grow"><button class="absolute right-2 top-2 text-gray-500 hover:text-orange-500">Close</button> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700">Name*</label> <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></div> <div><label class="block text-sm font-medium text-gray-700">Price*</label> <div class="flex items-center gap-2"><input type="number" class="mt-1 block w-1/2 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!></div></div> <div><label class="block text-sm font-medium text-gray-700">Description</label> <textarea class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500" placeholder="Description..."></textarea></div></div></div>'),qe=_('<div class="mb-4 flex items-center justify-between rounded-lg border p-4 shadow"><button class="mr-4 text-red-500 hover:text-red-700">Remove</button> <!></div>');function ce(x,t){z(t,!0);let e=$(t,"tab",7),y=$(t,"extra",3,!1),u=j(!1);var v=qe(),w=r(v);w.__click=function(...h){var c;(c=t.removeSelf)==null||c.apply(this,h)};var T=a(w,2);U(T,()=>!b(u),h=>{var c=Oe(),l=r(c);l.__click=[Te,u];var f=a(l,2),g=r(f);U(g,()=>e().name,d=>{var s=Pe(),n=r(s,!0);o(s),R(()=>W(n,e().name)),p(d,s)},d=>{var s=Ee();p(d,s)});var i=a(g,2);U(i,()=>e().description,d=>{var s=Me(),n=r(s,!0);o(s),R(()=>W(n,e().description)),p(d,s)},d=>{var s=Ne();p(d,s)});var m=a(i,2);U(m,()=>e().price,d=>{var s=Ue(),n=r(s);o(s),R(()=>W(n,`${e().price??""}
                        ${(e().type==="percentage"?"%":"USD")??""}`)),p(d,s)},d=>{var s=Ae();p(d,s)}),o(f),o(c),p(h,c)},h=>{var c=je(),l=r(c);l.__click=[Ie,u];var f=a(l,2),g=r(f),i=a(r(g),2);A(i),o(g);var m=a(g,2),d=a(r(m),2),s=r(d);A(s);var n=a(s,2);U(n,()=>y()===!0,D=>{var N=Re(),O=r(N);O.value=(O.__value="percentage")==null?"":"percentage";var q=a(O);q.value=(q.__value="currency")==null?"":"currency",o(N),J(N,()=>e().type,C=>e().type=C),p(D,N)}),o(d),o(m);var k=a(m,2),S=a(r(k),2);oe(S),o(k),o(f),o(c),R(()=>{F(i,"placeholder",e().name),F(s,"placeholder",e().price)}),I(i,()=>e().name,D=>e().name=D),I(s,()=>e().price,D=>e().price=D),I(S,()=>e().description,D=>e().description=D),p(h,c)}),o(v),p(x,v),L()}Y(["click"]);var Ce=(x,t,e)=>{E(t,M(e(b(t))))},Be=(x,t,e)=>{E(t,M(e(b(t))))},We=_('<div class="p-6"><h2 class="text-lg font-semibold">Types *</h2> <div class="space-y-2"><!> <button class="mt-2 text-orange-500">+ Add new extra...</button></div> <h2 class="mt-8 text-lg font-semibold">Extras</h2> <div class="space-y-2"><!> <button class="mt-2 text-orange-500">+ Add new extra...</button></div> <h2 class="mt-8 text-lg font-semibold">Add-in Services</h2> <div class="space-y-4"><div class="flex items-center space-x-4"><input type="checkbox" id="fast-delivery"> <label for="fast-delivery" class="flex-1">Fast Delivery</label> <input type="number" class="rounded-md border px-2 py-1" placeholder="Duration"> <select class="rounded-md border px-2 py-1"><option>Days</option><option>Weeks</option></select> <input type="number" class="rounded-md border px-2 py-1" placeholder="Price"> <select class="rounded-md border px-2 py-1"><option>%</option><option>USD</option></select></div> <div class="flex items-center space-x-4"><input type="checkbox" id="commercial-use"> <label for="commercial-use" class="flex-1">Commercial Use</label> <input type="number" class="rounded-md border px-2 py-1" placeholder="Price"> <select class="rounded-md border px-2 py-1"><option>%</option><option>USD</option></select></div></div></div>');function Fe(x,t){z(t,!0);const e=t.props.selectedService;let y=j(M([...e.types])),u=j(M([...e.extras])),v=M({...e.fastDelivery}),w=M({...e.commercialUse});const T=P=>[...P,{name:"",value:0,type:"currency",description:""}];function h(P,G){return G.filter((X,me)=>me!==P)}var c=We(),l=a(r(c),2),f=r(l);K(f,17,()=>b(y),V,(P,G,X)=>{ce(P,{get tab(){return b(G)},removeSelf:()=>E(y,M(h(X,b(y))))})});var g=a(f,2);g.__click=[Ce,y,T],o(l);var i=a(l,4),m=r(i);K(m,17,()=>b(u),V,(P,G,X)=>{ce(P,{extra:!0,get tab(){return b(G)},removeSelf:()=>E(u,M(h(X,b(u))))})});var d=a(m,2);d.__click=[Be,u,T],o(i);var s=a(i,4),n=r(s),k=r(n);A(k);var S=a(k,4);A(S);var D=a(S,2),N=r(D);N.value=(N.__value="days")==null?"":"days";var O=a(N);O.value=(O.__value="weeks")==null?"":"weeks",o(D);var q=a(D,2);A(q);var C=a(q,2),H=r(C);H.value=(H.__value="percentage")==null?"":"percentage";var B=a(H);B.value=(B.__value="currency")==null?"":"currency",o(C),o(n);var se=a(n,2),Z=r(se);A(Z);var ee=a(Z,4);A(ee);var te=a(ee,2),ae=r(te);ae.value=(ae.__value="percentage")==null?"":"percentage";var le=a(ae);le.value=(le.__value="currency")==null?"":"currency",o(te),o(se),o(s),o(c),Q(k,()=>v.enabled,P=>v.enabled=P),I(S,()=>v.duration,P=>v.duration=P),J(D,()=>v.unit,P=>v.unit=P),I(q,()=>v.price,P=>v.price=P),J(C,()=>v.type,P=>v.type=P),Q(Z,()=>w.enabled,P=>w.enabled=P),I(ee,()=>w.price,P=>w.price=P),J(te,()=>w.type,P=>w.type=P),p(x,c),L()}Y(["click"]);var $e=(x,t)=>t()(),ze=_('<button class="mr-4 text-red-500 hover:text-red-700">Remove</button>'),Le=(x,t)=>E(t,!b(t)),Ye=_('<h3 class="text-lg font-bold text-gray-800"> <p class="text-sm font-medium text-gray-900"> </p> <p class="text-sm font-medium text-gray-900"> </p></h3>'),He=_('<h3 class="text-lg font-bold text-gray-800">Down Payment <p class="text-sm font-medium text-gray-900"> </p></h3>'),Qe=_('<i class="fas text-lg font-bold text-gray-800">(Missing Name)</i>'),Ge=_('<div class="relative grow"><button class="absolute right-2 top-2 text-gray-500 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2"><!></div></div>'),Je=(x,t)=>E(t,!b(t)),Ke=_('<h3 class="text-lg font-bold text-gray-800">Down Payment</h3>'),Ve=_('<label class="block text-sm font-medium text-gray-700">Name*</label> <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500">',1),Xe=_('<div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-duration" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-duration" class="select-none text-sm text-gray-700">Duration</label> <input type="number" min="0" max="100" class="ml-2 w-16 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <select class="ml-2 w-20 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"><option>days</option><option>weeks</option></select></div>'),Ze=_('<div class="relative grow"><button class="absolute right-2 top-2 text-gray-500 hover:text-orange-500">Close</button> <div class="space-y-4"><div><!></div> <!> <div class="mt-2 flex items-center gap-2"><input type="checkbox" id="checkbox-payment" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="checkbox-payment" class="select-none text-sm text-gray-700">Payment</label> <input type="number" min="0" max="100" class="ml-2 w-16 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <span class="ml-1 text-sm text-gray-700">%</span></div></div></div>'),et=_('<div class="mb-4 flex items-center justify-between rounded-lg border p-4 shadow"><!> <!></div>');function de(x,t){z(t,!0);let e=$(t,"tab",7),y=$(t,"removeSelf",3,()=>{}),u=$(t,"downpayment",3,!1),v=j(!1);var w=et(),T=r(w);U(T,()=>!u(),c=>{var l=ze();l.__click=[$e,y],p(c,l)});var h=a(T,2);U(h,()=>!b(v),c=>{var l=Ge(),f=r(l);f.__click=[Le,v];var g=a(f,2),i=r(g);U(i,()=>e().name,m=>{var d=Ye(),s=r(d),n=a(s),k=r(n,!0);o(n);var S=a(n,2),D=r(S,!0);o(S),o(d),R(()=>{W(s,`${e().name??""} `),W(k,e().payment.enabled?`Pay ${e().payment.value}%`:"No Payment Required"),W(D,e().duration.enabled?` Due within ${e().duration.value} ${e().duration.unit}`:"")}),p(m,d)},m=>{var d=ge(),s=ne(d);U(s,u,n=>{var k=He(),S=a(r(k)),D=r(S,!0);o(S),o(k),R(()=>W(D,e().payment.enabled?`Pay ${e().payment.value}%`:"No Down Payment Required")),p(n,k)},n=>{var k=Qe();p(n,k)},!0),p(m,d)}),o(g),o(l),p(c,l)},c=>{var l=Ze(),f=r(l);f.__click=[Je,v];var g=a(f,2),i=r(g),m=r(i);U(m,u,S=>{var D=Ke();p(S,D)},S=>{var D=Ve(),N=a(ne(D),2);A(N),R(()=>F(N,"placeholder",e().name)),I(N,()=>e().name,O=>e().name=O),p(S,D)}),o(i);var d=a(i,2);U(d,()=>!u(),S=>{var D=Xe(),N=r(D);A(N);var O=a(N,4);A(O);var q=a(O,2),C=r(q);C.value=(C.__value="days")==null?"":"days";var H=a(C);H.value=(H.__value="weeks")==null?"":"weeks",o(q),o(D),R(()=>F(O,"placeholder",e().duration.value)),Q(N,()=>e().duration.enabled,B=>e().duration.enabled=B),I(O,()=>e().duration.value,B=>e().duration.value=B),J(q,()=>e().duration.unit,B=>e().duration.unit=B),p(S,D)});var s=a(d,2),n=r(s);A(n);var k=a(n,4);A(k),ue(2),o(s),o(g),o(l),R(()=>F(k,"placeholder",e().payment.value)),Q(n,()=>e().payment.enabled,S=>e().payment.enabled=S),I(k,()=>e().payment.value,S=>e().payment.value=S),p(c,l)}),o(w),p(x,w),L()}Y(["click"]);var tt=_('<p class="text-sm font-medium text-gray-900">Pay 100%</p>'),at=_('<p class="text-sm font-medium text-gray-900">No Additional Payment Required</p>'),rt=(x,t,e)=>{E(t,M(e(b(t))))},ot=_(`<div class="p-6"><h2 class="text-lg font-semibold">Milestones *</h2> <h3>At least 1 milestone is needed. If there is no other milestone, payment will only be fully
        paid once the final work is approved by the customer. Note that these should only serve as a
        guide for your customers and can be negotiated during the project.</h3> <div class="space-y-2"><!> <!> <div class="mb-4 flex items-center justify-between rounded-lg border p-4 shadow"><div class="relative grow"><div class="flex flex-col gap-2"><h3 class="text-lg font-bold text-gray-800">Final Work</h3> <!></div></div></div> <button class="mt-2 text-orange-500">+ Add new milestone...</button></div></div>`);function st(x,t){z(t,!0);const e=t.props.selectedService;let y=M(e.downpayment),u=j(M([...e.milestones])),v=fe(()=>b(u).filter(n=>n.payment.enabled&&n.payment.value>=100).length>0);const w=n=>[...n,{name:"New Milestone",duration:{value:7,unit:"days",enabled:!1},payment:{value:50,enabled:!1}}];function T(n,k){return k.filter((S,D)=>D!==n)}var h=ot(),c=a(r(h),4),l=r(c);de(l,{get tab(){return y},downpayment:!0});var f=a(l,2);K(f,17,()=>b(u),V,(n,k,S)=>{de(n,{get tab(){return b(k)},removeSelf:()=>E(u,M(T(S,b(u))))})});var g=a(f,2),i=r(g),m=r(i),d=a(r(m),2);U(d,()=>!b(v),n=>{var k=tt();p(n,k)},n=>{var k=at();p(n,k)}),o(m),o(i),o(g);var s=a(g,2);s.__click=[rt,u,w],o(c),o(h),p(x,h),L()}Y(["click"]);var lt=(x,t)=>t()(),it=_('<button class="mr-4 text-red-500 hover:text-red-700">Remove</button>'),nt=_('<input type="checkbox" id="checkbox-enabled" class="mr-4 h-4 w-4 text-orange-500 focus:ring-orange-500">'),ct=(x,t)=>E(t,!b(t)),dt=_('<div class="relative grow"><button class="absolute right-2 top-2 text-gray-500 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2"><h3 class="text-lg font-bold text-gray-800"> </h3></div></div>'),vt=(x,t)=>E(t,!b(t)),ut=_('<div class="flex items-center gap-2"><input type="checkbox" id="global-enabled" class="h-4 w-4 text-orange-500 focus:ring-orange-500"> <label for="global-enabled" class="text-sm font-medium text-gray-700">Add this term to global contract (applied when saved)</label></div>'),mt=_('<div class="relative grow"><button class="absolute right-2 top-2 text-gray-500 hover:text-orange-500">Edit</button> <div class="flex flex-col gap-2"><input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"> <!> <textarea id="brief" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"></textarea></div></div>'),pt=_('<div class="mb-4 flex items-center justify-between rounded-lg border p-4 shadow"><!> <!></div>');function ve(x,t){z(t,!0);let e=$(t,"tab",7),y=$(t,"unique",3,!1),u=$(t,"removeSelf",3,()=>{}),v=j(!1);var w=pt(),T=r(w);U(T,y,c=>{var l=it();l.__click=[lt,u],p(c,l)},c=>{var l=nt();A(l),R(()=>F(l,"placeholder",e().enabled)),Q(l,()=>e().enabled,f=>e().enabled=f),p(c,l)});var h=a(T,2);U(h,()=>!b(v),c=>{var l=dt(),f=r(l);f.__click=[ct,v];var g=a(f,2),i=r(g),m=r(i,!0);o(i),o(g),o(l),R(()=>W(m,e().title)),p(c,l)},c=>{var l=mt(),f=r(l);f.__click=[vt,v];var g=a(f,2),i=r(g);A(i);var m=a(i,2);U(m,y,s=>{var n=ut(),k=r(n);A(k),ue(2),o(n),Q(k,()=>e().global,S=>e().global=S),p(s,n)});var d=a(m,2);oe(d),o(g),o(l),R(()=>{F(i,"placeholder",e().title),F(d,"placeholder",e().details)}),I(i,()=>e().title,s=>e().title=s),I(d,()=>e().details,s=>e().details=s),p(c,l)}),o(w),p(x,w),L()}Y(["click"]);const bt=(x,t)=>{E(t,M([...b(t),{details:"Details here",title:"New Section",global:!1}]))};var _t=_(`<div class="p-6"><h2 class="text-lg font-semibold">Terms Of Service</h2> <h3>Choose sections from your global contract, or add a new term specific to this service. Any
        changes made here to the global terms will be applied for all other services.</h3> <div class="mt-4 flex flex-col gap-4"><!> <!></div> <button class="mt-2 text-orange-500">+ Add new section...</button></div>`);function ft(x,t){var g;z(t,!0);const e=t.props.selectedService,y=((g=he.find(i=>i.artistId===e.artistId))==null?void 0:g.categories)??[];let u=M(y.map(i=>({...i,enabled:e.termsOfService[i.title]}))),v=j(M(e.uniqueTos.map(i=>({...i,global:!1}))));function w(i,m){return m.filter((d,s)=>s!==i)}var T=_t(),h=a(r(T),4),c=r(h);K(c,17,()=>u,V,(i,m)=>{ve(i,{get tab(){return b(m)}})});var l=a(c,2);K(l,17,()=>b(v),V,(i,m,d)=>{ve(i,{get tab(){return b(m)},unique:!0,removeSelf:()=>{E(v,M(w(d,b(v))))}})}),o(h);var f=a(h,2);f.__click=[bt,v],o(T),p(x,T),L()}Y(["click"]);var gt=_('<div class="fixed inset-0 z-50 overflow-y-auto bg-white"><div class="relative p-6"><button class="mb-4 flex items-center space-x-2 text-sm font-bold text-orange-500" aria-label="Back"><i class="fas fa-arrow-left"></i> <span>Back</span></button> <!></div></div>');function xt(x,t){let e=[{label:"Overview",value:1,component:De,props:{selectedService:t.selectedService}},{label:"Service Details",value:2,component:Fe,props:{selectedService:t.selectedService}},{label:"Milestones",value:3,component:st,props:{selectedService:t.selectedService}},{label:"Terms of Service",value:4,component:ft,props:{selectedService:t.selectedService}}];var y=gt(),u=r(y),v=r(u);v.__click=function(...T){var h;(h=t.closeEdit)==null||h.apply(this,T)};var w=a(v,2);xe(w,{items:e}),o(u),o(y),p(x,y)}Y(["click"]);var yt=_('<div class="overview-container p-4"><section class="mb-8"><h2 class="mb-4 text-lg font-semibold">Published</h2> <!></section> <section class="mb-8"><h2 class="mb-4 text-lg font-semibold">Archived</h2> <!></section> <section class="mb-8"><h2 class="mb-4 text-lg font-semibold">Draft</h2> <!></section></div>'),ht=_("<div><!></div>");function Bt(x,t){var h;z(t,!0);const e=(h=t.data)==null?void 0:h.service;let y=j(null),u=j(!1);const v=c=>{E(y,M(c)),E(u,!0)};var w=ht(),T=r(w);U(T,()=>b(u),c=>{xt(c,{closeEdit:()=>E(u,!1),get selectedService(){return b(y)}})},c=>{var l=yt(),f=r(l),g=a(r(f),2);re(g,{serviceDB:e,filter:"published",viewOnly:!1,callback:v}),o(f);var i=a(f,2),m=a(r(i),2);re(m,{serviceDB:e,filter:"archived",viewOnly:!1,callback:v}),o(i);var d=a(i,2),s=a(r(d),2);re(s,{serviceDB:e,filter:"draft",viewOnly:!1,callback:v}),o(d),o(l),p(c,l)}),o(w),p(x,w),L()}export{Bt as component,Ct as universal};
