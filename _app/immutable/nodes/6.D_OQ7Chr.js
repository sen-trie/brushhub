import{e as q}from"../chunks/index.CruOtk0E.js";import{g as C}from"../chunks/util.DaP6gxzo.js";import{p as d}from"../chunks/db.j2E7rg9Z.js";import{c as w,h as j,a as h,t as y}from"../chunks/disclose-version.BE_RHt7t.js";import{p as O,b as f,j as B,a as D,$ as R,g as m,d as c,s as T,c as V,r as $}from"../chunks/runtime.CN-Xrd-W.js";import{i as k}from"../chunks/if.DakFUcz9.js";import{p as l}from"../chunks/proxy.D0RktEAV.js";import{C as x,V as I}from"../chunks/CommissionOrderTab.D1CF7KPL.js";const M=!1,S=async()=>[{slug:"hungry_anne"}],U=({params:p})=>{const a=p.slug.toLowerCase(),o=C(),t=d("user",{},{username:a});if(!t||o.username!==t.username)throw q(404,"Not Found");let r=d("request",{customerId:t.id},{});return r=r.map(n=>({...n,service:d("services",{},{id:n.serviceId})})),{request:r}},Y=Object.freeze(Object.defineProperty({__proto__:null,entries:S,load:U,ssr:M},Symbol.toStringTag,{value:"Module"}));var z=y('<div class="card-island"><h1 class="page-title mb-4">Your Commissions</h1> <!></div>');function G(p,a){var v;O(a,!0);let o=f(l((v=a.data)==null?void 0:v.request)),t=f(l({})),r=f(!1);const n=e=>{c(r,!0),c(t,l(e))},b=(e,s)=>{if(!e&&!confirm("Are you sure you want to reject this request? This action cannot be undone."))return;const i=s.service.milestones.map(u=>({approval:null,name:u.name,date:null,feedback:"",sample:[]}));e?s.state={value:"active",progress:i}:s.state={value:"rejected",progress:i},c(o,l(m(o).map(u=>u.id===s.id?s:u)))};var g=w();j(e=>{R.title="BrushHub - Manage Commissions"});var _=B(g);k(_,()=>m(r),e=>{I(e,{closeRequest:()=>c(r,!1),get request(){return m(t)},artistView:!0,editEntry:b})},e=>{var s=z(),i=T(V(s),2);x(i,{commissionOrOrder:!0,get requestDB(){return m(o)},openRequest:n}),$(s),h(e,s)}),h(p,g),D()}export{G as component,Y as universal};
