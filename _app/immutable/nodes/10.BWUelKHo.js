import{e as K}from"../chunks/index.D5fZukMd.js";import{p as h,s as C,g as U,w as L}from"../chunks/db.CoitI51B.js";import{d as W,a as u,t as p,s as b}from"../chunks/disclose-version.CO6q0Qfh.js";import{p as x,s as z,u as y,b as k,g as o,a as M,f as N,d as v,c as i,t as _,r as s}from"../chunks/runtime.DMxaCD9P.js";import{p as g}from"../chunks/proxy.Dv8l_DbE.js";import{T as X}from"../chunks/Tabs.DuVLDXOk.js";import{B as Y}from"../chunks/Browse.BOUL-GHN.js";import{i as T}from"../chunks/if.CoD_4mrj.js";import{e as Z,i as $}from"../chunks/each.DPKI_RZ5.js";import{s as ee}from"../chunks/class.DBFJk8qm.js";import{s as te,a as re}from"../chunks/store.BFnuxyNy.js";import{n as ae}from"../chunks/util.Cz9rOmTz.js";import{p as se}from"../chunks/stores.UvzRrkDz.js";import{S as oe}from"../chunks/Services.DjlUmkIL.js";const ie=async()=>[{slug:"anime"},{slug:"3d"}],ne=({params:n})=>{const e=n.slug.toLowerCase(),t=h("tags",{},{name:r=>r.name.toLowerCase()===e});if(!t)throw K(404,"No matching tag found for your search");const d=h("artwork",{tags:r=>r.tags.includes(t.name)},{}),a=h("artist",{tags:r=>r.tags.includes(t.name)},{}).map(r=>{const m=h("user",{},{id:r.id});return{...r,...m}}),l=h("services",{tags:r=>r.tags.includes(t.name)},{});return{artwork:d,artist:a,service:l,searchQuery:e}},Qe=Object.freeze(Object.defineProperty({__proto__:null,entries:ie,load:ne},Symbol.toStringTag,{value:"Module"}));function le(n,e){x(e,!0);let t=z(g(e.props[0].artwork));y(()=>{M(t,g(e.props[0].artwork))}),Y(n,{get artDB(){return o(t)}}),k()}var ce=p('<span class="rounded-full bg-red-500 px-3 py-1 text-sm font-semibold text-white">Closed</span>'),ve=(n,e,t)=>{ae(`./profile/${o(e).username}`,t().url.pathname)},de=p('<div><div class="flex items-center"><img alt="Artist avatar" class="mr-4 h-16 w-16 rounded-full border border-gray-300 object-cover"> <div><div class="flex items-center space-x-2"><h3 class="text-lg font-bold"> </h3> <!></div> <p class="text-sm text-gray-500"> </p> <p class="text-sm font-medium text-gray-700"> </p></div></div> <div class="mx-4 max-w-sm text-sm text-gray-700"> </div> <button class="flex items-center gap-2 rounded-md border border-blue-500 px-4 py-2 text-sm font-medium text-blue-500 hover:bg-blue-50"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" class="h-4 w-4"><path d="M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8zm0-2C5.92 2 2 5.92 2 12s3.92 10 10 10 10-3.92 10-10S18.08 2 12 2zm2 10v2H10v-2H8v-2h2V8h2v2h2v2h-2z" fill="currentColor"></path></svg> View Page</button></div>'),me=p('<img alt="Artist Missing" class="h-48 w-full rounded-md object-contain">'),ue=p('<div class="space-y-4"></div> <!>',1);function ge(n,e){x(e,!0);const t=te(),d=()=>re(se,"$page",t);let a=z(g(e.props[0].artist));y(()=>{M(a,g(e.props[0].artist))});var l=ue(),r=N(l);Z(r,21,()=>o(a),$,(f,c,O)=>{var w=de();ee(w,`flex items-center justify-between rounded-lg border bg-white p-4 shadow-sm ${(O===0?"bg-blue-50":"")??""}`);var S=i(w),Q=i(S);_(()=>C(Q,"src",U("dp",o(c).avatar)));var F=v(Q,2),B=i(F),D=i(B),P=i(D,!0);s(D);var V=v(D,2);T(V,()=>!o(c).openCommission,I=>{var J=ce();u(I,J)}),s(B);var j=v(B,2),R=i(j);s(j);var H=v(j,2),q=i(H);s(H),s(F),s(S);var A=v(S,2),E=i(A,!0);s(A);var G=v(A,2);G.__click=[ve,c,d],s(w),_(()=>{b(P,o(c).displayName),b(R,`@${o(c).username??""}`),b(q,`${o(c).artFollowers??""} Followers`),b(E,o(c).bio)}),u(f,w)}),s(r);var m=v(r,2);T(m,()=>o(a).length===0,f=>{var c=me();_(()=>C(c,"src",L("artwork",""))),u(f,c)}),u(n,l),k()}W(["click"]);var pe=p('<img alt="Service Missing" class="h-48 w-full rounded-md object-contain">'),fe=p('<div class="service-grid grid grid-cols-4 gap-4"><!></div> <!>',1);function he(n,e){x(e,!0);let t=z(g(e.props[0].service));y(()=>{M(t,g(e.props[0].service))});var d=fe(),a=N(d),l=i(a);oe(l,{get serviceDB(){return o(t)}}),s(a);var r=v(a,2);T(r,()=>o(t).length===0,m=>{var f=pe();_(()=>C(f,"src",L("artwork",""))),u(m,f)}),u(n,d),k()}var be=p('<div><h1 class="mb-4 text-2xl font-bold"> </h1> <!></div>');function Fe(n,e){x(e,!0);let t=g(e.data.searchQuery),d=[{label:"Artworks",value:1,component:le,props:[e.data]},{label:"Artists",value:2,component:ge,props:[e.data]},{label:"Services",value:3,component:he,props:[e.data]}];y(()=>{e.data.searchQuery!==t&&window.location.reload()});var a=be(),l=i(a),r=i(l);s(l);var m=v(l,2);X(m,{items:d}),s(a),_(()=>b(r,`Search Results: "${t??""}"`)),u(n,a),k()}export{Fe as component,Qe as universal};
